var e=[(e,t,i)=>{i.d(t,{a:()=>le,b:()=>ce,c:()=>x,d:()=>pt,e:()=>it,f:()=>V,g:()=>ze,h:()=>Je,i:()=>We,j:()=>pe,k:()=>K,l:()=>Z,m:()=>ye,n:()=>rt,o:()=>J,p:()=>Ce,q:()=>at,r:()=>qe,s:()=>he,t:()=>mt,u:()=>_e,v:()=>et,w:()=>R,x:()=>k,y:()=>Ie,z:()=>xe,A:()=>Ge,B:()=>Fe,C:()=>Ne,D:()=>Q,E:()=>Pe,F:()=>Ee,G:()=>C,H:()=>Le,I:()=>we,J:()=>$,K:()=>q,L:()=>$e,M:()=>je,N:()=>Re,O:()=>me,P:()=>fe,Q:()=>ge,R:()=>D,S:()=>He,T:()=>De,V:()=>ae,U:()=>Ze,W:()=>oe,Y:()=>se,X:()=>de,Z:()=>te,_:()=>Te,$:()=>Ye,ab:()=>ne,bb:()=>re,cb:()=>Me,db:()=>ke,eb:()=>ie,fb:()=>Ve,gb:()=>H,hb:()=>G,ib:()=>L,jb:()=>W,kb:()=>dt,lb:()=>nt,nb:()=>P,mb:()=>j,ob:()=>E,pb:()=>U,qb:()=>tt,rb:()=>Ke,sb:()=>X,tb:()=>Ue,ub:()=>Oe,vb:()=>st,wb:()=>ot,xb:()=>ct,yb:()=>lt,zb:()=>Se,Ab:()=>N,Bb:()=>O,Cb:()=>Ae,Db:()=>Be,Eb:()=>M,Fb:()=>be,Gb:()=>ve,Hb:()=>Xe});var a=i(2);function n(e){var t,i,a;if(Array.isArray(e)){for(i=Array(t=e.length);t--;)i[t]=(a=e[t])&&"object"==typeof a?n(a):a;return i}if("[object Object]"===Object.prototype.toString.call(e)){for(t in i={},e)"__proto__"===t?Object.defineProperty(i,t,{value:n(e[t]),configurable:!0,enumerable:!0,writable:!0}):i[t]=(a=e[t])&&"object"==typeof a?n(a):a;return i}return e}var r=i(4),o=i(6),s=i(10),d=i(16),l=i(5),p="String",c="Function",m="Number",u="Object",b="Boolean",f=Object.prototype.toString;let g,y=Boolean(window.console),h=Boolean(y&&window.console.log),v=Boolean(y&&window.console.info),_=Boolean(y&&window.console.warn),I=Boolean(y&&window.console.error);const w=(0,d.a)();function x(e){g=e}function T(...e){null!=g&&g(...e)}const D={checkCookieSupport:ze,createTrackPixelIframeHtml:function(e,t=!0,i=""){return e?(t&&(e=encodeURI(e)),i&&(i=`sandbox="${i}"`),`<iframe ${i} id="${C()}"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="${e}">\n    </iframe>`):""},getWindowSelf:$,getWindowTop:q,canAccessWindowTop:V,getWindowLocation:F,insertUserSyncIframe:ge,insertElement:me,isFn:te,triggerPixel:be,logError:H,logWarn:W,logMessage:L,logInfo:G,parseQS:Qe,formatQS:et,deepEqual:at};var A,S=(A=0,function(){return++A});function C(){return S()+Math.random().toString(16).substr(2)}function R(e){return e?(e^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,R)}function k(e,t){return t?.[e]||""}function E(e){let t="";for(var i in e)e.hasOwnProperty(i)&&(t+=i+"="+encodeURIComponent(e[i])+"&");return t=t.replace(/&$/,""),t}function M(e){return e&&Object.getOwnPropertyNames(e).length>0?Object.keys(e).map((t=>`${t}=${encodeURIComponent(e[t])}`)).join("&"):""}function O(e){return"string"==typeof e?e.split(/\s*,\s*/).map((e=>e.match(/^(\d+)x(\d+)$/i))).filter((e=>e)).map((([e,t,i])=>[parseInt(t,10),parseInt(i,10)])):Array.isArray(e)?z(e)?[e]:e.filter(z):[]}function U(e){return O(e).map(B)}function B(e){return e[0]+"x"+e[1]}function P(e){if(z(e))return B(e)}function N(e){return{w:e[0],h:e[1]}}function j(e){if(z(e))return N(e)}function z(e){return ae(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}function q(){return window.top}function $(){return window.self}function F(){return window.location}function V(){try{if(D.getWindowTop().location.href)return!0}catch(e){return!1}}function L(){J()&&h&&console.log.apply(console,Y(arguments,"MESSAGE:"))}function G(){J()&&v&&console.info.apply(console,Y(arguments,"INFO:"))}function W(){J()&&_&&console.warn.apply(console,Y(arguments,"WARNING:")),T(o.EVENTS.AUCTION_DEBUG,{type:"WARNING",arguments})}function H(){J()&&I&&console.error.apply(console,Y(arguments,"ERROR:")),T(o.EVENTS.AUCTION_DEBUG,{type:"ERROR",arguments})}function X(e){function t(t){return function(...i){t(e,...i)}}return{logError:t(H),logWarn:t(W),logMessage:t(L),logInfo:t(G)}}function Y(e,t){e=[].slice.call(e);let i=a.config.getCurrentBidder();return t&&e.unshift(t),i&&e.unshift(n("#aaa")),e.unshift(n("#3b88c3")),e.unshift("%cPrebid"+(i?`%c${i}`:"")),e;function n(e){return`display: inline-block; color: #fff; background: ${e}; padding: 1px 4px; border-radius: 3px;`}}function J(){return!!a.config.getConfig("debug")}const K=(()=>{const e={border:"0px",hspace:"0",vspace:"0",marginWidth:"0",marginHeight:"0",scrolling:"no",frameBorder:"0",allowtransparency:"true"};return(t,i,a={})=>{const n=t.createElement("iframe");return Object.assign(n,Object.assign({},e,i)),Object.assign(n.style,a),n}})();function Z(){return K(document,{id:C(),width:0,height:0,src:"about:blank"},{display:"none",height:"0px",width:"0px",border:"0px"})}function Q(e){return Qe(F().search)[e]||""}function ee(e,t){return f.call(e)==="[object "+t+"]"}function te(e){return ee(e,c)}function ie(e){return ee(e,p)}const ae=Array.isArray.bind(Array);function ne(e){return ee(e,m)}function re(e){return ee(e,u)}function oe(e){return ee(e,b)}function se(e){return!e||(ae(e)||ie(e)?!(e.length>0):Object.keys(e).length<=0)}function de(e){return ie(e)&&(!e||0===e.length)}function le(e,t){if(te(e?.forEach))return e.forEach(t,this);Object.entries(e||{}).forEach((([e,i])=>t.call(this,i,e)))}function pe(e,t){return te(e?.includes)&&e.includes(t)}function ce(e,t){return te(e?.map)?e.map(t):Object.entries(e||{}).map((([i,a])=>t(a,i,e)))}function me(e,t,i,a){let n;t=t||document,n=i?t.getElementsByTagName(i):t.getElementsByTagName("head");try{if(n=n.length?n:t.getElementsByTagName("body"),n.length){n=n[0];let t=a?null:n.firstChild;return n.insertBefore(e,t)}}catch(e){}}function ue(e,t){let i=null;return new s.a((a=>{const n=function(){e.removeEventListener("load",n),e.removeEventListener("error",n),null!=i&&window.clearTimeout(i),a()};e.addEventListener("load",n),e.addEventListener("error",n),null!=t&&(i=window.setTimeout(n,t))}))}function be(e,t,i){const a=new Image;t&&D.isFn(t)&&ue(a,i).then(t),a.src=e}function fe(e){if(!e)return;const t=Z();var i;D.insertElement(t,document,"body"),(i=t.contentWindow.document).open(),i.write(e),i.close()}function ge(e,t,i){let a=D.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),n=document.createElement("div");n.innerHTML=a;let r=n.firstChild;t&&D.isFn(t)&&ue(r,i).then(t),D.insertElement(r,document,"html",!0)}function ye(e,t=encodeURI){if(!e)return"";let i='<div style="position:absolute;left:0px;top:0px;visibility:hidden;">';return i+='<img src="'+t(e)+'"></div>',i}function he(e){return Array.from(e.matchAll(/\$({[^}]+})/g)).map((e=>e[1])).reduce(((e,t)=>e.replace("$"+encodeURIComponent(t),"$"+t)),encodeURI(e))}function ve(e,t,i){return i.indexOf(e)===t}function _e(e,t){return e.concat(t)}function Ie(e,t){if(e)return t.flatMap((e=>e.bids)).find((t=>["bidId","adId","bid_id"].some((i=>t[i]===e))))}function we(e,t){return e[t]}function xe(e=w.adUnits){return e.map((e=>e.bids.map((e=>e.bidder)).reduce(_e,[]))).reduce(_e,[]).filter((e=>void 0!==e)).filter(ve)}function Te(){if(window.googletag&&te(window.googletag.pubads)&&te(window.googletag.pubads().getSlots))return!0}function De(){if(window.apntag&&te(window.apntag.getTag))return!0}const Ae=(e,t)=>t.cpm-e.cpm;function Se(e){let t=e.length;for(;t>0;){let i=Math.floor(Math.random()*t);t--;let a=e[t];e[t]=e[i],e[i]=a}return e}function Ce(e){return n(e)||{}}function Re(){try{return D.getWindowSelf()!==D.getWindowTop()}catch(e){return!0}}function ke(){if(!Re())return!1;const e=D.getWindowSelf();return!(!e.$sf||!e.$sf.ext)}function Ee(){try{const e=$();return"function"==typeof e.$sf.ext.geom?e.$sf.ext.geom():void 0}catch(e){return void H("Error getting SafeFrame geometry",e)}}function Me(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)}function Oe(e,t){if(e)return Object.entries(t).reduce(((e,[t,i])=>e.replace(new RegExp("\\$\\{"+t+"\\}","g"),i||"")),e)}function Ue(e,t){return Oe(e,{AUCTION_PRICE:t})}function Be(){return(new Date).getTime()}function Pe(){return window.performance&&window.performance.now&&window.performance.now()||0}function Ne(e){let t=-1;const i=(e=e||$()).performance;if(e.performance?.timing&&e.performance.timing.navigationStart>0){const e=i.timing.domLoading-i.timing.navigationStart;e>0&&(t=e)}return t}function je(){return!1!==a.config.getConfig("deviceAccess")}function ze(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}function qe(e,t){if(t<1)throw new Error(`numRequiredCalls must be a positive number. Got ${t}`);let i=0;return function(){i++,i===t&&e.apply(this,arguments)}}function $e(e,t){return e.reduce((function(e,i){return(e[i[t]]=e[i[t]]||[]).push(i),e}),{})}function Fe(e,t){return t.filter((t=>e[t])).reduce(((t,i)=>Object.assign(t,{[i]:e[i]})),{})}function Ve(e){const t=["banner","native","video"];return!!Object.keys(e).every((e=>(0,r.c)(t,e)))&&(!e.video||!e.video.context||(0,r.c)(["instream","outstream","adpod"],e.video.context))}function Le(e,t,i){return e.filter((e=>e.code===t)).flatMap((e=>e.bids)).filter((e=>e.bidder===i)).map((e=>e.params||{}))}function Ge(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack}const We=(e,t)=>e.getAdUnitPath()===t||e.getSlotElementId()===t;function He(e){return t=>We(e,t)}function Xe(e,t){const i=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return`\n    ${e.code} is a ${i} ad unit\n    containing bidders that don't support ${i}: ${t}.\n    This bidder won't fetch demand.\n  `}const Ye=Number.isInteger.bind(Number);function Je(e){return Object.fromEntries(Object.entries(e).filter((([e,t])=>void 0!==t)))}function Ke(e,t){return"object"!=typeof e?{}:t.reduce(((i,a,n)=>{if("function"==typeof a)return i;let r=a,o=a.match(/^(.+?)\sas\s(.+?)$/i);o&&(a=o[1],r=o[2]);let s=e[a];return"function"==typeof t[n+1]&&(s=t[n+1](s,i)),void 0!==s&&(i[r]=s),i}),{})}function Ze(e,t){return ae(e)&&(!t||e.length===t)&&e.every((e=>Ye(e)))}function Qe(e){return e?e.replace(/^\?/,"").split("&").reduce(((e,t)=>{let[i,a]=t.split("=");return/\[\]$/.test(i)?(i=i.replace("[]",""),e[i]=e[i]||[],e[i].push(a)):e[i]=a||"",e}),{}):{}}function et(e){return Object.keys(e).map((t=>Array.isArray(e[t])?e[t].map((e=>`${t}[]=${e}`)).join("&"):`${t}=${e[t]}`)).join("&")}function tt(e,t){let i=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?i.href=e:i.href=decodeURIComponent(e);let a=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:i.href,protocol:(i.protocol||"").replace(/:$/,""),hostname:i.hostname,port:+i.port,pathname:i.pathname.replace(/^(?!\/)/,"/"),search:a?i.search:D.parseQS(i.search||""),hash:(i.hash||"").replace(/^#/,""),host:i.host||window.location.host}}function it(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?`:${e.port}`:""))+(e.pathname||"")+(e.search?`?${D.formatQS(e.search||"")}`:"")+(e.hash?`#${e.hash}`:"")}function at(e,t,{checkTypes:i=!1}={}){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t||i&&e.constructor!==t.constructor)return!1;{const a=Object.keys(e);if(a.length!==Object.keys(t).length)return!1;for(let n of a){if(!t.hasOwnProperty(n))return!1;if(!at(e[n],t[n],{checkTypes:i}))return!1}return!0}}function nt(e,...t){if(!t.length)return e;const i=t.shift();if(re(e)&&re(i))for(const t in i)re(i[t])?(e[t]||Object.assign(e,{[t]:{}}),nt(e[t],i[t])):ae(i[t])?e[t]?ae(e[t])&&i[t].forEach((i=>{let a=1;for(let n=0;n<e[t].length;n++)if(at(e[t][n],i)){a=0;break}a&&e[t].push(i)})):Object.assign(e,{[t]:[...i[t]]}):Object.assign(e,{[t]:i[t]});return nt(e,...t)}function rt(e,t=0){let i=function(e,t){if(te(Math.imul))return Math.imul(e,t);var i=(4194303&e)*(t|=0);return 4290772992&e&&(i+=(4290772992&e)*t|0),0|i},a=3735928559^t,n=1103547991^t;for(let t,r=0;r<e.length;r++)t=e.charCodeAt(r),a=i(a^t,2654435761),n=i(n^t,1597334677);return a=i(a^a>>>16,2246822507)^i(n^n>>>13,3266489909),n=i(n^n>>>16,2246822507)^i(a^a>>>13,3266489909),(4294967296*(2097151&n)+(a>>>0)).toString()}function ot(e){try{return JSON.parse(e)}catch(e){}}function st(e){try{return JSON.stringify(e)}catch(e){return""}}function dt(e,t=function(e){return e}){const i=new Map,a=function(){const a=t.apply(this,arguments);return i.has(a)||i.set(a,e.apply(this,arguments)),i.get(a)};return a.clear=i.clear.bind(i),a}function lt(e,t){Object.entries(t).forEach((([t,i])=>e.setAttribute(t,i)))}function pt(e,t,i=(e=>e)){let a=0,n=e.length&&e.length-1;const r=i(t);for(;n-a>1;){const t=a+Math.round((n-a)/2);r>i(e[t])?a=t:n=t}for(;e.length>a&&r>i(e[a]);)a++;return a}function ct(e,t){for(let i,a=0;a<e.length;a++)if(i=(0,l.a)(e[a],t),i)return i}function mt(e){let t=null;try{let i=/[-\w]+\.([-\w]+|[-\w]{3,}|[-\w]{1,3}\.[-\w]{2})$/i.exec(e);if(null!=i&&i.length>0){t=i[0];for(let e=1;e<i.length;e++)i[e].length>t.length&&(t=i[e])}}catch(e){t=null}return t}},(e,t,i)=>{i.d(t,{a:()=>v,b:()=>b,c:()=>p,d:()=>f,e:()=>s,f:()=>m,g:()=>c,h:()=>g,i:()=>o,j:()=>r,k:()=>n,l:()=>d,m:()=>u,n:()=>y,o:()=>h,p:()=>_,q:()=>l,r:()=>a});const a=e=>void 0===e,n=e=>null===e,r=e=>n(e)||a(e),o=e=>!r(e),s=e=>"boolean"==typeof e,d=e=>"number"==typeof e&&!isNaN(e),l=e=>"string"==typeof e,p=e=>Array.isArray(e),c=e=>"function"==typeof e,m=e=>e instanceof Date,u=e=>"object"==typeof e&&!p(e)&&!n(e),b=(e,t)=>p(e)&&e.every(t),f=(e,t)=>b(e,t)||t(e),g=(e,t)=>i=>e(i,t),y=(e,t)=>a(e)||t(e),h=(e,t)=>u(e)&&Object.values(e).every(t),v=(e,...t)=>t.some((t=>t===e)),_=e=>b(e,d)&&2===e.length},(e,t,i)=>{i.d(t,{a:()=>p,config:()=>f});var a=i(80),n=i(4),r=i(0),o=i(5),s=i(6);const d="TRUE"===(0,r.D)(s.b).toUpperCase(),l={},p="random",c={};c[p]=!0,c.fixed=!0;const m=p,u={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"};function b(e,t=!0){const i=t?{priceGranularity:u.MEDIUM,customPriceBucket:{},mediaTypePriceGranularity:{},bidderSequence:m,auctionOptions:{}}:{};function o(e){return i[e]}function s(t,a){i.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0}),i[t]=a}const d={publisherDomain:{set(e){null!=e&&(0,r.jb)("publisherDomain is deprecated and has no effect since v7 - use pageUrl instead"),s("publisherDomain",e)}},priceGranularity:{set(e){p(e)&&("string"==typeof e?s("priceGranularity",l(e)?e:u.MEDIUM):(0,r.bb)(e)&&(s("customPriceBucket",e),s("priceGranularity",u.CUSTOM),(0,r.ib)("Using custom price granularity")))}},customPriceBucket:{},mediaTypePriceGranularity:{set(e){null!=e&&s("mediaTypePriceGranularity",Object.keys(e).reduce(((t,i)=>(p(e[i])?"string"==typeof e?t[i]=l(e[i])?e[i]:o("priceGranularity"):(0,r.bb)(e)&&(t[i]=e[i],(0,r.ib)(`Using custom price granularity for ${i}`)):(0,r.jb)(`Invalid price granularity for media type: ${i}`),t)),{}))}},bidderSequence:{set(e){c[e]?s("bidderSequence",e):(0,r.jb)(`Invalid order: ${e}. Bidder Sequence was not set.`)}},auctionOptions:{set(e){(function(e){if(!(0,r.bb)(e))return(0,r.jb)("Auction Options must be an object"),!1;for(let t of Object.keys(e)){if("secondaryBidders"!==t&&"suppressStaleRender"!==t)return(0,r.jb)(`Auction Options given an incorrect param: ${t}`),!1;if("secondaryBidders"===t){if(!(0,r.V)(e[t]))return(0,r.jb)(`Auction Options ${t} must be of type Array`),!1;if(!e[t].every(r.eb))return(0,r.jb)(`Auction Options ${t} must be only string`),!1}else if("suppressStaleRender"===t&&!(0,r.W)(e[t]))return(0,r.jb)(`Auction Options ${t} must be of type boolean`),!1}return!0})(e)&&s("auctionOptions",e)}}};return Object.defineProperties(e,Object.fromEntries(Object.entries(d).map((([e,t])=>[e,Object.assign({get:o.bind(null,e),set:s.bind(null,e),enumerable:i.hasOwnProperty(e),configurable:!i.hasOwnProperty(e)},t)])))),e;function l(e){return(0,n.b)(Object.keys(u),(t=>e===u[t]))}function p(e){if(!e)return(0,r.gb)("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if("string"==typeof e)l(e)||(0,r.jb)("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if((0,r.bb)(e)&&!(0,a.b)(e))return(0,r.gb)("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0}}const f=function(){let e,t,i,a=[],s=null;function p(){e={};let a=b({debug:d,bidderTimeout:3e3,enableSendAllBids:!0,useBidCache:!1,deviceAccess:!0,disableAjaxTimeout:!1,maxNestedIframes:10,maxBid:5e3,userSync:{topics:l}});t&&h(Object.keys(t).reduce(((e,i)=>(t[i]!==a[i]&&(e[i]=a[i]||{}),e)),{})),t=a,i={}}function c(){if(s&&i&&(0,r.bb)(i[s])){let e=i[s];const a=new Set(Object.keys(t).concat(Object.keys(e)));return(0,n.a)(a).reduce(((i,a)=>(void 0===e[a]?i[a]=t[a]:void 0===t[a]?i[a]=e[a]:(0,r.bb)(e[a])?i[a]=(0,r.lb)({},t[a],e[a]):i[a]=e[a],i)),{})}return Object.assign({},t)}const[m,u]=[c,function(){const e=c();return Object.defineProperty(e,"ortb2",{get:function(){throw new Error("invalid access to 'orbt2' config - use request parameters instead")}}),e}].map((e=>function(...t){if(t.length<=1&&"function"!=typeof t[0]){const i=t[0];return i?(0,o.a)(e(),i):c()}return function(e,t,i={}){let n=t;if("string"!=typeof e&&(n=e,e="*",i=t||{}),"function"!=typeof n)return void(0,r.gb)("listener must be a function");const o={topic:e,callback:n};return a.push(o),i.init&&n("*"===e?u():{[e]:u(e)}),function(){a.splice(a.indexOf(o),1)}}(...t)})),[f,g]=[u,m].map((e=>function(...t){let i=e(...t);return i&&"object"==typeof i&&(i=(0,r.p)(i)),i}));function y(i){if(!(0,r.bb)(i))return void(0,r.gb)("setConfig options must be an object");let a=Object.keys(i),n={};a.forEach((a=>{let o=i[a];(0,r.bb)(e[a])&&(0,r.bb)(o)&&(o=Object.assign({},e[a],o));try{n[a]=t[a]=o}catch(e){(0,r.jb)(`Cannot set config for property ${a} : `,e)}})),h(n)}function h(e){const t=Object.keys(e);a.filter((e=>(0,n.c)(t,e.topic))).forEach((t=>{t.callback({[t.topic]:e[t.topic]})})),a.filter((e=>"*"===e.topic)).forEach((t=>t.callback(e)))}function v(e,t=!1){try{!function(e){if(!(0,r.bb)(e))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(e.bidders)||!e.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!(0,r.bb)(e.config))throw"setBidderConfig bidder options must contain a config object"}(e),e.bidders.forEach((a=>{i[a]||(i[a]=b({},!1)),Object.keys(e.config).forEach((n=>{let o=e.config[n];const s=i[a][n];if((0,r.bb)(o)&&(null==s||(0,r.bb)(s))){const e=t?r.lb:Object.assign;i[a][n]=e({},s||{},o)}else i[a][n]=o}))}))}catch(e){(0,r.gb)(e)}}function _(e,t){s=e;try{return t()}finally{I()}}function I(){s=null}return p(),{getCurrentBidder:function(){return s},resetBidder:I,getConfig:u,getAnyConfig:m,readConfig:f,readAnyConfig:g,setConfig:y,mergeConfig:function(e){if(!(0,r.bb)(e))return void(0,r.gb)("mergeConfig input must be an object");const t=(0,r.lb)(c(),e);return y({...t}),t},setDefaults:function(i){(0,r.bb)(e)?(Object.assign(e,i),Object.assign(t,i)):(0,r.gb)("defaults must be an object")},resetConfig:p,runWithBidder:_,callbackWithBidder:function(e){return function(t){return function(...i){if("function"==typeof t)return _(e,t.bind(this,...i));(0,r.jb)("config.callbackWithBidder callback is not a function")}}},setBidderConfig:v,getBidderConfig:function(){return i},mergeBidderConfig:function(e){return v(e,!0)}}}()},(e,t,i)=>{i.d(t,{a:()=>s});var a=i(74),n=i(30),r=i(107);const o=i(108).a.value,s=new a.b("HUBVISOR","wrapper",(()=>{const e=[];return o&&e.push(o),n.f&&e.push(r.a),e})())},(e,t,i)=>{function a(e,t,i){return e&&e.includes(t,i)||!1}function n(){return Array.from.apply(Array,arguments)}function r(e,t,i){return e&&e.find(t,i)}i.d(t,{a:()=>n,b:()=>r,c:()=>a})},(e,t,i)=>{function a(e,t,i,a,n){for(t=t.split?t.split("."):t,a=0;a<t.length;a++)e=e?e[t[a]]:n;return e===n?i:e}i.d(t,{a:()=>a})},(e,t,i)=>{i.d(t,{AD_RENDER_FAILED_REASON:()=>s,EVENTS:()=>o,MESSAGES:()=>_,a:()=>b,b:()=>n,c:()=>c,d:()=>d,e:()=>l,f:()=>a,g:()=>y,h:()=>h,i:()=>v,j:()=>m,k:()=>I,l:()=>g,m:()=>f,n:()=>r,o:()=>u,p:()=>p});const a={PL_CODE:"code",PL_SIZE:"sizes",PL_BIDS:"bids",BD_BIDDER:"bidder",BD_ID:"paramsd",BD_PL_ID:"placementId",ADSERVER_TARGETING:"adserverTargeting",BD_SETTING_STANDARD:"standard"},n="pbjs_debug",r={GOOD:1},o={AUCTION_INIT:"auctionInit",AUCTION_TIMEOUT:"auctionTimeout",AUCTION_END:"auctionEnd",BID_ADJUSTMENT:"bidAdjustment",BID_TIMEOUT:"bidTimeout",BID_REQUESTED:"bidRequested",BID_RESPONSE:"bidResponse",BID_REJECTED:"bidRejected",NO_BID:"noBid",SEAT_NON_BID:"seatNonBid",BID_WON:"bidWon",BIDDER_DONE:"bidderDone",BIDDER_ERROR:"bidderError",SET_TARGETING:"setTargeting",BEFORE_REQUEST_BIDS:"beforeRequestBids",BEFORE_BIDDER_HTTP:"beforeBidderHttp",REQUEST_BIDS:"requestBids",ADD_AD_UNITS:"addAdUnits",AD_RENDER_FAILED:"adRenderFailed",AD_RENDER_SUCCEEDED:"adRenderSucceeded",TCF2_ENFORCEMENT:"tcf2Enforcement",AUCTION_DEBUG:"auctionDebug",BID_VIEWABLE:"bidViewable",STALE_RENDER:"staleRender",BILLABLE_EVENT:"billableEvent",BID_ACCEPTED:"bidAccepted",RUN_PAAPI_AUCTION:"paapiRunAuction",PBS_ANALYTICS:"pbsAnalytics",PAAPI_BID:"paapiBid",PAAPI_NO_BID:"paapiNoBid",PAAPI_ERROR:"paapiError"},s={PREVENT_WRITING_ON_MAIN_DOCUMENT:"preventWritingOnMainDocument",NO_AD:"noAd",EXCEPTION:"exception",CANNOT_FIND_AD:"cannotFindAd",MISSING_DOC_OR_ADID:"missingDocOrAdid"},d={bidWon:"adUnitCode"},l={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},p={BIDDER:"hb_bidder",AD_ID:"hb_adid",PRICE_BUCKET:"hb_pb",SIZE:"hb_size",DEAL:"hb_deal",SOURCE:"hb_source",FORMAT:"hb_format",UUID:"hb_uuid",CACHE_ID:"hb_cache_id",CACHE_HOST:"hb_cache_host",ADOMAIN:"hb_adomain",ACAT:"hb_acat",CRID:"hb_crid",DSP:"hb_dsp"},c={BIDDER:"hb_bidder",AD_ID:"hb_adid",PRICE_BUCKET:"hb_pb",SIZE:"hb_size",DEAL:"hb_deal",FORMAT:"hb_format",UUID:"hb_uuid",CACHE_HOST:"hb_cache_host"},m={title:"hb_native_title",body:"hb_native_body",body2:"hb_native_body2",privacyLink:"hb_native_privacy",privacyIcon:"hb_native_privicon",sponsoredBy:"hb_native_brand",image:"hb_native_image",icon:"hb_native_icon",clickUrl:"hb_native_linkurl",displayUrl:"hb_native_displayurl",cta:"hb_native_cta",rating:"hb_native_rating",address:"hb_native_address",downloads:"hb_native_downloads",likes:"hb_native_likes",phone:"hb_native_phone",price:"hb_native_price",salePrice:"hb_native_saleprice",rendererUrl:"hb_renderer_url",adTemplate:"hb_adTemplate"},u={SRC:"s2s",DEFAULT_ENDPOINT:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",SYNCED_BIDDERS_KEY:"pbjsSyncs"},b={BID_TARGETING_SET:"targetingSet",RENDERED:"rendered",BID_REJECTED:"bidRejected"},f={INVALID:"Bid has missing or invalid properties",INVALID_REQUEST_ID:"Invalid request ID",BIDDER_DISALLOWED:"Bidder code is not allowed by allowedAlternateBidderCodes / allowUnknownBidderCodes",FLOOR_NOT_MET:"Bid does not meet price floor",CANNOT_CONVERT_CURRENCY:"Unable to convert currency",DSA_REQUIRED:"Bid does not provide required DSA transparency info",DSA_MISMATCH:"Bid indicates inappropriate DSA rendering method",PRICE_TOO_HIGH:"Bid price exceeds maximum value"},g={body:"desc",body2:"desc2",sponsoredBy:"sponsored",cta:"ctatext",rating:"rating",address:"address",downloads:"downloads",likes:"likes",phone:"phone",price:"price",salePrice:"saleprice",displayUrl:"displayurl"},y={sponsored:1,desc:2,rating:3,likes:4,downloads:5,price:6,saleprice:7,phone:8,address:9,desc2:10,displayurl:11,ctatext:12},h={ICON:1,MAIN:3},v=["privacyIcon","clickUrl","sendTargetingKeys","adTemplate","rendererUrl","type"],_={REQUEST:"Prebid Request",RESPONSE:"Prebid Response",NATIVE:"Prebid Native",EVENT:"Prebid Event"},I="__pb_locator__"},(e,t,i)=>{i.d(t,{a:()=>l,b:()=>o,c:()=>c,d:()=>d,e:()=>m,f:()=>u});var a=i(72),n=i.n(a),r=i(10);let o=n()({ready:n().SYNC|n().ASYNC|n().QUEUE});const s=(0,r.b)();o.ready=(()=>{const e=o.ready;return function(){try{return e.apply(o,arguments)}finally{s.resolve()}}})();const d=s.promise,l=o.get,p={};function c(e,t,{postInstallAllowed:i=!1}={}){o("async",(function(a){a.forEach((e=>t(...e))),i&&(p[e]=t)}),e)([])}function m(e,...t){const i=p[e];if(i)return i(...t);l(e).before(((e,i)=>{i.push(t),e(i)}))}function u(e,t){return Object.defineProperties(t,Object.fromEntries(["before","after","getHooks","removeAll"].map((t=>[t,{get:()=>e[t]}])))),t}},(e,t,i)=>{i.d(t,{a:()=>n,b:()=>r,c:()=>o});var a=i(1);const n={adserverTimeout:90,onDisplayCallback:91,onDisplayOrDfpRefresh:92,onAmpRendering:93,onAdditionalTargetings:94,onParallaxInvalidParameters:95,onRtcRendering:96,onCustomNativeRendering:97,bypassGamRenderError:98,doubleRenderError:99,publisherPlacementsBuildError:666,autorefreshError:700,customInsertionPointNotFound:829,beamError:900,unexpected:1e3,nativeCriteoBidNotFound:1001,nativeAdserverPlacementInvalid:1002,overrideRenderFormatFailed:1003,noNativeRenderer:1004,noSkinRenderer:1005,skinFrameNullDocument:1006,skinPageWrapNotFound:1007,skinPageContentNotFound:1008,skinDomElementNotFound:1009,unsupportedRenderableContent:1010,iframeDocumentNotFound:1011,iasResponseValidationFailed:1012,sandboxHostFrameWindowNotAvailable:1013,sandboxHostRenderWithoutChannel:1014,safeframeHostFrameWindowNotAvailable:1015,sandboxClientPlacementIdNotFound:1016,consentManagementError:1017,noNativePayload:1018,overrideRichMediaOptionsFailed:1019,overrideDisplayFormatFailed:1020,generateNativeOrtbRequestFailed:1022,customRichMediaNullDocument:1023,customRichMediaPageWrapNotFound:1024,customRichMediaTargetElementNotUsable:1025,renderingFailed:1049,amazonRenderingFailed:1050,elementMeasurementFailed:2001,publisherConfigNotFound:3e3,contextNotProvided:3001,currencyRateNotFound:3002,remoteConfigurationNotFound:3003,videoWrapperDivNotFound:4200,vastContentNotFound:4201,outstreamPlayerLoadingFailed:4202,noPublisherIdForVimp:4203,outstreamPlayerError:4204,instreamCacheServiceRequestError:5e3,instreamConfigurationError:5001,instreamCacheIdMissing:5003,amazonCpmMappingError:6e3,secondChanceError:8e3,visitsProviderError:9e3};class r extends Error{code;source;constructor(e,t,i){i?super(i):t instanceof Error?super(t.message):super(t),this.code=e,t instanceof Error&&(this.source=t),(0,a.g)(Error.captureStackTrace)?Error.captureStackTrace(this,this.constructor):this.stack=new Error(i).stack}}class o extends r{secondaryCode;constructor(e,t,i){super(e,t),this.secondaryCode="unknown",(0,a.m)(t)&&(0,a.m)(t.j)?(this.message=`IMA Vast error - ${t.j.errorCode} - ${t.j.type}: ${t.j.innerError??t.j.errorMessage} - VAST: ${i}`,((0,a.q)(t.j.errorCode)||(0,a.l)(t.j.errorCode))&&(this.secondaryCode=`${t.j.errorCode}`)):this.message=`Vast error: ${t instanceof Error?t:JSON.stringify(t)} - VAST: ${i}`}}},(e,t,i)=>{i.d(t,{a:()=>te});var a=i(0),n=i(5),r=i(80),o=i(26),s=i(36),d=i(2);function l(e,{index:t=te.index}={}){const i=e.vastXml?e.vastXml:`<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA[${e.vastUrl}]]></VASTAdTagURI>\n        ${(a=(a=e.vastImpUrl)&&(Array.isArray(a)?a:[a]))?a.map((e=>`<Impression><![CDATA[${e}]]></Impression>`)).join(""):""}\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>`;var a;const n=t.getAuction(e);let r={type:"xml",value:i,ttlseconds:Number(e.ttl)+15};return d.config.getConfig("cache.vasttrack")&&(r.bidder=e.bidder,r.bidid=e.requestId,r.aid=e.auctionId),null!=n&&(r.timestamp=n.getAuctionStart()),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(r.key=e.customCacheKey),r}function p(e){const t=e.map((e=>e.bidResponse));!function(e,t,i=s.a){const a={puts:e.map(l)};i(d.config.getConfig("cache.timeout"))(d.config.getConfig("cache.url"),function(e){return{success:function(t){let i;try{i=JSON.parse(t).responses}catch(t){return void e(t,[])}i?e(null,i):e(new Error("The cache server didn't respond with a responses property."),[])},error:function(t,i){e(new Error(`Error storing video ad in the cache: ${t}: ${JSON.stringify(i)}`),[])}}}(t),JSON.stringify(a),{contentType:"text/plain",withCredentials:!0})}(t,(function(i,n){var r;i?(r=i,(0,a.gb)(`Failed to save to the video cache: ${r}. Video bids will be discarded:`,t)):e.length!==n.length?(0,a.gb)(`expected ${e.length} cache IDs, got ${n.length} instead`):n.forEach(((t,i)=>{const{auctionInstance:n,bidResponse:r,afterBidAdded:o}=e[i];var s;""===t.uuid?(0,a.jb)("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."):(r.videoCacheKey=t.uuid,r.vastUrl||(r.vastUrl=(s=r.videoCacheKey,`${d.config.getConfig("cache.url")}?uuid=${s}`)),z(n,r),o())}))}))}let c,m;d.config.getConfig("cache",(e=>{c="number"==typeof e.cache.batchSize&&e.cache.batchSize>0?e.cache.batchSize:1,m="number"==typeof e.cache.batchTimeout&&e.cache.batchTimeout>0?e.cache.batchTimeout:0}));const u=((e=setTimeout,t=p)=>{let i=[[]],a=!1;const n=e=>e();return function(r,o,s){const d=m>0?e:n;i[i.length-1].length>=c&&i.push([]),i[i.length-1].push({auctionInstance:r,bidResponse:o,afterBidAdded:s}),a||(a=!0,d((()=>{i.forEach(t),i=[[]],a=!1}),m))}})();var b=i(48),f=i(47),g=i(7),y=i(4),h=i(46),v=i(35),_=i(20),I=i(15),w=i(18),x=i(6),T=i(10),D=i(19),A=i(86),S=i(16);const{syncUsers:C}=f.userSync,R="completed";I.on(x.EVENTS.BID_ADJUSTMENT,(function(e){!function(e){let t=(0,A.a)(e.cpm,e);t>=0&&(e.cpm=t)}(e)}));const k={},E={},M=[],O=(0,S.a)();function U({adUnits:e,adUnitCodes:t,callback:i,cbTimeout:s,labels:l,auctionId:p,ortb2Fragments:c,metrics:m}){m=(0,D.d)(m);const u=e,f=l,g=t,_=p||(0,a.w)(),A=s,S=new Set,U=(0,T.b)();let F,V,L,G,W=[],H=i,X=[],Y=[],K=[],Z=[],Q=[];function ee(){return{auctionId:_,timestamp:F,auctionEnd:V,auctionStatus:G,adUnits:u,adUnitCodes:g,labels:f,bidderRequests:X,noBids:K,bidsReceived:Y,bidsRejected:W,winningBids:Z,timeout:A,metrics:m,seatNonBids:Q}}function ie(t){if(t?I.emit(x.EVENTS.AUCTION_TIMEOUT,ee()):clearTimeout(L),void 0===V){let i=[];t&&((0,a.ib)(`Auction ${_} timedOut`),i=X.filter((e=>!S.has(e.bidderRequestId))).flatMap((e=>e.bids)),i.length&&I.emit(x.EVENTS.BID_TIMEOUT,i)),G=R,V=Date.now(),m.checkpoint("auctionEnd"),m.timeBetween("requestBids","auctionEnd","requestBids.total"),m.timeBetween("callBids","auctionEnd","requestBids.callBids"),U.resolve(),I.emit(x.EVENTS.AUCTION_END,ee()),j(u,(function(){try{if(null!=H){const e=Y.filter((e=>g.includes(e.adUnitCode))).reduce(J,{});H.apply(O,[e,t,_]),H=null}}catch(e){(0,a.gb)("Error executing bidsBackHandler",null,e)}finally{i.length&&w.a.callTimedOutBidders(e,i,A);let t=d.config.getConfig("userSync")||{};t.enableOverride||C(t.syncDelay)}}))}}function ae(){d.config.resetBidder(),(0,a.hb)(`Bids Received for Auction with id: ${_}`,Y),G=R,ie(!1)}function ne(e){S.add(e)}function re(e){e.forEach((e=>{var t;t=e,X=X.concat(t)}));let t={},i={bidRequests:e,run:()=>{L=setTimeout((()=>ie(!0)),A),G="inProgress",I.emit(x.EVENTS.AUCTION_INIT,ee());let i=function(e,t,{index:i=te.index}={}){let s=0,l=!1,p=new Set,c={};function m(){s--,l&&0===s&&e()}function u(e,t,i){return c[t.requestId]=!0,function(e,t,{index:i=te.index}={}){const n=i.getBidderRequest(e),r=i.getAdUnit(e),o=n&&n.start||e.requestTimestamp;Object.assign(e,{responseTimestamp:e.responseTimestamp||(0,a.Db)(),requestTimestamp:e.requestTimestamp||o,cpm:parseFloat(e.cpm)||0,bidder:e.bidder||e.bidderCode,adUnitCode:t}),null!=r?.ttlBuffer&&(e.ttlBuffer=r.ttlBuffer),e.timeToRespond=e.responseTimestamp-e.requestTimestamp}(t,e),s++,i(m)}function f(e,s){u(e,s,(e=>{let l=function(e,{index:t=te.index}={}){I.emit(x.EVENTS.BID_ADJUSTMENT,e);const i=t.getBidRequest(e)?.renderer||t.getAdUnit(e).renderer,a=e.mediaType,n=t.getMediaTypes(e),o=n&&n[a];var s=o&&o.renderer,l=null;s&&s.url&&s.render&&(!0!==s.backupOnly||!e.renderer)?l=s:i&&i.url&&i.render&&(!0!==i.backupOnly||!e.renderer)&&(l=i),l&&(e.renderer=b.a.install({url:l.url,config:l.options}),e.renderer.setRender(l.render));const p=$(e.mediaType,n,d.config.getConfig("mediaTypePriceGranularity")),c=(0,r.a)(e.cpm,"object"==typeof p?p:d.config.getConfig("customPriceBucket"),d.config.getConfig("currency.granularityMultiplier"));return e.pbLg=c.low,e.pbMg=c.med,e.pbHg=c.high,e.pbAg=c.auto,e.pbDg=c.dense,e.pbCg=c.custom,e}(s);I.emit(x.EVENTS.BID_ACCEPTED,l),l.mediaType===v.d?function(e,t,i,{index:r=te.index}={}){let o=!0;const s=(0,n.a)(r.getMediaTypes({requestId:t.originalRequestId||t.requestId,adUnitId:t.adUnitId}),"video"),l=s&&(0,n.a)(s,"context"),p=s&&(0,n.a)(s,"useCacheKey");d.config.getConfig("cache.url")&&(p||l!==h.c)&&(!t.videoCacheKey||d.config.getConfig("cache.ignoreBidderCacheKey")?(o=!1,q(e,t,i,s)):t.vastUrl||((0,a.gb)("videoCacheKey specified but not required vastUrl for video bid"),o=!1)),o&&(z(e,t),i())}(t,l,e):((0,o.h)(l)&&(0,o.k)(l,i.getAdUnit(l)),z(t,l),e())}))}function g(e,i,n){return u(e,i,(e=>{i.rejectionReason=n,(0,a.jb)(`Bid from ${i.bidder||"unknown bidder"} was rejected: ${n}`,i),I.emit(x.EVENTS.BID_REJECTED,i),t.addBidRejected(i),e()}))}function _(){let i=t.getBidRequests();const n=d.config.getConfig("auctionOptions");if(p.add(this),n&&!(0,a.Y)(n)){const e=n.secondaryBidders;e&&!i.every((t=>(0,y.c)(e,t.bidderCode)))&&(i=i.filter((t=>!(0,y.c)(e,t.bidderCode))))}l=i.every((e=>p.has(e))),this.bids.forEach((e=>{c[e.bidId]||(t.addNoBid(e),I.emit(x.EVENTS.NO_BID,e))})),l&&0===s&&e()}return{addBidResponse:function(){function e(e,t){B.call({dispatch:f},e,t,(()=>{let i=!1;return a=>{i||(g(e,t,a),i=!0)}})())}return e.reject=g,e}(),adapterDone:function(){P(T.a.resolve()).finally((()=>_.call(this)))}}}(ae,this);w.a.callBids(u,e,i.addBidResponse,i.adapterDone,{request(e,i){l(k,i),l(t,e),E[e]||(E[e]={SRA:!0,origin:i}),t[e]>1&&(E[e].SRA=!1)},done(e){k[e]--,M[0]&&s(M[0])&&M.shift()}},A,ne,c)}};function s(e){let t=!0,i=d.config.getConfig("maxRequestsPerOrigin")||4;return e.bidRequests.some((e=>{let a=1,n=void 0!==e.src&&e.src===x.o.SRC?"s2s":e.bidderCode;return E[n]&&(!1===E[n].SRA&&(a=Math.min(e.bids.length,i)),k[E[n].origin]+a>i&&(t=!1)),!t})),t&&e.run(),t}function l(e,t){void 0===e[t]?e[t]=1:e[t]++}s(i)||((0,a.jb)("queueing auction due to limited endpoint capacity"),M.push(i))}return I.on(x.EVENTS.SEAT_NON_BID,(e=>{var t;e.auctionId===_&&(t=e.seatnonbid,Q=Q.concat(t))})),{addBidReceived:function(e){Y=Y.concat(e)},addBidRejected:function(e){W=W.concat(e)},addNoBid:function(e){K=K.concat(e)},callBids:function(){G="started",F=Date.now();let e=m.measureTime("requestBids.makeRequests",(()=>w.a.makeBidRequests(u,F,_,A,f,c,m)));(0,a.hb)(`Bids Requested for Auction with id: ${_}`,e),m.checkpoint("callBids"),e.length<1?((0,a.jb)("No valid bid requests returned for auction"),ae()):N.call({dispatch:re,context:this},e)},addWinningBid:function(t){Z=Z.concat(t),w.a.callBidWonBidder(t.adapterCode||t.bidder,t,e),t.deferBilling||w.a.triggerBilling(t)},setBidTargeting:function(e){w.a.callSetTargetingBidder(e.adapterCode||e.bidder,e)},getWinningBids:()=>Z,getAuctionStart:()=>F,getAuctionEnd:()=>V,getTimeout:()=>A,getAuctionId:()=>_,getAuctionStatus:()=>G,getAdUnits:()=>u,getAdUnitCodes:()=>g,getBidRequests:()=>X,getBidsReceived:()=>Y,getNoBids:()=>K,getNonBids:()=>Q,getFPD:()=>c,getMetrics:()=>m,end:U.promise}}const B=(0,g.b)("sync",(function(e,t,i){!function(e){const t=d.config.getConfig("maxBid");return!t||!e.cpm||t>=Number(e.cpm)}(t)?i(x.m.PRICE_TOO_HIGH):this.dispatch.call(null,e,t)}),"addBidResponse"),P=(0,g.b)("sync",(e=>e),"responsesReady"),N=(0,g.b)("sync",(function(e){this.dispatch.call(this.context,e)}),"addBidderRequests"),j=(0,g.b)("async",(function(e,t){t&&t()}),"bidsBackCallback");function z(e,t){!function(e){let t;const i=!0===_.a.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0;e.bidderCode&&(i||e.dealId)&&(t=function(e,t,{index:i=te.index}={}){if(!t)return{};const a=i.getBidRequest(t);var n={};return Y(n,X(t.mediaType,e),t,a),e&&_.a.getOwn(e,x.f.ADSERVER_TARGETING)&&(Y(n,_.a.ownSettingsFor(e),t,a),t.sendStandardTargeting=_.a.get(e,"sendStandardTargeting")),t.native&&(n=Object.assign({},n,(0,o.g)(t))),n}(e.bidderCode,e)),e.adserverTargeting=Object.assign(e.adserverTargeting||{},t)}(t),(0,D.d)(t.metrics).timeSince("addBidResponse","addBidResponse.total"),e.addBidReceived(t),I.emit(x.EVENTS.BID_RESPONSE,t)}const q=(0,g.b)("async",(function(e,t,i){u(e,t,i)}),"callPrebidCache");function $(e,t,i){if(e&&i){if(e===v.d){const e=(0,n.a)(t,`${v.d}.context`,"instream");if(i[`${v.d}-${e}`])return i[`${v.d}-${e}`]}return i[e]}}const F=e=>t=>{const i=e||((e,{index:t=te.index}={})=>{const i=$(e.mediaType,t.getMediaTypes(e),d.config.getConfig("mediaTypePriceGranularity"));return"string"==typeof e.mediaType&&i?"string"==typeof i?i:"custom":d.config.getConfig("priceGranularity")})(t);return i===x.e.AUTO?t.pbAg:i===x.e.DENSE?t.pbDg:i===x.e.LOW?t.pbLg:i===x.e.MEDIUM?t.pbMg:i===x.e.HIGH?t.pbHg:i===x.e.CUSTOM?t.pbCg:void 0},V=()=>e=>e.creativeId?e.creativeId:"",L=()=>e=>e.meta&&e.meta.advertiserDomains&&e.meta.advertiserDomains.length>0?[e.meta.advertiserDomains].flat()[0]:"",G=()=>e=>e.meta&&(e.meta.networkId||e.meta.networkName)?(0,n.a)(e,"meta.networkName")||(0,n.a)(e,"meta.networkId"):"",W=()=>e=>e.meta&&e.meta.primaryCatId?e.meta.primaryCatId:"";function H(e,t){return{key:e,val:"function"==typeof t?function(e,i){return t(e,i)}:function(e){return(0,a.I)(e,t)}}}function X(e,t){const i=Object.assign({},_.a.settingsFor(null));if(i[x.f.ADSERVER_TARGETING]||(i[x.f.ADSERVER_TARGETING]=[H(x.p.BIDDER,"bidderCode"),H(x.p.AD_ID,"adId"),H(x.p.PRICE_BUCKET,F()),H(x.p.SIZE,"size"),H(x.p.DEAL,"dealId"),H(x.p.SOURCE,"source"),H(x.p.FORMAT,"mediaType"),H(x.p.ADOMAIN,L()),H(x.p.ACAT,W()),H(x.p.DSP,G()),H(x.p.CRID,V())]),"video"===e){const e=i[x.f.ADSERVER_TARGETING].slice();if(i[x.f.ADSERVER_TARGETING]=e,[x.p.UUID,x.p.CACHE_ID].forEach((t=>{void 0===(0,y.b)(e,(e=>e.key===t))&&e.push(H(t,"videoCacheKey"))})),d.config.getConfig("cache.url")&&(!t||!1!==_.a.get(t,"sendStandardTargeting"))){const t=(0,a.qb)(d.config.getConfig("cache.url"));void 0===(0,y.b)(e,(e=>e.key===x.p.CACHE_HOST))&&e.push(H(x.p.CACHE_HOST,(function(e){return(0,n.a)(e,`adserverTargeting.${x.p.CACHE_HOST}`)?e.adserverTargeting[x.p.CACHE_HOST]:t.hostname})))}}return i}function Y(e,t,i,n){var r=t[x.f.ADSERVER_TARGETING];return i.size=i.getSize(),(r||[]).forEach((function(r){var o=r.key,s=r.val;if(e[o]&&(0,a.jb)("The key: "+o+" is being overwritten"),(0,a.Z)(s))try{s=s(i,n)}catch(e){(0,a.gb)("bidmanager","ERROR",e)}(void 0===t.suppressEmptyKeys||!0!==t.suppressEmptyKeys)&&o!==x.p.DEAL&&o!==x.p.ACAT&&o!==x.p.DSP&&o!==x.p.CRID||!(0,a.X)(s)&&null!=s?e[o]=s:(0,a.hb)("suppressing empty key '"+o+"' from adserver targeting")})),e}function J(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}function K(e){Object.assign(this,{getAuction({auctionId:t}){if(null!=t)return e().find((e=>e.getAuctionId()===t))},getAdUnit({adUnitId:t}){if(null!=t)return e().flatMap((e=>e.getAdUnits())).find((e=>e.adUnitId===t))},getMediaTypes({adUnitId:e,requestId:t}){if(null!=t){const i=this.getBidRequest({requestId:t});if(null!=i&&(null==e||i.adUnitId===e))return i.mediaTypes}else if(null!=e){const t=this.getAdUnit({adUnitId:e});if(null!=t)return t.mediaTypes}},getBidderRequest({requestId:t,bidderRequestId:i}){if(null!=t||null!=i){let a=e().flatMap((e=>e.getBidRequests()));return null!=i&&(a=a.filter((e=>e.bidderRequestId===i))),null==t?a[0]:a.find((e=>e.bids&&null!=e.bids.find((e=>e.bidId===t))))}},getBidRequest({requestId:t}){if(null!=t)return e().flatMap((e=>e.getBidRequests())).flatMap((e=>e.bids)).find((e=>e&&e.bidId===t))},getOrtb2(e){return this.getBidderRequest(e)?.ortb2||this.getAuction(e)?.getFPD()?.global?.ortb2}})}var Z=i(83),Q=i(84);const ee="minBidCacheTTL",te=function(){let e=null;const t=(0,Z.a)({startTime:e=>e.end.then((()=>e.getAuctionEnd())),ttl:t=>null==e?null:t.end.then((()=>1e3*Math.max(e,...t.getBidsReceived().map(Q.a))))});(0,Q.b)((()=>{null!=e&&t.refresh()})),d.config.getConfig(ee,(i=>{const a=e;e=i?.[ee],e="number"==typeof e?e:null,a!==e&&t.refresh()}));const i={onExpiry:t.onExpiry};function n(e){for(const i of t)if(i.getAuctionId()===e)return i}function r(){return t.toArray().flatMap((e=>e.getBidsReceived()))}return i.addWinningBid=function(e){const t=(0,D.d)(e.metrics);t.checkpoint("bidWon"),t.timeBetween("auctionEnd","bidWon","adserver.pending"),t.timeBetween("requestBids","bidWon","adserver.e2e");const i=n(e.auctionId);i?i.addWinningBid(e):(0,a.jb)("Auction not found when adding winning bid")},Object.entries({getAllWinningBids:{name:"getWinningBids"},getBidsRequested:{name:"getBidRequests"},getNoBids:{},getAdUnits:{},getBidsReceived:{pre:e=>e.getAuctionStatus()===R},getAdUnitCodes:{post:a.Gb}}).forEach((([e,{name:a=e,pre:n,post:r}])=>{const o=null==n?e=>e[a]():e=>n(e)?e[a]():[],s=null==r?e=>e:e=>e.filter(r);i[e]=()=>s(t.toArray().flatMap(o))})),i.getAllBidsForAdUnitCode=function(e){return r().filter((t=>t&&t.adUnitCode===e))},i.createAuction=function(e){const i=U(e);return function(e){t.add(e)}(i),i},i.findBidByAdId=function(e){return r().find((t=>t.adId===e))},i.getStandardBidderAdServerTargeting=function(){return X()[x.f.ADSERVER_TARGETING]},i.setStatusForBids=function(e,t){let a=i.findBidByAdId(e);if(a&&(a.status=t),a&&t===x.a.BID_TARGETING_SET){const e=n(a.auctionId);e&&e.setBidTargeting(a)}},i.getLastAuctionId=function(){const e=t.toArray();return e.length&&e[e.length-1].getAuctionId()},i.clearAllAuctions=function(){t.clear()},i.index=new K((()=>t.toArray())),i}()},(e,t,i)=>{i.d(t,{a:()=>r,b:()=>o});const a=0,n=1;class r{#e;#t;static timeout(e=0){return new r((t=>{0===e?t():setTimeout(t,e)}))}constructor(e){if("function"!=typeof e)throw new Error("resolver not a function");const t=[],i=[];let[r,o]=[a,n].map((e=>function(n){if(e===a&&"function"==typeof n?.then)n.then(r,o);else if(!t.length)for(t.push(e,n);i.length;)i.shift()()}));try{e(r,o)}catch(e){o(e)}this.#e=t,this.#t=i}then(e,t){const i=this.#e;return new this.constructor(((n,r)=>{const o=()=>{let o=i[1],[s,d]=i[0]===a?[e,n]:[t,r];if("function"==typeof s){try{o=s(o)}catch(e){return void r(e)}d=n}d(o)};i.length?o():this.#t.push(o)}))}catch(e){return this.then(null,e)}finally(e){let t;return this.then((i=>(t=i,e())),(i=>(t=this.constructor.reject(i),e()))).then((()=>t))}static#i(e,t,i){let a=e.length;function n(){t.apply(this,arguments),--a<=0&&i&&i()}0===e.length&&i?i():e.forEach(((e,t)=>this.resolve(e).then((e=>n(!0,e,t)),(e=>n(!1,e,t)))))}static race(e){return new this(((t,i)=>{this.#i(e,((e,a)=>e?t(a):i(a)))}))}static all(e){return new this(((t,i)=>{let a=[];this.#i(e,((e,t,n)=>e?a[n]=t:i(t)),(()=>t(a)))}))}static allSettled(e){return new this((t=>{let i=[];this.#i(e,((e,t,a)=>i[a]=e?{status:"fulfilled",value:t}:{status:"rejected",reason:t}),(()=>t(i)))}))}static resolve(e){return new this((t=>t(e)))}static reject(e){return new this(((t,i)=>i(e)))}}function o({promiseFactory:e=(e=>new r(e))}={}){function t(e){return t=>e(t)}let i,a;return{promise:e(((e,t)=>{i=e,a=t})),resolve:t(i),reject:t(a)}}},(e,t,i)=>{i.d(t,{a:()=>o,b:()=>r});var a=i(0),n=i(17);const[r,o]=function(e=(0,a.sb)("Activity control:")){const t={};function i(e){return t[e]=t[e]||[]}function r(t,i,a,r){let o;try{o=a(r)}catch(a){e.logError(`Exception in rule ${i} for '${t}'`,a),o={allow:!1,reason:a}}return o&&Object.assign({activity:t,name:i,component:r[n.e]},o)}const o={};function s({activity:t,name:i,allow:a,reason:n,component:r}){const s=`${i} ${a?"allowed":"denied"} '${t}' for '${r}'${n?":":""}`,d=o.hasOwnProperty(s);if(d&&clearTimeout(o[s]),o[s]=setTimeout((()=>delete o[s]),1e3),!d){const t=[s];n&&t.push(n),(a?e.logInfo:e.logWarn).apply(e,t)}}return[function(e,t,a,n=10){const r=i(e),o=r.findIndex((([e])=>n<e)),s=[n,t,a];return r.splice(o<0?r.length:o,0,s),function(){const e=r.indexOf(s);e>=0&&r.splice(e,1)}},function(e,t){let a,n;for(const[o,d,l]of i(e)){if(a!==o&&n)break;a=o;const i=r(e,d,l,t);if(i){if(!i.allow)return s(i),!1;n=i}}return n&&s(n),!0}]}()},(e,t,i)=>{i.d(t,{a:()=>s,b:()=>n,c:()=>a,d:()=>o,e:()=>r});const a="prebid",n="bidder",r="userId",o="rtd",s="analytics"},(e,t,i)=>{i.d(t,{a:()=>a,b:()=>o,c:()=>r,d:()=>s,e:()=>d,f:()=>n,g:()=>l,h:()=>c,i:()=>m,j:()=>p,k:()=>u});const a="accessDevice",n="syncUser",r="enrichUfpd",o="enrichEids",s="fetchBids",d="reportAnalytics",l="transmitEids",p="transmitUfpd",c="transmitPreciseGeo",m="transmitTid",u="loadExternalScript"},(e,t,i)=>{i.d(t,{a:()=>p});var a=i(23),n=i(8),r=i(3),o=i(1);const{warn:s,error:d}=r.a.tag("errors"),l=(e,t,i,n,...r)=>{if(a.d.value){const s=`${t} \n ${r.filter((e=>(0,o.q)(e))).join("\n")}`;a.d.value({errorCode:e,message:s,stack:i,secondaryCode:n})}else s(`trying to report error code #${e} but error reporting module was not setup`);d(`#${e}:`,t,i,...r)},p=(e,...t)=>{if(e instanceof n.c){const i=`${e.source?e.source.stack:e.stack}`;return l(e.code,e.message,i,e.secondaryCode,...t)}if(e instanceof n.b){const i=`${e.source?e.source.stack:e.stack}`;return l(e.code,e.message,i,void 0,...t)}const i=`${e.stack}`;l(n.a.unexpected,e.message,i,void 0,...t)}},(e,t,i)=>{i.r(t),i.d(t,{addEvents:()=>_,clearEvents:()=>w,emit:()=>v,get:()=>y,getEvents:()=>h,has:()=>I,off:()=>g,on:()=>f});var a=i(0),n=i(6),r=i(83),o=i(2);const s="eventHistoryTTL";let d=null;const l=(0,r.a)({monotonic:!0,ttl:()=>d});o.config.getConfig(s,(e=>{const t=d;e=e?.[s],d="number"==typeof e?1e3*e:null,t!==d&&l.refresh()}));let p=Array.prototype.slice,c=Array.prototype.push,m=Object.values(n.EVENTS);const u=n.d,b=function(){let e={},t={};function i(e){return m.includes(e)}return t.has=i,t.on=function(t,n,r){if(i(t)){let i=e[t]||{que:[]};r?(i[r]=i[r]||{que:[]},i[r].que.push(n)):i.que.push(n),e[t]=i}else a.gb("Wrong event name : "+t+" Valid event names :"+m)},t.emit=function(t){!function(t,i){a.ib("Emitting event for: "+t);let n=i[0]||{},r=n[u[t]],o=e[t]||{que:[]};var s=Object.keys(o);let d=[];l.add({eventType:t,args:n,id:r,elapsedTime:a.E()}),r&&s.includes(r)&&c.apply(d,o[r].que),c.apply(d,o.que),(d||[]).forEach((function(e){if(e)try{e.apply(null,i)}catch(e){a.gb("Error executing handler:","events.js",e,t)}}))}(t,p.call(arguments,1))},t.off=function(t,i,n){let r=e[t];a.Y(r)||a.Y(r.que)&&a.Y(r[n])||n&&(a.Y(r[n])||a.Y(r[n].que))||(n?(r[n].que||[]).forEach((function(e){let t=r[n].que;e===i&&t.splice(t.indexOf(e),1)})):(r.que||[]).forEach((function(e){let t=r.que;e===i&&t.splice(t.indexOf(e),1)})),e[t]=r)},t.get=function(){return e},t.addEvents=function(e){m=m.concat(e)},t.getEvents=function(){return l.toArray().map((e=>Object.assign({},e)))},t}();a.c(b.emit.bind(b));const{on:f,off:g,get:y,getEvents:h,emit:v,addEvents:_,has:I}=b;function w(){l.clear()}},(e,t,i)=>{i.d(t,{a:()=>r});const a=window,n=a.hubjs=a.hubjs||{};function r(){return n}n.cmd=n.cmd||[],n.que=n.que||[],a===window&&(a._pbjsGlobals=a._pbjsGlobals||[],a._pbjsGlobals.push("hubjs"))},(e,t,i)=>{i.d(t,{a:()=>d,b:()=>u,c:()=>s,d:()=>o,e:()=>r,f:()=>l,g:()=>c,h:()=>m,i:()=>p,j:()=>b});var a=i(12),n=i(7);const r="component",o=r+"Type",s=r+"Name",d="adapterCode",l="storageType",p="configName",c="syncType",m="syncUrl",u="_config";function b(e){return function(t,i,n){const l={[o]:t,[s]:i,[r]:`${t}.${i}`};return t===a.b&&(l[d]=e(i)),f(Object.assign(l,n))}}const f=(0,n.b)("sync",(e=>e))},(e,t,i)=>{i.d(t,{a:()=>L,b:()=>z});var a=i(0),n=i(5),r=i(26),o=i(79),s=i(36),d=i(2),l=i(7),p=i(4);let c={};function m(e,t,i){let a=function(e,t){let i=c[e]=c[e]||{bidders:{}};return t?i.bidders[t]=i.bidders[t]||{}:i}(e,i);return a[t]=(a[t]||0)+1,a[t]}function u(e){return c?.[e]?.requestsCounter||0}function b(e,t){return c?.[e]?.bidders?.[t]?.requestsCounter||0}function f(e,t){return c?.[e]?.bidders?.[t]?.winsCounter||0}var g=i(50),y=i(73),h=i(15),v=i(6),_=i(19),I=i(9),w=i(12),x=i(11),T=i(13),D=i(17),A=i(82);const S="pbsBidAdapter",C={CLIENT:"client",SERVER:"server"},R={isAllowed:x.a,redact:A.g};let k={},E=k.bidderRegistry={},M=k.aliasRegistry={},O=[];d.config.getConfig("s2sConfig",(e=>{e&&e.s2sConfig&&(O=(0,a.V)(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])}));var U={};const B=(0,D.j)((e=>k.resolveAlias(e))),P=(0,l.b)("sync",(function({bidderCode:e,auctionId:t,bidderRequestId:i,adUnits:r,src:o,metrics:s}){return r.reduce(((r,d)=>{const l=d.bids.filter((t=>t.bidder===e));return null==e&&0===l.length&&null!=d.s2sBid&&l.push({bidder:null}),r.push(l.reduce(((r,l)=>{const p=null==(l=Object.assign({},l,{ortb2Imp:(0,a.lb)({},d.ortb2Imp,l.ortb2Imp)},(0,a.B)(d,["nativeParams","nativeOrtbRequest","mediaType","renderer"]))).mediaTypes?d.mediaTypes:l.mediaTypes;return(0,a.fb)(p)?l=Object.assign({},l,{mediaTypes:p}):(0,a.gb)(`mediaTypes is not correctly configured for adunit ${d.code}`),"client"===o&&function(e,t){m(e,"requestsCounter",t)}(d.code,e),r.push(Object.assign({},l,{adUnitCode:d.code,transactionId:d.transactionId,adUnitId:d.adUnitId,sizes:(0,n.a)(p,"banner.sizes")||(0,n.a)(p,"video.playerSize")||[],bidId:l.bid_id||(0,a.G)(),bidderRequestId:i,auctionId:t,src:o,metrics:s,bidRequestsCount:u(d.code),bidderRequestsCount:b(d.code,l.bidder),bidderWinsCount:f(d.code,l.bidder),deferBilling:!!d.deferBilling})),r}),[])),r}),[]).reduce(a.u,[]).filter((e=>""!==e))}),"getBids"),N=(0,l.b)("sync",(function(e,t,{getS2SBidders:i=z}={}){if(null==t)return e;{const a=i(t);return e.filter((e=>a.has(e.bidder)))}}),"filterBidsForAdUnit"),j=(0,l.b)("sync",(e=>e),"setupAdUnitMediaTypes");function z(e){(0,a.V)(e)||(e=[e]);const t=new Set([null]);return e.filter((e=>e&&e.enabled)).flatMap((e=>e.bidders)).forEach((e=>t.add(e))),t}const q=(0,l.b)("sync",(function(e,t,{getS2SBidders:i=z}={}){const n=i(t);return(0,a.z)(e).reduce(((e,t)=>(e[n.has(t)?C.SERVER:C.CLIENT].push(t),e)),{[C.CLIENT]:[],[C.SERVER]:[]})}),"partitionBidders");function $(e,t){const i=E[e],a=i?.getSpec&&i.getSpec();if(a&&a[t]&&"function"==typeof a[t])return[a,a[t]]}function F(e,t,i,n,...r){try{(0,a.hb)(`Invoking ${e}.${t}`),d.config.runWithBidder(e,n.bind(i,...r))}catch(i){(0,a.jb)(`Error calling ${t} of ${e}`)}}function V(e,t,i){if(i?.source!==v.o.SRC){const a=$(e,t);null!=a&&F(e,t,...a,i)}}k.makeBidRequests=(0,l.b)("sync",(function(e,t,i,n,o,s={},l){l=(0,_.d)(l),h.emit(v.EVENTS.BEFORE_REQUEST_BIDS,e),(0,r.c)(e),e.forEach((e=>{(0,a.bb)(e.mediaTypes)||(e.mediaTypes={}),e.bids=e.bids.filter((e=>!e.bidder||R.isAllowed(T.d,B(w.b,e.bidder)))),m(e.code,"requestsCounter")})),e=j(e,o);let{[C.CLIENT]:c,[C.SERVER]:u}=q(e,O);d.config.getConfig("bidderSequence")===d.a&&(c=(0,a.zb)(c));const b=(0,g.a)();let f=[];const I=s.global||{},x=s.bidder||{};function A(e,t){const n=R.redact(null!=t?t:B(w.b,e.bidderCode)),r=Object.freeze(n.ortb2((0,a.lb)({source:{tid:i}},I,x[e.bidderCode])));return e.ortb2=r,e.bids=e.bids.map((e=>(e.ortb2=r,n.bidRequest(e)))),e}O.forEach((n=>{const r=function(e){return B(w.c,S,{[D.i]:e.configName})}(n);if(n&&n.enabled&&R.isAllowed(T.d,r)){let{adUnits:o,hasModuleBids:s}=function(e,t){let i=(0,a.p)(e),n=!1;return i.forEach((e=>{const i=e.bids.filter((e=>e.module===S&&e.params?.configName===t.configName));1===i.length?(e.s2sBid=i[0],n=!0,e.ortb2Imp=(0,a.lb)({},e.s2sBid.ortb2Imp,e.ortb2Imp)):i.length>1&&(0,a.jb)('Multiple "module" bids for the same s2s configuration; all will be ignored',i),e.bids=N(e.bids,t).map((e=>(e.bid_id=(0,a.G)(),e)))})),i=i.filter((e=>0!==e.bids.length||null!=e.s2sBid)),{adUnits:i,hasModuleBids:n}}(e,n),d=(0,a.w)();(0===u.length&&s?[null]:u).forEach((e=>{const s=(0,a.G)(),p=l.fork(),c=A({bidderCode:e,auctionId:i,bidderRequestId:s,uniquePbsTid:d,bids:P({bidderCode:e,auctionId:i,bidderRequestId:s,adUnits:(0,a.p)(o),src:v.o.SRC,metrics:p}),auctionStart:t,timeout:n.timeout,src:v.o.SRC,refererInfo:b,metrics:p},r);0!==c.bids.length&&f.push(c)})),o.forEach((e=>{let t=e.bids.filter((e=>(0,p.b)(f,(t=>(0,p.b)(t.bids,(t=>t.bidId===e.bid_id))))));e.bids=t})),f.forEach((e=>{void 0===e.adUnitsS2SCopy&&(e.adUnitsS2SCopy=o.filter((e=>e.bids.length>0||null!=e.s2sBid)))}))}}));let k=function(e){let t=(0,a.p)(e);return t.forEach((e=>{e.bids=N(e.bids,null)})),t=t.filter((e=>0!==e.bids.length)),t}(e);return c.forEach((e=>{const r=(0,a.G)(),s=l.fork(),d=A({bidderCode:e,auctionId:i,bidderRequestId:r,bids:P({bidderCode:e,auctionId:i,bidderRequestId:r,adUnits:(0,a.p)(k),labels:o,src:"client",metrics:s}),auctionStart:t,timeout:n,refererInfo:b,metrics:s}),p=E[e];p||(0,a.gb)(`Trying to make a request for bidder that does not exist: ${e}`),p&&d.bids&&0!==d.bids.length&&f.push(d)})),f.forEach((e=>{y.d.getConsentData()&&(e.gdprConsent=y.d.getConsentData()),y.f.getConsentData()&&(e.uspConsent=y.f.getConsentData()),y.e.getConsentData()&&(e.gppConsent=y.e.getConsentData())})),f}),"makeBidRequests"),k.callBids=(e,t,i,n,r,o,l,p={})=>{if(!t.length)return void(0,a.jb)("callBids executed with no bidRequests.  Were they filtered by labels or sizing?");let[c,m]=t.reduce(((e,t)=>(e[Number(void 0!==t.src&&t.src===v.o.SRC)].push(t),e)),[[],[]]);var u=[];m.forEach((e=>{for(var t=-1,i=0;i<u.length;++i)if(e.uniquePbsTid===u[i].uniquePbsTid){t=i;break}t<=-1&&u.push(e)}));let b=0;O.forEach((e=>{if(e&&u[b]&&z(e).has(u[b].bidderCode)){const t=(0,s.a)(o,r?{request:r.request.bind(null,"s2s"),done:r.done}:void 0);let d=e.bidders;const c=E[e.adapter];let f=u[b].uniquePbsTid,g=u[b].adUnitsS2SCopy,y=m.filter((e=>e.uniquePbsTid===f));if(c){let r={ad_units:g,s2sConfig:e,ortb2Fragments:p,requestBidsTimeout:o};if(r.ad_units.length){let e=y.map((e=>(e.start=(0,a.Db)(),function(t){t||l(e.bidderRequestId),n.apply(e,arguments)})));const o=(0,a.z)(r.ad_units).filter((e=>d.includes(e)));(0,a.ib)(`CALLING S2S HEADER BIDDERS ==== ${o.length>0?o.join(", "):'No bidder specified, using "ortb2Imp" definition(s) only'}`),y.forEach((e=>{h.emit(v.EVENTS.BID_REQUESTED,{...e,tid:e.auctionId})})),c.callBids(r,m,i,(t=>e.forEach((e=>e(t)))),t)}}else(0,a.gb)("missing "+e.adapter);b++}})),c.forEach((e=>{e.start=(0,a.Db)();const t=E[e.bidderCode];d.config.runWithBidder(e.bidderCode,(()=>{(0,a.ib)("CALLING BIDDER"),h.emit(v.EVENTS.BID_REQUESTED,e)}));let p=(0,s.a)(o,r?{request:r.request.bind(null,e.bidderCode),done:r.done}:void 0);const c=n.bind(e);try{d.config.runWithBidder(e.bidderCode,t.callBids.bind(t,e,i,c,p,(()=>l(e.bidderRequestId)),d.config.callbackWithBidder(e.bidderCode)))}catch(t){(0,a.gb)(`${e.bidderCode} Bid Adapter emitted an uncaught error when parsing their bidRequest`,{e:t,bidRequest:e}),c()}}))},k.videoAdapters=[],k.registerBidAdapter=function(e,t,{supportedMediaTypes:i=[]}={}){e&&t?"function"==typeof e.callBids?(E[t]=e,y.a.register(w.b,t,e.getSpec?.().gvlid),(0,p.c)(i,"video")&&k.videoAdapters.push(t),(0,p.c)(i,"native")&&r.i.push(t)):(0,a.gb)("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):(0,a.gb)("bidAdapter or bidderCode not specified")},k.aliasBidAdapter=function(e,t,i){if(void 0===E[t]){let n=E[e];if(void 0===n){const i=[];O.forEach((a=>{if(a.bidders&&a.bidders.length){const n=a&&a.bidders;a&&(0,p.c)(n,t)?M[t]=e:i.push(e)}})),i.forEach((e=>{(0,a.gb)('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")}))}else try{let s,d=function(e){let t=[];return(0,p.c)(k.videoAdapters,e)&&t.push("video"),(0,p.c)(r.i,e)&&t.push("native"),t}(e);if(n.constructor.prototype!=Object.prototype)s=new n.constructor,s.setBidderCode(t);else{const{useBaseGvlid:r=!1}=i||{};let d=n.getSpec();const l=r?d.gvlid:i?.gvlid;null==l&&null!=d.gvlid&&(0,a.jb)(`Alias '${t}' will NOT re-use the GVL ID of the original adapter ('${d.code}', gvlid: ${d.gvlid}). Functionality that requires TCF consent may not work as expected.`);let p=i&&i.skipPbsAliasing;s=(0,o.a)(Object.assign({},d,{code:t,gvlid:l,skipPbsAliasing:p})),M[t]=e}k.registerBidAdapter(s,t,{supportedMediaTypes:d})}catch(t){(0,a.gb)(e+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else(0,a.ib)('alias name "'+t+'" has been already specified.')},k.resolveAlias=function(e){let t,i=e;for(;M[i]&&(!t||!t.has(i));)i=M[i],(t=t||new Set).add(i);return i},k.registerAnalyticsAdapter=function({adapter:e,code:t,gvlid:i}){e&&t?"function"==typeof e.enableAnalytics?(e.code=t,U[t]={adapter:e,gvlid:i},y.a.register(w.a,t,i)):(0,a.gb)(`Prebid Error: Analytics adaptor error for analytics "${t}"\n        analytics adapter must implement an enableAnalytics() function`):(0,a.gb)("Prebid Error: analyticsAdapter or analyticsCode not specified")},k.enableAnalytics=function(e){(0,a.V)(e)||(e=[e]),e.forEach((e=>{const t=U[e.provider];t&&t.adapter?R.isAllowed(T.e,B(w.a,e.provider,{[D.b]:e}))&&t.adapter.enableAnalytics(e):(0,a.gb)(`Prebid Error: no analytics adapter found in registry for '${e.provider}'.`)}))},k.getBidAdapter=function(e){return E[e]},k.getAnalyticsAdapter=function(e){return U[e]},k.callTimedOutBidders=function(e,t,i){t=t.map((t=>(t.params=(0,a.H)(e,t.adUnitCode,t.bidder),t.timeout=i,t))),t=(0,a.L)(t,"bidder"),Object.keys(t).forEach((e=>{V(e,"onTimeout",t[e])}))},k.callBidWonBidder=function(e,t,i){t.params=(0,a.H)(i,t.adUnitCode,t.bidder),m(t.adUnitCode,"winsCounter",t.bidder),V(e,"onBidWon",t)},k.triggerBilling=(()=>{const e=new WeakSet;return t=>{e.has(t)||(e.add(t),t.source===v.o.SRC&&t.burl&&a.R.triggerPixel(t.burl),V(t.bidder,"onBidBillable",t))}})(),k.callSetTargetingBidder=function(e,t){V(e,"onSetTargeting",t)},k.callBidViewableBidder=function(e,t){V(e,"onBidViewable",t)},k.callBidderError=function(e,t,i){V(e,"onBidderError",{error:t,bidderRequest:i})},k.callAdRenderSucceededBidder=function(e,t){V(e,"onAdRenderSucceeded",t)},k.callDataDeletionRequest=(0,l.b)("sync",(function(...e){const t="onDataDeletionRequest";Object.keys(E).filter((e=>!M.hasOwnProperty(e))).forEach((i=>{const a=$(i,t);if(null!=a){const n=I.a.getBidsRequested().filter((e=>function(e){const t=new Set;for(;M.hasOwnProperty(e)&&!t.has(e);)t.add(e),e=M[e];return e}(e.bidderCode)===i));F(i,t,...a,n,...e)}})),Object.entries(U).forEach((([i,n])=>{const r=n?.adapter?.[t];if("function"==typeof r)try{r.apply(n.adapter,e)}catch(e){(0,a.gb)(`error calling ${t} of ${i}`,e)}}))}));const L=k},(e,t,i)=>{i.d(t,{a:()=>b,b:()=>g,c:()=>y,d:()=>u});var a=i(2);const n="performanceMetrics",r=window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now(),o=new WeakMap;function s({now:e=r,mkNode:t=p,mkTimer:i=l,mkRenamer:a=(e=>e),nodes:n=o}={}){return function(){return function r(o,s=(e=>({forEach(t){t(e)}}))){s=a(s);const d=function(e){return o.dfWalk({visit(t,i){const a=i.timestamps;if(a.hasOwnProperty(e))return a[e]}})};function l(e,t){const i=s(e);o.dfWalk({follow:(e,t)=>t.propagate&&(!e||!e.stopPropagation),visit(e,a){i.forEach((i=>{null==e?a.metrics[i]=t:(a.groups.hasOwnProperty(i)||(a.groups[i]=[]),a.groups[i].push(t))}))}})}function p(t){return i(e,(e=>l(t,e)))}function c(){let e={};return o.dfWalk({visit(t,i){e=Object.assign({},!t||t.includeGroups?i.groups:null,i.metrics,e)}}),e}const m={startTiming:p,measureTime:function(e,t){return p(e).stopAfter(t)()},measureHookTime:function(e,t,i){const a=p(e);return i(function(e){const t=a.stopBefore(e);return t.bail=e.bail&&a.stopBefore(e.bail),t.stopTiming=a,t.untimed=e,t}(t))},checkpoint:function(t){o.timestamps[t]=e()},timeSince:function(t,i){const a=d(t),n=null!=a?e()-a:null;return null!=i&&l(i,n),n},timeBetween:function(e,t,i){const a=d(e),n=d(t),r=null!=a&&null!=n?n-a:null;return null!=i&&l(i,r),r},setMetric:l,getMetrics:c,fork:function({propagate:e=!0,stopPropagation:i=!1,includeGroups:a=!1}={}){return r(t([[o,{propagate:e,stopPropagation:i,includeGroups:a}]]),s)},join:function(e,{propagate:t=!0,stopPropagation:i=!1,includeGroups:a=!1}={}){const r=n.get(e);null!=r&&r.addParent(o,{propagate:t,stopPropagation:i,includeGroups:a})},newMetrics:function(){return r(o.newSibling(),s)},renameWith:function(e){return r(o,e)},toJSON:()=>c()};return n.set(m,o),m}(t([]))}}function d(e,t,i){return function(){t&&t();try{return e.apply(this,arguments)}finally{i&&i()}}}function l(e,t){const i=e();let a=!1;function n(){a||(t(e()-i),a=!0)}return n.stopBefore=e=>d(e,n),n.stopAfter=e=>d(e,null,n),n}function p(e){return{metrics:{},timestamps:{},groups:{},addParent(t,i){e.push([t,i])},newSibling:()=>p(e.slice()),dfWalk({visit:t,follow:i=(()=>!0),visited:a=new Set,inEdge:n}={}){let r;if(!a.has(this)){if(a.add(this),r=t(n,this),null!=r)return r;for(const[o,s]of e)if(i(n,s)&&(r=o.dfWalk({visit:t,follow:i,visited:a,inEdge:s}),null!=r))return r}}}}const c=(()=>{const e=function(){},t=()=>({}),i={forEach:e},a=()=>null;a.stopBefore=e=>e,a.stopAfter=e=>e;const n=Object.defineProperties({dfWalk:e,newSibling:()=>n,addParent:e},Object.fromEntries(["metrics","timestamps","groups"].map((e=>[e,{get:t}]))));return s({now:()=>0,mkNode:()=>n,mkRenamer:()=>()=>i,mkTimer:()=>a,nodes:{get:e,set:e}})()})();let m=!0;function u(e){return m&&e||c}a.config.getConfig(n,(e=>{m=!!e[n]}));const b=(()=>{const e=s();return function(){return m?e():c}})();function f(e,t){return function(i,a){return function(n,...r){const o=this;return u(t.apply(o,r)).measureHookTime(e+i,n,(function(e){return a.call(o,e,...r)}))}}}const g=f("requestBids.",(e=>e.metrics)),y=f("addBidResponse.",((e,t)=>t.metrics))},(e,t,i)=>{i.d(t,{a:()=>s});var a=i(5),n=i(0),r=i(16),o=i(6);const s=new class{constructor(e,t){this.getSettings=e,this.defaultScope=t}get(e,t){let i=this.getOwn(e,t);return void 0===i&&(i=this.getOwn(null,t)),i}getOwn(e,t){return e=this.#a(e),(0,a.a)(this.getSettings(),`${e}.${t}`)}getScopes(){return Object.keys(this.getSettings()).filter((e=>e!==this.defaultScope))}settingsFor(e){return(0,n.lb)({},this.ownSettingsFor(null),this.ownSettingsFor(e))}ownSettingsFor(e){return e=this.#a(e),this.getSettings()[e]||{}}#a(e){return e??this.defaultScope}}((()=>(0,r.a)().bidderSettings||{}),o.f.BD_SETTING_STANDARD)},(e,t,i)=>{i.d(t,{a:()=>n});var a=i(51);const n=e=>{let t;return(...i)=>(t??=a.a.tryCatch((()=>e(...i))),t.get())}},(e,t,i)=>{i.d(t,{a:()=>n,b:()=>a});const a=e=>new Promise((t=>setTimeout(t,1e3*e))),n=()=>{let e,t;return{promise:new Promise(((i,a)=>{e=i,t=a})),resolve:e,reject:t}}},(e,t,i)=>{i.d(t,{a:()=>l,b:()=>p,c:()=>c,d:()=>d,e:()=>b,f:()=>u,g:()=>s,h:()=>o,i:()=>m});var a=i(111),n=i(52),r=i(112);const o=new a.a("Renderers"),s=new n.a,d=new n.a,l=new r.a("prebid-bid-formatters"),p=new r.a("bid-iab-vendorids"),c=new r.a("content-providers"),m=new Set,u=new n.a,b=new n.a},(e,t,i)=>{i.d(t,{a:()=>r});var a=i(3);const{error:n}=a.a.tag("assert"),r=(e,t)=>{e||n(`assertion failed: ${t}`)}},(e,t,i)=>{i.d(t,{a:()=>s,b:()=>o});var a=i(22),n=i(21);const r=(0,a.a)(),o=r.promise,s=(0,n.a)((e=>{r.resolve(e)}))},(e,t,i)=>{i.d(t,{a:()=>m,b:()=>U,c:()=>_,d:()=>x,e:()=>k,f:()=>R,g:()=>D,h:()=>h,i:()=>c,j:()=>w,k:()=>T});var a=i(5),n=i(0),r=i(4),o=i(9),s=i(6),d=i(35),l=i(87),p=i(49);const c=[],m=Object.keys(s.j).map((e=>s.j[e])),u={image:{ortb:{ver:"1.2",assets:[{required:1,id:1,img:{type:3,wmin:100,hmin:100}},{required:1,id:2,title:{len:140}},{required:1,id:3,data:{type:1}},{required:0,id:4,data:{type:2}},{required:0,id:5,img:{type:1,wmin:20,hmin:20}}]},image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}},b=N(s.l),f=N(s.g),g={img:1,js:2,1:"img",2:"js"},y={impression:1,"viewable-mrc50":2,"viewable-mrc100":3,"viewable-video50":4};function h(e){return e.native&&"object"==typeof e.native}function v(e){if(e&&e.type&&(!(!(t=e.type)||!(0,r.c)(Object.keys(u),t))||((0,n.gb)(`${t} nativeParam is not supported`),!1))&&(e=u[e.type]),!e||!e.ortb||I(e.ortb))return e;var t}function _(e){e.forEach((e=>{const t=e.nativeParams||(0,a.a)(e,"mediaTypes.native");t&&(e.nativeParams=v(t)),e.nativeParams&&(e.nativeOrtbRequest=e.nativeParams.ortb||function(e){if(!e&&!(0,n.bb)(e))return void(0,n.gb)("Native assets object is empty or not an object: ",e);const t={ver:"1.2",assets:[]};for(let i in e){if(s.i.includes(i))continue;if(!s.j.hasOwnProperty(i)){(0,n.gb)(`Unrecognized native asset code: ${i}. Asset will be ignored.`);continue}if("privacyLink"===i){t.privacy=1;continue}const a=e[i];let r=0;a.required&&(0,n.W)(a.required)&&(r=Number(a.required));const o={id:t.assets.length,required:r};if(i in s.l)o.data={type:s.g[s.l[i]]},a.len&&(o.data.len=a.len);else if("icon"===i||"image"===i){if(o.img={type:"icon"===i?s.h.ICON:s.h.MAIN},a.aspect_ratios)if((0,n.V)(a.aspect_ratios))if(a.aspect_ratios.length){const{min_width:e,min_height:t}=a.aspect_ratios[0];(0,n.$)(e)&&(0,n.$)(t)?(o.img.wmin=e,o.img.hmin=t):(0,n.gb)("image.aspect_ratios min_width or min_height are invalid: ",e,t);const i=a.aspect_ratios.filter((e=>e.ratio_width&&e.ratio_height)).map((e=>`${e.ratio_width}:${e.ratio_height}`));i.length>0&&(o.img.ext={aspectratios:i})}else(0,n.gb)("image.aspect_ratios was passed, but it's empty:",a.aspect_ratios);else(0,n.gb)("image.aspect_ratios was passed, but it's not a an array:",a.aspect_ratios);a.sizes&&(2===a.sizes.length&&(0,n.$)(a.sizes[0])&&(0,n.$)(a.sizes[1])?(o.img.w=a.sizes[0],o.img.h=a.sizes[1],delete o.img.hmin,delete o.img.wmin):(0,n.gb)("image.sizes was passed, but its value is not an array of integers:",a.sizes))}else"title"===i?o.title={len:a.len||140}:"ext"===i&&(o.ext=a,delete o.required);t.assets.push(o)}return t}(e.nativeParams))}))}function I(e){const t=e.assets;if(!Array.isArray(t)||0===t.length)return(0,n.gb)("assets in mediaTypes.native.ortb is not an array, or it's empty. Assets: ",t),!1;const i=t.map((e=>e.id));return t.length!==new Set(i).size||i.some((e=>e!==parseInt(e,10)))?((0,n.gb)("each asset object must have 'id' property, it must be unique and it must be an integer"),!1):e.hasOwnProperty("eventtrackers")&&!Array.isArray(e.eventtrackers)?((0,n.gb)("ortb.eventtrackers is not an array. Eventtrackers: ",e.eventtrackers),!1):t.every((e=>function(e){if(!(0,n.bb)(e))return(0,n.gb)("asset must be an object. Provided asset: ",e),!1;if(e.img){if(!(0,n.ab)(e.img.w)&&!(0,n.ab)(e.img.wmin))return(0,n.gb)("for img asset there must be 'w' or 'wmin' property"),!1;if(!(0,n.ab)(e.img.h)&&!(0,n.ab)(e.img.hmin))return(0,n.gb)("for img asset there must be 'h' or 'hmin' property"),!1}else if(e.title){if(!(0,n.ab)(e.title.len))return(0,n.gb)("for title asset there must be 'len' property defined"),!1}else if(e.data){if(!(0,n.ab)(e.data.type))return(0,n.gb)("for data asset 'type' property must be a number"),!1}else if(e.video&&!(Array.isArray(e.video.mimes)&&Array.isArray(e.video.protocols)&&(0,n.ab)(e.video.minduration)&&(0,n.ab)(e.video.maxduration)))return(0,n.gb)("video asset is not properly configured"),!1;return!0}(e)))}function w(e,{index:t=o.a.index}={}){const i=t.getAdUnit(e);if(!i)return!1;let s=i.nativeOrtbRequest;return function(e,t){if(!(0,a.a)(e,"link.url"))return(0,n.gb)("native response doesn't have 'link' property. Ortb response: ",e),!1;let i=t.assets.filter((e=>1===e.required)).map((e=>e.id)),o=e.assets.map((e=>e.id));const s=i.every((e=>(0,r.c)(o,e)));return s||(0,n.gb)(`didn't receive a bid with all required assets. Required ids: ${i}, but received ids in response: ${o}`),s}(e.native?.ortb||P(e.native,s),s)}function x(e,t){const i=t.native.ortb||B(t.native);return"click"===e.action?function(e,t=null,{fetchURL:i=n.Fb}={}){if(t){const a=(e.assets||[]).filter((e=>e.link)).reduce(((e,t)=>(e[t.id]=t.link,e)),{}),n=e.link?.clicktrackers||[];let r=a[t],o=n;r&&(o=r.clicktrackers||[]),o.forEach((e=>i(e)))}else(e.link?.clicktrackers||[]).forEach((e=>i(e)))}(i,e?.assetId):function(e,{runMarkup:t=(e=>(0,n.P)(e)),fetchURL:i=n.Fb}={}){const a=(e.eventtrackers||[]).filter((e=>e.event===y.impression));let{img:r,js:o}=a.reduce(((e,t)=>(g.hasOwnProperty(t.method)&&e[g[t.method]].push(t.url),e)),{img:[],js:[]});e.imptrackers&&(r=r.concat(e.imptrackers)),r.forEach((e=>i(e))),o=o.map((e=>`<script async src="${e}"><\/script>`)),e.jstracker&&(o=o.concat([e.jstracker])),o.length&&t(o.join("\n"))}(i),e.action}function T(e,t){const i=t?.nativeOrtbRequest,a=e.native?.ortb;if(i&&a){const t=function(e,t){const i={},a=t?.assets||[];i.clickUrl=e.link.url,i.privacyLink=e.privacy;for(const t of e?.assets||[]){const e=a.find((e=>t.id===e.id));t.title?i.title=t.title.text:t.img?i[e.img.type===s.h.MAIN?"image":"icon"]={url:t.img.url,width:t.img.w,height:t.img.h}:t.data&&(i[b[f[e.data.type]]]=t.data.value)}i.impressionTrackers=[];let n=[];e.imptrackers&&i.impressionTrackers.push(...e.imptrackers);for(const t of e?.eventtrackers||[])t.event===y.impression&&t.method===g.img&&i.impressionTrackers.push(t.url),t.event===y.impression&&t.method===g.js&&n.push(t.url);return n=n.map((e=>`<script async src="${e}"><\/script>`)),e?.jstracker&&n.push(e.jstracker),n.length&&(i.javascriptTrackers=n.join("\n")),i}(a,i);Object.assign(e.native,t)}["rendererUrl","adTemplate"].forEach((i=>{const a=t?.nativeParams?.[i];a&&(e.native[i]=E(a))}))}function D(e,{index:t=o.a.index}={}){let i={};const n=t.getAdUnit(e),r=!1!==(0,a.a)(n,"nativeParams.sendTargetingKeys"),d=function(e){const t={};return(0,a.a)(e,"nativeParams.ext")&&Object.keys(e.nativeParams.ext).forEach((e=>{t[e]=`hb_native_${e}`})),{...s.j,...t}}(n),l={...e.native,...e.native.ext};return delete l.ext,Object.keys(l).forEach((t=>{const o=d[t];let s=E(e.native[t])||E((0,a.a)(e,`native.ext.${t}`));if("adTemplate"===t||!o||!s)return;let l=(0,a.a)(n,`nativeParams.${t}.sendId`);"boolean"!=typeof l&&(l=(0,a.a)(n,`nativeParams.ext.${t}.sendId`)),l&&(s=`${o}:${e.adId}`);let p=(0,a.a)(n,`nativeParams.${t}.sendTargetingKeys`);"boolean"!=typeof p&&(p=(0,a.a)(n,`nativeParams.ext.${t}.sendTargetingKeys`)),("boolean"==typeof p?p:r)&&(i[o]=s)})),i}function A(e,t,i=!1){let a=[];return Object.entries(e).filter((([e,a])=>a&&(!1===i&&"ext"===e||null==t||t.includes(e)))).forEach((([e,n])=>{!1===i&&"ext"===e?a.push(...A(n,t,!0)):(i||s.j.hasOwnProperty(e))&&a.push({key:e,value:E(n)})})),a}function S(e,t,i,{index:a=o.a.index}={}){const r={message:"assetResponse",adId:e.adId};let d=(0,l.c)(t).native;return d?(r.native=Object.assign({},d),r.renderer=(0,p.a)(t),null!=i&&(d.assets=d.assets.filter((({key:e})=>i.includes(e))))):d=function(e,t,i){const a={...(0,n.B)(e.native,["rendererUrl","adTemplate"]),assets:A(e.native,i),nativeKeys:s.j};return e.native.ortb?a.ortb=e.native.ortb:t.mediaTypes?.native?.ortb&&(a.ortb=P(e.native,t.nativeOrtbRequest)),a}(t,a.getAdUnit(t),i),Object.assign(r,d)}const C=Object.fromEntries(Object.entries(s.j).map((([e,t])=>[t,e])));function R(e,t){const i=e.assets.map((e=>C[e]));return S(e,t,i)}function k(e,t){return S(e,t,null)}function E(e){return e?.url||e}function M(e,t){for(;e&&t&&e!==t;)e>t?e-=t:t-=e;return e||t}function O(e){if(!I(e))return;const t={};for(const i of e.assets){if(i.title){const e={required:!!i.required&&Boolean(i.required),len:i.title.len};t.title=e}else if(i.img){const e={required:!!i.required&&Boolean(i.required)};if(i.img.w&&i.img.h)e.sizes=[i.img.w,i.img.h];else if(i.img.wmin&&i.img.hmin){const t=M(i.img.wmin,i.img.hmin);e.aspect_ratios=[{min_width:i.img.wmin,min_height:i.img.hmin,ratio_width:i.img.wmin/t,ratio_height:i.img.hmin/t}]}i.img.type===s.h.MAIN?t.image=e:t.icon=e}else if(i.data){let e=Object.keys(s.g).find((e=>s.g[e]===i.data.type)),a=Object.keys(s.l).find((t=>s.l[t]===e));t[a]={required:!!i.required&&Boolean(i.required)},i.data.len&&(t[a].len=i.data.len)}e.privacy&&(t.privacyLink={required:!1})}return t}function U(e){{if(!e||!(0,n.V)(e))return e;if(!e.some((e=>(e?.mediaTypes||{})[d.c]?.ortb)))return e;let t=(0,n.p)(e);for(const e of t)e.mediaTypes&&e.mediaTypes[d.c]&&e.mediaTypes[d.c].ortb&&(e.mediaTypes[d.c]=Object.assign((0,n.rb)(e.mediaTypes[d.c],s.i),O(e.mediaTypes[d.c].ortb)),e.nativeParams=v(e.mediaTypes[d.c]));return t}}function B(e){const t={link:{},eventtrackers:[]};return Object.entries(e).forEach((([e,i])=>{switch(e){case"clickUrl":t.link.url=i;break;case"clickTrackers":t.link.clicktrackers=Array.isArray(i)?i:[i];break;case"impressionTrackers":(Array.isArray(i)?i:[i]).forEach((e=>{t.eventtrackers.push({event:y.impression,method:g.img,url:e})}));break;case"javascriptTrackers":t.jstracker=Array.isArray(i)?i.join(""):i;break;case"privacyLink":t.privacy=i}})),t}function P(e,t){const i={...B(e),assets:[]};function a(e,a){let r=t.assets.find(e);null!=r&&(r=(0,n.p)(r),a(r),i.assets.push(r))}return Object.keys(e).filter((t=>!!e[t])).forEach((t=>{const i=E(e[t]);switch(t){case"title":a((e=>null!=e.title),(e=>{e.title={text:i}}));break;case"image":case"icon":const e="image"===t?s.h.MAIN:s.h.ICON;a((t=>null!=t.img&&t.img.type===e),(e=>{e.img={url:i}}));break;default:t in s.l&&a((e=>null!=e.data&&e.data.type===s.g[s.l[t]]),(e=>{e.data={value:i}}))}})),i}function N(e){var t={};for(var i in e)t[e[i]]=i;return t}},(e,t,i)=>{i.d(t,{a:()=>n});var a=i(18);const n=(0,i(17).j)((e=>a.a.resolveAlias(e)))},(e,t,i)=>{i.d(t,{a:()=>o,b:()=>s});var a=i(1),n=i(53);class r{pushEvent;pushError;constructor(e,t){this.pushEvent=e,this.pushError=t}next(e){this.pushEvent(e)}onError(e){this.pushError&&this.pushError(e)}}class o{factory;eventRetention=!1;observers=[];lastEvent=void 0;constructor(...e){if(2===e.length)this.factory=e[0],this.eventRetention=e[1];else{const t=e[0];(0,a.e)(t)?(this.eventRetention=t,this.factory=n.a):this.factory=t}this.eventRetention&&this.factory(new r(this.next.bind(this)))}next(e){for(const t of this.observers)t(e);this.lastEvent=e}get value(){return this.lastEvent}subscribe(e,t){this.eventRetention?(this.observers.push(e),void 0!==this.lastEvent&&e(this.lastEvent)):this.factory(new r(e,t))}pipe(e){return new o((t=>{this.subscribe((i=>{const a=e(i);void 0!==a&&t.next(a)}),(e=>t.onError(e)))}))}static of(e){return new o((async t=>{t.next(await e)}))}}const s=e=>new o((t=>{const i=[void 0,void 0];e.forEach(((e,a)=>{e.subscribe((e=>{i[a]=e;const[n,r]=i;void 0!==n&&void 0!==r&&t.next([n,r])}))}))}))},(e,t,i)=>{i.d(t,{a:()=>r,b:()=>o});var a=i(22),n=i(1);const r=({interval:e,maxTryCount:t})=>{let i=1;return async()=>!((0,n.i)(t)&&i>=t||(await(0,a.b)(e),i+=1,0))},o=async(e,t)=>{let i=!0;do{const a=await t();if((0,n.i)(a))return a;i=await e()}while(i)}},(e,t,i)=>{i.d(t,{a:()=>n,b:()=>p,c:()=>d,d:()=>l,e:()=>r,f:()=>c,g:()=>o});var a=i(60);const n="production",r="production"===n,o="1.6.0-9460-g2f1d39e45",s=["prv","beta"],d=(()=>{const e=!r;return s.reduce(((e,t)=>(0,a.a)(t)??e),void 0)??e})(),l=!d,p=()=>(0,a.a)("autorefresh")??!0,c=!r||(["prv","peek","gravity"].reduce(((e,t)=>(0,a.a)(t)??e),void 0)??!1)},(e,t,i)=>{i.d(t,{a:()=>D});var a=i(3),n=i(29),r=i(28),o=i(8);const{debug:s,info:d,error:l}=a.a.tag("cmp:api");var p=i(75),c=i(25),m=i(109),u=i(33),b=i(115),f=i(22),g=i(110),y=i(1);const h=e=>(0,y.m)(e)&&Object.values(e).every((e=>(0,y.e)(e))),v=e=>(0,y.m)(e)&&(0,y.n)(e.consents,h)&&(0,y.n)(e.legitimateInterests,h),_=e=>(0,y.m)(e)&&(0,y.n)(e.tcString,y.q)&&(0,y.n)(e.purpose,v)&&(0,y.n)(e.vendor,v);var I=i(34);const w=(0,f.a)(),x=new r.a((async e=>{(await(async({cmpTimeout:e,totalConsentTimeout:t})=>{d("started waiting for cmp...");const i=await(e=>{const t=Date.now();return s(`checking cmp... (timeout=${e}s)`),(0,n.b)((0,n.a)({interval:.1,maxTryCount:10*e}),(()=>{if(window.__tcfapi)return!0})).then((e=>{const i=Date.now()-t;return e?(s(`__tcfapi found in ${i/1e3}s`),{status:"found",elapsed:i}):(s(`no cmp found, timeout after ${i/1e3}s`),{status:"missing",elapsed:i})}))})(e);return"found"===i.status?(({cmpLatency:e,maxDuration:t})=>new r.a((i=>{d(`retrieving consent from __tcfapi (maxDuration=${t})`);const a=(()=>{let t=!0;const i=Date.now();return a=>{const n={...a,cmpLatency:t?e:0,consentLatency:t?Date.now()-i:0};return t=!1,n}})();try{new r.a((e=>{if(!window.__tcfapi)throw new Error("No CMP available for 'addEventListener'!");window.__tcfapi("addEventListener",2,((t,i)=>{i?e.next(t):l("__tcfapi call failed for command 'addEventListener'!")}))})).subscribe((e=>{(e=>{const t=e.eventStatus?.toLowerCase();return!!t&&("useractioncomplete"===t||"tcloaded"===t)})(e)&&i.next(a({tcData:e,cmpStatus:"useractioncomplete"===e.eventStatus?.toLowerCase()?"user":"loaded"}))}))}catch(e){return reportError(new o.b(o.a.consentManagementError,e)),i.next(a({cmpStatus:"error"}))}})))({cmpLatency:i.elapsed,maxDuration:t-i.elapsed}):r.a.of({cmpStatus:"missing",cmpLatency:i.elapsed,consentLatency:0})})(await w.promise)).subscribe((t=>{e.next(t)}))}),!0),T=(0,g.a)({cmp:x,storagePolicy:r.a.of(m.a)},{name:"consent",assumeConsentBeforeCmp:!1}),D=new u.a({name:"turbo-cmp",expirationInterval:2592e3,storageType:()=>T,stream:()=>x,customEncoder:(()=>{const e=(0,I.a)((0,b.a)(_));return{encode:e=>{if(!e.value.tcData)return null;const t={value:e.value.tcData,fetchTime:e.fetchTime};return JSON.stringify(t)},decode:t=>{const i=e(JSON.parse(t));if(!i.value)throw new Error(`stored data does not contain appropriate consent and will be ignored: "${t}"`);return{fetchTime:i.fetchTime,value:{cmpStatus:"cached",tcData:i.value,cmpLatency:0,consentLatency:0}}}}})()});w.promise,c.b.then((e=>{const{consentTimeout:t,cmpTimeout:i}=e.consent;w.resolve({totalConsentTimeout:t,cmpTimeout:i})})),(0,f.b)(1).then((()=>w.resolve(p.a)))},(e,t,i)=>{i.d(t,{a:()=>a,b:()=>o,c:()=>r,d:()=>n});const a={storageAccess:1,personalization:2,adSelectionDeliveryReporting:3,contentSelectionDeliveryReporting:4,measurement:5},n=(e,t,i=!1)=>{const a=e?.purpose?.consents?.[t],n=e?.purpose?.legitimateInterests?.[t];return a??n??i},r=(e,t,i=!1)=>{const a=e?.vendor?.consents?.[t];return a??i},o=e=>e?.tcString},(e,t,i)=>{i.d(t,{a:()=>l});var a=i(3),n=(i(24),i(115)),r=i(90),o=i(34),s=i(1),d=i(28);class l{#n;#r;#o;#s;#d;#l;#p;#c=!1;#m=!1;constructor(e){this.#n=e,this.#r=a.a.tag(`bundle:${e.name}`),this.#d=`hbv:bundle:${this.#n.name}`;const t=e.validator??o.b;this.#p=(0,o.a)((0,n.a)(t)),e.validator||this.#r.debug("validator should be provided to bundle option and will become mandatory"),this.#s=e.storageType(),this.#o=new d.a(!0);const i=this.#o.pipe((e=>{if("origin"===e?.source)return e}));(0,d.b)([this.#s,i]).subscribe((([e,t])=>{this.#u(e,t)})),this.#l=new d.a((async e=>{if(this.#r.debug("started loading from source..."),this.#c=!0,this.#n.loader)try{const t=await Promise.resolve(this.#n.loader());e.next(t)}catch(t){this.#r.error("Loading from loader failed",t),e.onError(t)}finally{this.#c=!1}else{if(this.#m)return;this.#m=!0,this.#n.stream().subscribe((t=>e.next(t)))}})).pipe((e=>(this.#r.info("a new value was retrieved from origin:",e),this.#o.next({value:e,fetchTime:Date.now(),source:"origin"}),e))),this.#b()}#f=async()=>this.#n.keySuffix?`${this.#d}-${await this.#n.keySuffix()}`:this.#d;#u=async(e,t)=>{try{const i=t?this.#g({fetchTime:t.fetchTime,value:t.value}):null;(0,r.b)(e,await this.#f(),i)}catch(i){this.#r.error(`error while persisting data to storage '${e}'`,t)}};#y=e=>{try{return this.#n.customEncoder?this.#n.customEncoder.decode(e):this.#p(JSON.parse(e))}catch(e){this.#r.debug("Could not validate cached data :",e)}return null};#g=e=>this.#n.customEncoder?this.#n.customEncoder.encode(e):JSON.stringify(e);_fetchTask=()=>this.#c?this.#h():void 0;#b=async()=>{const e=await this.#f();this.#r.debug("started loading of cached data...");let t=!1;this.#s.subscribe((i=>{if(t)return;t=!0;const a=(0,r.a)(i,e);if(!a)return;const n=this.#y(a);(0,s.r)(this.#o.value)&&null!==n?(this.#r.debug("cached data will be used:",n),this.#o.next({...n,source:"cache"})):this.#r.debug("cached data won't be used because data is already available or cached data is invalid",n)}))};#v;#h=async()=>(this.#c||(this.#c=!0,this.#v=new Promise(((e,t)=>{this.#l.subscribe((t=>{this.#c=!1,e(t)}),(e=>{t(e)}))}))),this.#v);#_=(e,t)=>!(0,s.r)(this.#n.freshnessInterval)&&t-e.fetchTime<1e3*this.#n.freshnessInterval;#I=(e,t)=>t-e.fetchTime>1e3*this.#n.expirationInterval;updatedValue=()=>{const e=Date.now(),t=this.#o.value;if(t&&this.#_(t,e))return this.#r.info("current data is fresh enough and won't be refreshed right now",t.value),Promise.resolve(t.value);const i=this.#h();return t&&!this.#I(t,e)?(this.#r.info("current data will be used and bundle will be refreshed in background if needed",t),Promise.resolve(t.value)):(this.#r.info("current data is expired or unavailable and bundle must wait for refresh task"),i)};fetchIfNeeded=()=>this.updatedValue();clearData=()=>{this.#u("local-storage",null)};get asStream(){return this.#o.pipe((e=>{if((0,s.i)(e)&&!this.#I(e,Date.now()))return e.value}))}get currentValue(){const e=this.#o.value;return e&&!this.#I(e,Date.now())?e.value:this.#n.defaultValue}}},(e,t,i)=>{i.d(t,{a:()=>v,b:()=>_,c:()=>h}),i(33);var a=i(1),n=i(62);const r=new Set([n.b.no,n.b.yes]),o=e=>(0,a.m)(e);var s=i(64),d=i(65);const l=new Set([0,1,2,3,4,5,6,7,8]),p=new Set([1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]),c=new Set([s.a.vpaid10,s.a.vpaid20,s.a.mraid1,s.a.ormma,s.a.mraid2,s.a.mraid3,s.a.omid1]),m=new Set([d.a.vast10,d.a.vast20,d.a.vast30,d.a.vast10Wrapper,d.a.vast20Wrapper,d.a.vast30Wrapper,d.a.vast40,d.a.vast40Wrapper,d.a.daast10,d.a.daast10Wrapper,d.a.vast41,d.a.vast41Wrapper,d.a.vast42,d.a.vast42Wrapper]),u=new Set([1,2,3]),b=e=>(0,a.q)(e),f=e=>(0,a.l)(e)&&p.has(e),g=e=>(0,a.m)(e)&&(0,a.q)(e.id)&&(0,a.q)(e.impid)&&(0,a.l)(e.price)&&((0,a.j)(e.adid)||(0,a.q)(e.adid))&&((0,a.j)(e.nurl)||(0,a.q)(e.nurl))&&((0,a.j)(e.adm)||(0,a.q)(e.adm))&&((0,a.j)(e.adomain)||(0,a.b)(e.adomain,a.q))&&((0,a.j)(e.bundle)||(0,a.q)(e.bundle))&&((0,a.j)(e.iurl)||(0,a.q)(e.iurl))&&((0,a.j)(e.cid)||(0,a.q)(e.cid))&&((0,a.j)(e.crid)||(0,a.q)(e.crid))&&((0,a.j)(e.cat)||(0,a.b)(e.cat,b))&&((0,a.j)(e.attr)||(0,a.b)(e.attr,f))&&((0,a.j)(e.api)||(e=>(0,a.l)(e)&&c.has(e))(e.api))&&((0,a.j)(e.protocol)||(e=>(0,a.l)(e)&&m.has(e))(e.protocol))&&((0,a.j)(e.qagmediarating)||(e=>(0,a.l)(e)&&u.has(e))(e.qagmediarating))&&((0,a.j)(e.dealid)||(0,a.q)(e.dealid))&&((0,a.j)(e.w)||(0,a.l)(e.w))&&((0,a.j)(e.h)||(0,a.l)(e.h))&&((0,a.j)(e.exp)||(0,a.l)(e.exp))&&((0,a.j)(e.ext)||o(e.ext)),y=e=>(0,a.m)(e)&&((0,a.j)(e.bid)||(0,a.b)(e.bid,g))&&((0,a.j)(e.seat)||(0,a.q)(e.seat))&&((0,a.j)(e.group)||(e=>(0,a.l)(e)&&r.has(e))(e.group))&&((0,a.j)(e.ext)||o(e.ext)),h=e=>(0,a.m)(e)&&(0,a.q)(e.id)&&((0,a.j)(e.seatbid)||(0,a.b)(e.seatbid,y))&&((0,a.j)(e.bidid)||(0,a.q)(e.bidid))&&((0,a.j)(e.cur)||(e=>(0,a.q)(e))(e.cur))&&((0,a.j)(e.customdata)||(0,a.q)(e.customdata))&&((0,a.j)(e.nbr)||(e=>(0,a.l)(e)&&l.has(e))(e.nbr))&&((0,a.j)(e.ext)||o(e.ext)),v=e=>t=>{if(!e(t))throw new Error("validation failed");return t},_=()=>!0},(e,t,i)=>{i.d(t,{a:()=>o,b:()=>r,c:()=>a,d:()=>n});const a="native",n="video",r="banner",o="adpod"},(e,t,i)=>{i.d(t,{a:()=>c,b:()=>m,c:()=>u});var a=i(2),n=i(0);const r={fetch:window.fetch.bind(window),makeRequest:(e,t)=>new Request(e,t),timeout(e,t){const i=new AbortController;let a=setTimeout((()=>{i.abort(),(0,n.gb)(`Request timeout after ${e}ms`,t),a=null}),e);return{signal:i.signal,done(){a&&clearTimeout(a)}}}},o="GET",s="POST",d="Content-Type";function l(e=3e3,{request:t,done:i}={}){let n=(t,i)=>{let n;null==e||null!=i?.signal||a.config.getConfig("disableAjaxTimeout")||(n=r.timeout(e,t),i=Object.assign({signal:n.signal},i));let o=r.fetch(t,i);return null!=n?.done&&(o=o.finally(n.done)),o};return null==t&&null==i||(n=(e=>function(a,n){const r=new URL(null==a?.url?a:a.url,document.location).origin;let o=e(a,n);return t&&t(r),i&&(o=o.finally((()=>i(r)))),o})(n)),n}function p({status:e,statusText:t="",headers:i,url:a},r){let o=0;function s(e){if(0===o)try{o=(new DOMParser).parseFromString(r,i?.get(d)?.split(";")?.[0])}catch(t){o=null,e&&e(t)}return o}return{readyState:XMLHttpRequest.DONE,status:e,statusText:t,responseText:r,response:r,responseType:"",responseURL:a,get responseXML(){return s(n.gb)},getResponseHeader:e=>i?.has(e)?i.get(e):null,toJSON(){return Object.assign({responseXML:s()},this)},timedOut:!1,getAllResponseHeaders:()=>i?Array.from(i).flat().join():""}}function c(e=3e3,{request:t,done:i}={}){const a=l(e,{request:t,done:i});return function(e,t,i,l={}){!function(e,t){const{success:i,error:a}="object"==typeof t&&null!=t?t:{success:"function"==typeof t?t:()=>null,error:(e,t)=>(0,n.gb)("Network error",e,t)};e.then((e=>e.text().then((t=>[e,t])))).then((([e,t])=>{const n=p(e,t);e.ok||304===e.status?i(t,n):a(e.statusText,n)}),(e=>a("",Object.assign(p({status:0},""),{reason:e,timedOut:"AbortError"===e?.name}))))}(a(function(e,t,i={}){const a=i.method||(t?s:o);if(a===o&&t){const a=(0,n.qb)(e,i);Object.assign(a.search,t),e=(0,n.e)(a)}const l=new Headers(i.customHeaders);l.set(d,i.contentType||"text/plain");const p={method:a,headers:l};return a!==o&&t&&(p.body=t),i.withCredentials&&(p.credentials="include"),i.browsingTopics&&isSecureContext&&(p.browsingTopics=!0),i.keepalive&&(p.keepalive=!0),r.makeRequest(e,p)}(e,i,l)),t)}}const m=c(),u=l()},(e,t,i)=>{i.d(t,{a:()=>n,b:()=>r});var a=i(1);const n=e=>(0,a.d)(e,(e=>(0,a.q)(e)||e instanceof RegExp)),r=(e,...t)=>!(0,a.j)(e)&&((0,a.c)(e)?e.some((e=>r(e,...t))):(0,a.q)(e)?t.some((t=>t===e)):e instanceof RegExp&&t.some((t=>e.test(t))))},(e,t,i)=>{i.d(t,{a:()=>l,b:()=>d,c:()=>o,d:()=>c,e:()=>m,f:()=>b,g:()=>y,h:()=>f,i:()=>g,j:()=>u,k:()=>h,l:()=>p,m:()=>s,n:()=>_,o:()=>v});var a=i(21),n=i(29),r=i(1);const o=e=>{for(;e.firstChild;)e.firstChild.remove()},s=(e,t)=>{for(const[i,a]of Object.entries(t)){const t=a.replace(/\s*!important\s*$/gi,""),n=a!==t;e.style.setProperty(i,t,n?"important":"")}},d=(e,t,i)=>{const a=e.getElementById(t)??((e,t)=>{const i=e.createElement("style");return i.id=t,e.head.append(i),i})(e,t);return o(a),a.append(document.createTextNode(i)),a},l=((0,a.a)(d),(e,t)=>d(document,e,t)),p=(e,{id:t,width:i,height:a})=>{t&&(e.id=t),s(e,{width:`${i}px`,height:`${a}px`,border:"0"});const n={marginheight:"0",marginwidth:"0",width:`${i}`,height:`${a}`,topmargin:"0",leftmargin:"0",allowtransparency:"true",scrolling:"no"};for(const[t,i]of Object.entries(n))e.setAttribute(t,i)},c=e=>{e.setAttribute("width","0"),e.setAttribute("height","0"),e.style.display="none",e.style.width="0px",e.style.height="0px",e.style.border="0"},m=e=>9===e.nodeType,u=e=>11===e.nodeType&&!!e.host,b=e=>1===e.nodeType,f=e=>{const t=e?.ownerDocument.defaultView;return!!t&&e instanceof t.HTMLIFrameElement},g=e=>{const t=e?.ownerDocument.defaultView;return!!t&&e instanceof t.HTMLElement},y=/Firefox\//i.test(navigator.userAgent),h=e=>(0,r.i)(e)&&"uninitialized"!==e.readyState,v=async(e,t)=>{await(0,n.b)((0,n.a)({interval:.01,maxTryCount:10}),(()=>h(e.contentDocument)||void 0)),t()},_=async e=>(0,n.b)((0,n.a)({interval:.01,maxTryCount:10}),(()=>h(e.contentDocument)?e.contentDocument:void 0))},(e,t,i)=>{i.d(t,{a:()=>n,b:()=>a});const a={pageView:"page-view",visibility:"visibility",secondChance:"second-chance"};class n{bidderTimeout;placements;refreshReason;context;amazonOrtb2;constructor(e){Object.assign(this,e)}}},(e,t,i)=>{i.d(t,{a:()=>a});const a={error:"lifecycle::error",refresh:"lifecycle::refresh",auctionStarted:"lifecycle::auction-started",auctionFinished:"lifecycle::auction-finished",auctionResolved:"lifecycle::auction-resolved",renderRequested:"lifecycle::render-requested",renderableRequested:"lifecycle::renderable-requested",refreshRequested:"lifecycle::refresh-requested",impression:"lifecycle::impression",adrequest:"lifecycle::adrequest",amazonImp:"lifecycle::amazon-imp",measuredImp:"lifecycle::measured-imp",visibleImp:"lifecycle::visible-imp",renderedImp:"lifecycle::rendered-imp",backupRenderRequested:"lifecycle::backup-render-requested",carbonFilteredBid:"lifecycle::carbon-filtered-bid",amazonRenderRequest:"lifecycle::amazon-render-request"}},(e,t,i)=>{i.d(t,{remoteConfiguration:()=>B});var a=i(33);const n={currencies:{rates:{USD:{AED:3.67299,AFN:65.797361,ALL:90.991249,AMD:387.498963,ANG:1.802396,AOA:911.498816,ARS:980.759016,AUD:1.489902,AWG:1.8025,AZN:1.699537,BAM:1.803595,BBD:2.019292,BDT:119.514197,BGN:1.80373,BHD:.376931,BIF:2908.27101,BMD:1,BND:1.312535,BOB:6.910798,BRL:5.65529,BSD:1.000101,BTC:1478513e-11,BTN:84.074918,BWP:13.334686,BYN:3.2729,BYR:19600,BZD:2.01588,CAD:1.378875,CDF:2844.99992,CHF:.866435,CLF:.03422,CLP:944.210563,CNY:7.104199,CNH:7.120845,COP:4255.88,CRC:514.021708,CUC:1,CUP:26.5,CVE:101.683896,CZK:23.2616,DJF:178.089266,DKK:6.87453,DOP:60.245853,DZD:133.434973,EGP:48.62812,ERN:15,ETB:119.959701,EUR:.921805,FJD:2.228199,FKP:.765169,GBP:.766545,GEL:2.720027,GGP:.765169,GHS:16.051273,GIP:.765169,GMD:69.504116,GNF:8626.970002,GTQ:7.732458,GYD:209.230911,HKD:7.768985,HNL:24.958733,HRK:6.88903,HTG:131.613165,HUF:368.670146,IDR:15494.25,ILS:3.706075,IMP:.765169,INR:84.068497,IQD:1310.137497,IRR:42102.497823,ISK:137.460133,JEP:.765169,JMD:158.87273,JOD:.708899,JPY:150.006981,KES:129.519549,KGS:85.498543,KHR:4062.191647,KMF:454.849575,KPW:899.999774,KRW:1371.809475,KWD:.30652,KYD:.833464,KZT:483.137985,LAK:21938.601426,LBP:89559.106963,LKR:292.828226,LRD:192.522985,LSL:17.562224,LTL:2.95274,LVL:.60489,LYD:4.811922,MAD:9.903632,MDL:17.816468,MGA:4580.455371,MKD:56.714217,MMK:3247.960992,MNT:3398.000028,MOP:8.003486,MRU:39.593689,MUR:46.440104,MVR:15.359962,MWK:1733.95426,MXN:19.714199,MYR:4.304496,MZN:63.905007,NAD:17.562224,NGN:1635.104446,NIO:36.804102,NOK:10.877785,NPR:134.519868,NZD:1.64659,OMR:.38497,PAB:1.000101,PEN:3.769124,PGK:3.939542,PHP:57.486498,PKR:277.62816,PLN:3.9723,PYG:7917.815546,QAR:3.647488,RON:4.584399,RSD:107.866959,RUB:96.49782,RWF:1358.182942,SAR:3.755625,SBD:8.340864,SCR:13.619272,SDG:601.504962,SEK:10.52683,SGD:1.312065,SHP:.765169,SLE:22.619796,SLL:20969.496802,SOS:571.565581,SRD:32.745501,STD:20697.981008,SVC:8.750542,SYP:2512.530268,SZL:17.548115,THB:33.19018,TJS:10.66599,TMT:3.5,TND:3.094274,TOP:2.342098,TRY:34.293755,TTD:6.786304,TWD:32.070237,TZS:2725.000041,UAH:41.23498,UGX:3668.421878,USD:1,UYU:41.903743,UZS:12804.433829,VEF:3622552.534434,VES:39.085518,VND:25165,VUV:118.722039,WST:2.801184,XAF:604.908751,XAG:.031169,XAU:369e-6,XCD:2.70255,XDR:.747333,XOF:604.908751,XPF:109.978882,YER:250.375,ZAR:17.603198,ZMK:9001.214208,ZMW:26.578076,ZWL:321.999592}},lastUpdated:"2024-10-18T12:00:06.000Z"}};var r=i(69),o=i(34),s=i(25),d=i(63),l=i(1),p=i(70);const c=e=>(0,l.m)(e)&&(0,l.q)(e.type)&&(e.type===p.a.INCLUDE||e.type===p.a.EXCLUDE)&&(0,l.n)(e.values,(0,l.h)(l.b,l.q)),m=e=>(0,l.m)(e)&&(0,l.n)(e.name,l.q)&&((0,l.n)(e.startDate,l.f)||!isNaN(Date.parse(e.startDate)))&&((0,l.n)(e.endDate,l.f)||!isNaN(Date.parse(e.endDate))),u=e=>(0,l.m)(e)&&("window"===e.type||"tcvars"===e.type||"datalayer"===e.type)&&(0,l.q)(e.key)&&(0,l.n)(e.values,(0,l.h)(l.b,l.q))&&(0,l.n)(e.regex,(0,l.h)(l.b,l.q)),b=e=>(0,l.m)(e)&&(0,l.n)(e.pageZones,(0,l.h)(l.d,l.q))&&(0,l.n)(e.layouts,(0,l.h)(l.d,l.q))&&(0,l.n)(e.placementIds,(0,l.h)(l.d,l.q))&&(0,l.n)(e.supportCodes,(0,l.h)(l.d,l.q))&&(0,l.n)(e.isConsentless,l.e)&&(0,l.n)(e.urlMatching,(0,l.h)(l.d,l.q))&&(0,l.n)(e.allowedDisplayFormats,(0,l.h)(l.b,l.q))&&((0,l.r)(e.viewability)||"atf"===e.viewability||"btf"===e.viewability)&&(0,l.n)(e.countries,(0,l.h)(l.d,l.q))&&(0,l.n)(e.allowedSizes,(0,l.h)(l.d,l.q))&&(0,l.n)(e.allowedCustomFormats,(0,l.h)(l.d,l.q))&&(0,l.n)(e.customTargeting,u),f=e=>(0,l.m)(e)&&b(e)&&(0,l.q)(e.name)&&((0,l.r)(e.priceFloor)||(0,l.l)(e.priceFloor))&&((0,l.r)(e.currency)||(0,l.q)(e.currency))&&((0,l.r)(e.startDate)||(0,l.f)(e.startDate)||!isNaN(Date.parse(e.startDate)))&&((0,l.r)(e.endDate)||(0,l.f)(e.endDate)||!isNaN(Date.parse(e.endDate)))&&(0,l.n)(e.isGuaranteed,l.e)&&(0,l.n)(e.conditions,(0,l.h)(l.d,b)),g=e=>(0,l.m)(e)&&m(e)&&(0,l.n)(e.bidders,c)&&(0,l.n)(e.countries,c)&&(0,l.n)(e.displayFormats,c)&&(0,l.e)(e.consent)&&(0,l.e)(e.consentless)&&(0,l.n)(e.layouts,c)&&(0,l.n)(e.pageZones,c)&&(0,l.n)(e.placementIds,c)&&(0,l.n)(e.supportCodes,c),y=e=>(0,l.m)(e)&&m(e)&&(0,l.l)(e.adjustment)&&("adserver"===e.adjustmentKind||"cpm"===e.adjustmentKind)&&(0,l.n)(e.bidders,c)&&(0,l.n)(e.layouts,c)&&(0,l.n)(e.displayFormats,c)&&(0,l.n)(e.placementIds,c)&&(0,l.n)(e.supportCodes,c),h=e=>(0,l.m)(e)&&(0,l.q)(e.device)&&(0,l.q)(e.support)&&(0,l.q)(e.creativeId),v=e=>(0,l.m)(e)&&(0,l.n)(e.pageZones,(0,l.h)(l.d,l.q))&&(0,l.n)(e.devices,(0,l.h)(l.d,l.q))&&(0,l.n)(e.placementIds,(0,l.h)(l.d,l.q))&&(0,l.n)(e.supportCodes,(0,l.h)(l.d,l.q))&&(0,l.n)(e.mediaTypes,(0,l.h)(l.d,(e=>"banner"===e||"video"===e)))&&("atf"===e.fold||"btf"===e.fold)&&((0,l.n)(e.startDate,l.f)||!isNaN(Date.parse(e.startDate)))&&((0,l.n)(e.endDate,l.f)||!isNaN(Date.parse(e.endDate))),_=e=>(0,l.m)(e)&&(0,l.n)(e.defaultFloor,l.l)&&(0,l.o)(e.floorRules,(e=>(0,l.l)(e)||(e=>(0,l.m)(e)&&(0,l.l)(e.floor)&&(0,l.n)(e.immutable,l.e)&&(0,l.n)(e.currency,l.q))(e)))&&(0,l.b)(e.schema,l.q)&&(0,l.n)(e.currency,l.q)&&(0,l.n)(e.bidders,c)&&(0,l.n)(e.countries,c)&&(0,l.e)(e.consent)&&(0,l.e)(e.consentless)&&(0,l.n)(e.layouts,c)&&(0,l.n)(e.pageZones,c)&&(0,l.n)(e.supportCodes,c),I=e=>(0,l.m)(e)&&(0,l.d)(e.devices,(0,l.h)(l.d,l.q))&&(0,l.n)(e.categories,(0,l.h)(l.d,l.q))&&(0,l.n)(e.zones,(0,l.h)(l.d,l.q))&&(0,l.n)(e.placement,l.q)&&(0,l.n)(e.refresh,l.e)&&(0,l.n)(e.support,l.q)&&(0,l.o)(e.multiplierByHour,(e=>(0,l.l)(e))),w=e=>(0,l.m)(e)&&(0,l.b)(e.multipliers,I),x=e=>(0,l.m)(e)&&(0,l.e)(e.enabled)&&(0,l.n)(e.supports,(0,l.h)(l.d,l.q))&&(0,l.n)(e.devices,(0,l.h)(l.d,l.q)),T=e=>(0,l.m)(e)&&(0,l.o)(e.rates,(e=>(0,l.o)(e,(e=>(0,l.l)(e)))))&&(0,l.b)(e.bidders,l.q)&&(0,l.o)(e.dimensionValues,(e=>(0,l.b)(e,l.q)))&&(0,l.b)(e.contextDimensions,l.q),D=e=>(0,l.m)(e)&&(0,l.q)(e.name)&&(0,l.n)(e.devices,(0,l.h)(l.b,l.q))&&(0,l.n)(e.supportCodes,(0,l.h)(l.b,l.q))&&(0,l.n)(e.placementIds,(0,l.h)(l.b,l.q))&&(0,l.n)(e.bidders,c)&&(0,l.n)(e.customTargeting,u),A=e=>"sas"===e||"gam"===e||"hsc"===e,S=e=>"exposition"===e||"timer"===e||"basic-timer"===e,C=e=>(0,l.m)(e)&&(0,l.l)(e.value)&&(0,l.n)(e.bidders,(0,l.h)(l.d,l.q))&&(0,l.n)(e.placementIds,(0,l.h)(l.d,l.q))&&(0,l.n)(e.displayFormats,(0,l.h)(l.d,l.q)),R=e=>(0,l.c)(e)&&e.every((e=>(0,l.m)(e)&&(0,l.n)(e.devices,(0,l.h)(l.d,l.q))&&("autorefresh"===e.option||"second-chance"===e.option||"blocklist"===e.option||"user-syncs"===e.option||"user-ids"===e.option)&&(0,l.n)(e.supportCodes,(0,l.h)(l.d,l.q))&&(e=>(0,l.m)(e)&&(0,l.n)(e.adservers,(0,l.h)(l.d,A))&&(0,l.n)(e.refreshListenerKind,S)&&(0,l.n)(e.duration,(0,l.h)(l.c,C))&&(0,l.n)(e.maxRefreshCount,(0,l.h)(l.c,C))&&(0,l.n)(e.visibleRatio,(0,l.h)(l.c,C))&&(0,l.n)(e.elementIds,(0,l.h)(l.d,l.q))&&(0,l.n)(e.isElementIdsWhiteList,l.e))(e.params)&&((0,l.n)(e.startDate,l.f)||!isNaN(Date.parse(e.startDate)))&&((0,l.n)(e.endDate,l.f)||!isNaN(Date.parse(e.endDate))))),k=e=>(0,l.m)(e)&&(0,l.n)(e.bidders,(0,l.h)(l.b,g))&&(0,l.n)(e.cpmAdjustments,(0,l.h)(l.b,y))&&(0,l.n)(e.deals,(0,l.h)(l.b,f))&&(0,l.n)(e.blacklistedCreatives,(0,l.h)(l.b,h))&&(0,l.n)(e.floors,(0,l.h)(l.b,_))&&(0,l.n)(e.folds,(0,l.h)(l.b,v))&&(0,l.n)(e.floorMultipliers,(0,l.h)(l.b,w))&&(0,l.n)(e.floorMultiplierConfigs,(0,l.h)(l.b,x))&&(0,l.n)(e.options,R)&&(0,l.n)(e.cleanr,(0,l.h)(l.b,D))&&(0,l.n)(e.callRates,T),E=e=>(0,l.m)(e)&&(e=>(0,l.m)(e)&&(0,l.o)(e.rates,(e=>(0,l.o)(e,(e=>(0,l.l)(e)))))&&(0,l.q)(e.lastUpdated))(e.currencies)&&(0,l.n)(e.publisherConfiguration,k),M=(0,o.a)(E),O=e=>{const t=(new Date).getTime(),{startDate:i,endDate:a}=e;return(!i||new Date(i).getTime()<t)&&(!a||t<new Date(a).getTime())},U={encode:e=>JSON.stringify(e),decode:e=>{const t=JSON.parse(e),{publisherConfiguration:i}=M(t.value);return i&&(i.bidders=i.bidders?.filter(O),i.cpmAdjustments=i.cpmAdjustments?.filter(O),i.deals=i.deals?.filter(O),i.floors=i.floors?.filter(O),i.folds=i.folds?.filter(O)),t}},B=new a.a({name:`remote-configuration-v2-${d.b}`,keySuffix:async()=>(await s.b).support,storageType:()=>(0,r.a)({name:"remoteConfiguration"}),freshnessInterval:3600,expirationInterval:604800,loader:async()=>{const e=await s.b,t=new URL("https://c.client-context.hubvisor.io/configuration/v2");t.searchParams.set("publisherId",e.publisherId),t.searchParams.set("device",d.b),t.searchParams.set("support",e.support);const i=await fetch(t);if(!i.ok)throw new Error(`http status: ${i.statusText}`);const a=await i.json();return M(a)},customEncoder:U,defaultValue:E(n)?n:void 0,validator:E})},(e,t,i)=>{i.d(t,{a:()=>s,b:()=>d});var a=i(31),n=i(32),r=i(25);const o={assumeConsentlessIfCmpUnavailable:!1};r.b.then((e=>{o.assumeConsentlessIfCmpUnavailable=e.consent.assumeConsentlessIfCmpUnavailable}));const s=()=>!!a.a.currentValue?.tcData?.gdprApplies,d=()=>{const e=a.a.currentValue;return e?.tcData?!!e.tcData.gdprApplies&&!(0,n.d)(e.tcData,n.a.storageAccess):o.assumeConsentlessIfCmpUnavailable}},(e,t,i)=>{i.d(t,{a:()=>a});const a=(0,i(99).a)({value:!0,weight:1},{value:!1,weight:99})},(e,t,i)=>{i.d(t,{a:()=>a});const a=new(i(45).TinyEmitter)},e=>{function t(){}t.prototype={on:function(e,t,i){var a=this.e||(this.e={});return(a[e]||(a[e]=[])).push({fn:t,ctx:i}),this},once:function(e,t,i){var a=this;function n(){a.off(e,n),t.apply(i,arguments)}return n._=t,this.on(e,n,i)},emit:function(e){for(var t=[].slice.call(arguments,1),i=((this.e||(this.e={}))[e]||[]).slice(),a=0,n=i.length;a<n;a++)i[a].fn.apply(i[a].ctx,t);return this},off:function(e,t){var i=this.e||(this.e={}),a=i[e],n=[];if(a&&t)for(var r=0,o=a.length;r<o;r++)a[r].fn!==t&&a[r].fn._!==t&&n.push(a[r]);return n.length?i[e]=n:delete i[e],this}},e.exports=t,e.exports.TinyEmitter=t},(e,t,i)=>{i.d(t,{a:()=>l,b:()=>p,c:()=>d,d:()=>b,e:()=>c,f:()=>u,g:()=>m});var a=i(0),n=i(5),r=i(2),o=i(7),s=i(9);const d="outstream",l="instream",p=new Map([["mimes",e=>Array.isArray(e)&&e.length>0&&e.every((e=>"string"==typeof e))],["minduration",a.$],["maxduration",a.$],["startdelay",a.$],["maxseq",a.$],["poddur",a.$],["protocols",a.U],["w",a.$],["h",a.$],["podid",a.eb],["podseq",a.$],["rqddurs",a.U],["placement",a.$],["plcmt",a.$],["linearity",a.$],["skip",e=>[1,0].includes(e)],["skipmin",a.$],["skipafter",a.$],["sequence",a.$],["slotinpod",a.$],["mincpmpersec",a.ab],["battr",a.U],["maxextended",a.$],["minbitrate",a.$],["maxbitrate",a.$],["boxingallowed",a.$],["playbackmethod",a.U],["playbackend",a.$],["delivery",a.U],["pos",a.$],["api",a.U],["companiontype",a.U],["poddedupe",a.U]]);function c(e){const t=e?.mediaTypes?.video;null!=t&&null==t.plcmt&&(t.context===d||[2,3,4].includes(t.placement)?t.plcmt=4:t.context!==d&&[2,6].includes(t.playbackmethod)&&(t.plcmt=2))}function m(e,t){const i=e?.mediaTypes?.video;(0,a.bb)(i)?null!=i&&Object.entries(i).forEach((([n,r])=>{p.has(n)&&(p.get(n)(r)||("function"==typeof t?t(n,r,e):(delete i[n],(0,a.jb)(`Invalid prop in adUnit "${e.code}": Invalid value for mediaTypes.video.${n} ORTB property. The property has been removed.`))))})):(0,a.jb)("validateOrtbVideoFields: videoParams must be an object.")}function u(e,{index:t=s.a.index}={}){const i=(0,n.a)(t.getMediaTypes(e),"video"),a=i&&(0,n.a)(i,"context"),r=i&&(0,n.a)(i,"useCacheKey"),o=t.getAdUnit(e);return b(e,o,i,a,r)}const b=(0,o.b)("sync",(function(e,t,i,n,o){return i&&(o||n!==d)?r.config.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):((0,a.gb)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with hubjs.setConfig({ cache: {url: "..."} });\n      '),!1):!(n===d&&!o&&!(e.renderer||t&&t.renderer||i.renderer))}),"checkVideoBidSetup")},(e,t,i)=>{i.d(t,{a:()=>m,userSync:()=>b});var a=i(0),n=i(2),r=i(4),o=i(81),s=i(11),d=i(13),l=i(17),p=i(12),c=i(27);const m={syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:500};n.config.setDefaults({userSync:(0,a.p)(m)});const u=(0,o.c)("usersync"),b=function(e){let t={},i={image:[],iframe:[]},o=new Set,s={},m={image:!0,iframe:!1},u=e.config;function b(){if(u.syncEnabled&&e.browserSupportsCookies){try{m.iframe&&f(i.iframe,(e=>{let[t,n]=e;(0,a.ib)(`Invoking iframe user sync for bidder: ${t}`),(0,a.Q)(n),function(e,t){e.image=e.image.filter((e=>e[0]!==t))}(i,t)})),m.image&&f(i.image,(e=>{let[t,i]=e;(0,a.ib)(`Invoking image pixel user sync for bidder: ${t}`),(0,a.Fb)(i)}))}catch(e){return(0,a.gb)("Error firing user syncs",e)}i={image:[],iframe:[]}}}function f(e,t){(0,a.zb)(e).forEach(t)}return n.config.getConfig("userSync",(e=>{if(e.userSync){let t=e.userSync.filterSettings;(0,a.bb)(t)&&(t.image||t.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"}))}u=Object.assign(u,e.userSync)})),e.regRule(d.f,"userSync config",(e=>{if(!u.syncEnabled)return{allow:!1,reason:"syncs are disabled"};if(e[l.d]===p.b){const i=e[l.g],a=e[l.c];if(!t.canBidderRegisterSync(i,a))return{allow:!1,reason:`${i} syncs are not enabled for ${a}`}}})),t.registerSync=(t,n,r)=>o.has(n)?(0,a.ib)(`already fired syncs for "${n}", ignoring registerSync call`):u.syncEnabled&&(0,a.V)(i[t])?n?0!==u.syncsPerBidder&&Number(s[n])>=u.syncsPerBidder?(0,a.jb)(`Number of user syncs exceeded for "${n}"`):void(e.isAllowed(d.f,(0,c.a)(p.b,n,{[l.g]:t,[l.h]:r}))&&(i[t].push([n,r]),s=function(e,t){return e[t]?e[t]+=1:e[t]=1,e}(s,n))):(0,a.jb)("Bidder is required for registering sync"):(0,a.jb)(`User sync type "${t}" not supported`),t.bidderDone=o.add.bind(o),t.syncUsers=(e=0)=>{if(e)return setTimeout(b,Number(e));b()},t.triggerUserSyncs=()=>{u.enableOverride&&t.syncUsers()},t.canBidderRegisterSync=(e,t)=>!u.filterSettings||!function(e,t){let i=u.filterSettings;if(function(e,t){if(e.all&&e[t])return(0,a.jb)(`Detected presence of the "filterSettings.all" and "filterSettings.${t}" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.`),!1;let i=e.all?e.all:e[t],n=e.all?"all":t;if(!i)return!1;let r=i.filter,o=i.bidders;return r&&"include"!==r&&"exclude"!==r?((0,a.jb)(`UserSync "filterSettings.${n}.filter" setting '${r}' is not a valid option; use either 'include' or 'exclude'.`),!1):!!("*"===o||Array.isArray(o)&&o.length>0&&o.every((e=>(0,a.eb)(e)&&"*"!==e)))||((0,a.jb)(`Detected an invalid setup in userSync "filterSettings.${n}.bidders"; use either '*' (to represent all bidders) or an array of bidders.`),!1)}(i,e)){m[e]=!0;let a=i.all?i.all:i[e],n="*"===a.bidders?[t]:a.bidders;const o={include:(e,t)=>!(0,r.c)(e,t),exclude:(e,t)=>(0,r.c)(e,t)};return o[a.filter||"include"](n,t)}return!m[e]}(e,t),t}(Object.defineProperties({config:n.config.getConfig("userSync"),isAllowed:s.a,regRule:s.b},{browserSupportsCookies:{get:function(){return!(0,a.cb)()&&u.cookiesAreEnabled()}}}))},(e,t,i)=>{i.d(t,{a:()=>c,b:()=>u,c:()=>m});var a=i(85),n=i(0),r=i(5),o=i(4),s=i(16),d=i(12);const l=(0,s.a)(),p="outstream";function c(e){const{url:t,config:i,id:s,callback:c,loaded:m,adUnitCode:u,renderNow:b}=e;this.url=t,this.config=i,this.handlers={},this.id=s,this.renderNow=b,this.loaded=m,this.cmd=[],this.push=e=>{"function"==typeof e?this.loaded?e.call():this.cmd.push(e):(0,n.gb)("Commands given to Renderer.push must be wrapped in a function")},this.callback=c||(()=>{this.loaded=!0,this.process()}),this.render=function(){const e=arguments,i=()=>{this._render?this._render.apply(this,e):(0,n.jb)("No render function was provided, please use .setRender on the renderer")};!function(e){const t=l.adUnits,i=(0,o.b)(t,(t=>t.code===e));if(!i)return!1;const a=(0,r.a)(i,"renderer"),n=!!(a&&a.url&&a.render),s=(0,r.a)(i,"mediaTypes.video.renderer"),d=!!(s&&s.url&&s.render);return!!(n&&!0!==a.backupOnly||d&&!0!==s.backupOnly)}(u)?b?i():(this.cmd.unshift(i),(0,a.a)(t,d.c,p,this.callback,this.documentContext)):((0,n.jb)(`External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ${u}`),i())}.bind(this)}function m(e){return!(!e||!e.url&&!e.renderNow)}function u(e,t,i){let a=null;e.config&&e.config.documentResolver&&(a=e.config.documentResolver(t,document,i)),a||(a=document),e.documentContext=a,e.render(t,e.documentContext)}c.install=function({url:e,config:t,id:i,callback:a,loaded:n,adUnitCode:r,renderNow:o}){return new c({url:e,config:t,id:i,callback:a,loaded:n,adUnitCode:r,renderNow:o})},c.prototype.getConfig=function(){return this.config},c.prototype.setRender=function(e){this._render=e},c.prototype.setEventHandlers=function(e){this.handlers=e},c.prototype.handleVideoEvent=function({id:e,eventName:t}){"function"==typeof this.handlers[t]&&this.handlers[t](),(0,n.ib)(`Prebid Renderer event for id ${e} type ${t}`)},c.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){(0,n.gb)("Error processing Renderer command: ",e)}}},(e,t,i)=>{i.d(t,{b:()=>o,a:()=>r});var a=i(10),n=i(0);const r=(0,i(7).b)("sync",(function(){return'(()=>{"use strict";window.render=function({ad:d,adUrl:e,width:i,height:r},{mkFrame:n},o){if(!d&&!e)throw{reason:"noAd",message:"Missing ad markup or URL"};{const s=o.document,t={width:i,height:r};e&&!d?t.src=e:t.srcdoc=d,s.body.appendChild(n(s,t))}}})();'})),o=function(){const e={};return function(t){const i=r(t);return e.hasOwnProperty(i)||(e[i]=new a.a((e=>{const t=(0,n.l)();t.srcdoc=`<script>${i}<\/script>`,t.onload=()=>e(t.contentWindow.render),document.body.appendChild(t)}))),e[i]}}()},(e,t,i)=>{i.d(t,{a:()=>d,b:()=>o});var a=i(2),n=i(0);function r(e,t=window){if(!e)return e;if(/\w+:\/\//.exec(e))return e;let i=t.location.protocol;try{i=t.top.location.protocol}catch(e){}return/^\/\//.exec(e)?i+e:`${i}//${e}`}function o(e,{noLeadingWww:t=!1,noPort:i=!1}={}){try{e=new URL(r(e))}catch(e){return}return e=i?e.hostname:e.host,t&&e.startsWith("www.")&&(e=e.substring(4)),e}function s(e){try{const t=e.querySelector("link[rel='canonical']");if(null!==t)return t.href}catch(e){}return null}const d=function(e,t=window){if(t.top!==t)return e;let i,a,n;return function(){const r=s(t.document),o=t.location.href;return i===r&&o===a||(i=r,a=o,n=e()),n}}((l=window,function(){const e=[],t=function(e){try{if(!e.location.ancestorOrigins)return;return e.location.ancestorOrigins}catch(e){}}(l),i=a.config.getConfig("maxNestedIframes");let d,p,c,m,u=!1,b=0,f=!1,g=!1,y=!1;do{const i=d,a=g;let r,o=!1,m=null;g=!1,d=d?d.parent:l;try{r=d.location.href||null}catch(e){o=!0}if(o)if(a){const e=i.context;try{m=e.sourceUrl,p=m,y=!0,f=!0,d===l.top&&(u=!0),e.canonicalUrl&&(c=e.canonicalUrl)}catch(e){}}else{(0,n.jb)("Trying to access cross domain iframe. Continuing without referrer and location");try{const e=i.document.referrer;e&&(m=e,d===l.top&&(u=!0))}catch(e){}!m&&t&&t[b-1]&&(m=t[b-1],d===l.top&&(y=!0)),m&&!f&&(p=m)}else{if(r&&(m=r,p=m,f=!1,d===l.top)){u=!0;const e=s(d.document);e&&(c=e)}d.context&&d.context.sourceUrl&&(g=!0)}e.push(m),b++}while(d!==l.top&&b<i);e.reverse();try{m=l.top.document.referrer}catch(e){}const h=u||y?p:null,v=a.config.getConfig("pageUrl")||c||null;let _=a.config.getConfig("pageUrl")||h||r(v,l);return h&&h.indexOf("?")>-1&&-1===_.indexOf("?")&&(_=`${_}${h.substring(h.indexOf("?"))}`),{reachedTop:u,isAmp:f,numIframes:b-1,stack:e,topmostLocation:p||null,location:h,canonicalUrl:v,page:_,domain:o(_)||null,ref:m||null,legacy:{reachedTop:u,isAmp:f,numIframes:b-1,stack:e,referer:p||null,canonicalUrl:v}}}));var l},(e,t,i)=>{i.d(t,{a:()=>a});class a{error;value;constructor(e,t){this.value=e,this.error=t}static value(e){return new a(e,void 0)}static error(e){return new a(void 0,e)}static tryCatch(e){try{return a.value(e())}catch(e){return a.error(e)}}get isError(){return!!this.error}get isSuccess(){return!this.error}onError=e=>(this.isError&&e(this.error),this);or=e=>this.isError?e:this.value;get=()=>{if(this.isError)throw this.error;return this.value}}},(e,t,i)=>{i.d(t,{a:()=>n});var a=i(21);class n{#w;provide=(0,a.a)((e=>{this.#w=e}));get value(){return this.#w}}},(e,t,i)=>{i.d(t,{a:()=>a});const a=()=>{}},(e,t,i)=>{i.d(t,{a:()=>a});const a="prebid"},(e,t,i)=>{i.d(t,{a:()=>a});const a="amazon"},(e,t,i)=>{i.d(t,{a:()=>a});const a={"33across":"33across",Adhese:"adhese",amx:"amx",AppNexus:"appnexus",Appnexus_Hubvisor:"appnexus hubvisor",connectad:"connectad",craft:"craft",Criteo:"criteo",dailymotion:"dailymotion",Rubicon:"rubicon",MSQ_AppNexus_Brand:"MSQ-AppNexus Brand",MSQ_AppNexus_Classic:"MSQ-AppNexus Classic",MSQ_AppNexus_Max:"MSQ-AppNexus Max",MSQ_AppNexus_Max_View:"MSQ-AppNexus Max View",MSQ_AppNexus:"MSQ-AppNexus",MSQ_Freewheel:"MSQ-Freewheel",MSQ_Rubicon:"MSQ-Rubicon",MSQ_Rubicon_TRA:"MSQ-Rubicon TRA",MSQ_Rubicon_PRV:"MSQ-Rubicon PRV",ImproveDigital:"improvedigital",Smart:"smartadserver",Freewheel:"freewheelssp",Adot:"adot",IndexExchange:"ix",Gravity_Appnexus:"Gravity-Appnexus",Adyoulike:"adyoulike",Quantum_AppNexus:"Quantum-AppNexus",Quantum_Improve:"Quantum-Improve",Ravel:"raveltech",Sublime:"sublime",Teads:"teads",Adagio:"adagio",Unruly:"unruly",Invibes:"invibes",TripleLift:"triplelift",TripleLiftNative:"tripleliftNative",Proxistore:"proxistore",OpenX:"openx",amazon:"amazon",vidazoo:"vidazoo",visx:"visx",outbrain:"outbrain",mediaConsortium:"mediaConsortium",mediasquare:"mediasquare",pubmatic:"pubmatic",gumgum:"gumgum",microad:"microad",smilewanted:"smilewanted",seedtag:"seedtag",richaudience:"richaudience",sovrn:"sovrn",conversant:"conversant",onetag:"onetag",qwarry:"qwarry",sharethrough:"sharethrough",yieldlift:"yieldlift",backfill:"backfill",medianet:"medianet",hawk:"hawk",kargo:"kargo",ogury:"ogury",relaido:"relaido",hubvisor:"hubvisor",beop:"beop",rtbhouse:"rtbhouse",nexx360:"nexx360",noBid:"nobid",hbvRichmedia:"hbv-richmedia",impactify:"impactify",fluct:"fluct",unicorn:"unicorn",prisma:"prisma",bliink:"bliink",taboola:"taboola",missena:"missena",minuteMedia:"minutemedia",caroda:"caroda",nextMillennium:"nextMillennium",Adform:"adform",ttdDirectPath:"ttdDirectPath",ttd:"ttd",yieldlab:"yieldlab",adkernel:"adkernel",iqzone:"iqzone",sparteo:"sparteo",smaato:"smaato",optidigital:"optidigital",mediafuse:"mediafuse",relay:"relay",eplanning:"eplanning",theMediaGrid:"theMediaGrid",eskimi:"eskimi",insticator:"insticator",cwire:"cwire",undertone:"undertone",rise:"rise"};new Set([a.MSQ_Rubicon_TRA,a.MSQ_Rubicon_PRV,a.MSQ_AppNexus_Classic,a.MSQ_AppNexus_Max,a.MSQ_AppNexus_Brand,a.MSQ_Freewheel])},(e,t,i)=>{i.d(t,{a:()=>n,b:()=>a});const a=e=>!!e&&!!e.prebid,n={outstream:"outstream",banner:"banner",instream:"instream",native:"native",nativeBanner:"nativeBanner",skin:"skin"}},(e,t,i)=>{i.d(t,{a:()=>r,b:()=>o,c:()=>s,d:()=>l,e:()=>d});var a=i(37),n=i(1);const r={dfp:"dfp",sas:"sas",ast:"ast",hsc:"hsc",generic:"generic",instream:"instream"},o={whenVisible:"when-visible",whenViewable:"when-viewable",noLazyLoad:"no-lazy-load",playWhenVisible:"play-when-visible"},s=e=>(0,n.m)(e)&&(0,a.a)(e.adUnitPath),d=e=>(0,n.m)(e)&&(0,a.a)(e.match),l=e=>(0,n.m)(e)&&(0,a.a)(e.elementId)},(e,t,i)=>{i.d(t,{a:()=>o,b:()=>a,c:()=>n});const a=e=>{window.googletag=window.googletag??{},window.googletag.cmd=window.googletag.cmd??[],window.googletag.cmd.push((()=>e(window.googletag)))},n=e=>{window.sas=window.sas??{},window.sas.cmd=window.sas.cmd??[],window.sas.cmd.push((()=>e(window.sas)))},r=e=>new Promise((t=>e(t))),o=r(a);r(n)},(e,t,i)=>{i.d(t,{a:()=>p,b:()=>c,c:()=>m});var a=i(106),n=i(90),r=i(1);const o=e=>{const t=parseFloat(e);if(!isNaN(t))return t},s=(e,t)=>{const i=(0,a.a)(),n=`hbv-${e}`;return Object.prototype.hasOwnProperty.call(i,n)?{found:!0,value:t(i[n]??"")}:{found:!1}},d=(e,t)=>{const i=(0,n.a)("local-storage",`hbv:${e}`);return(0,r.k)(i)?{found:!1}:{found:!0,value:t(i)}},l=(...e)=>{for(const t of e){const{found:e,value:i}=t();if(e)return i}},p=e=>{const t=e=>""===e||(e=>!!["yes","true","1"].some((t=>0===t.localeCompare(e,void 0,{sensitivity:"accent"})))||!["no","false","0"].some((t=>0===t.localeCompare(e,void 0,{sensitivity:"accent"})))&&void 0)(e),i=e=>{const i=t(e);if((0,r.i)(i))return!i};return l((()=>s(e,t)),(()=>s(`no-${e}`,i)),(()=>d(e,t)),(()=>d(`no-${e}`,i)))},c=e=>l((()=>s(e,o)),(()=>d(e,o))),m=e=>l((()=>s(e,(e=>e))),(()=>d(e,(e=>e))))},(e,t,i)=>{i.d(t,{a:()=>o,b:()=>r});var a=i(3);const{warn:n}=a.a.tag("ActionMap"),{register:r,execute:o}=new class{#x={};#T=(e,t)=>(i,a)=>{const r=(t,r)=>{try{a&&a(t,r)}catch(t){n(`error for action '${e}' callback`,i,t)}};(async i=>{try{return await t(i)}catch(t){throw n(`error for action '${e}'`,i,t),t}})(i).then((e=>r(null,e))).catch((e=>r(e)))};register=(e,t)=>{this.#x[e]&&n(`trying to register an action named '${e}' multiple times, previous action will be overriden`),this.#x[e]=this.#T(e,t)};execute=(e,t,i)=>(this.#x[e]??this.#T(e,(()=>{throw new Error("action doesn't exist")})))(t,i)}},(e,t,i)=>{i.d(t,{a:()=>n,b:()=>a});const a={no:0,yes:1},n={firstPrice:1,secondPrice:2}},(e,t,i)=>{i.d(t,{b:()=>o,a:()=>s});const a="phone",n="tablet",r="desktop",o=(()=>{const e=(navigator.userAgent??window.opera).toLowerCase();return/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(e)?n:/(mobi|ipod|phone|blackberry|opera mini|fennec|minimo|symbian|psp|nintendo ds|archos|skyfire|puffin|blazer|bolt|gobrowser|iris|maemo|semc|teashark|uzard|dolphin|zune)/.test(e)?a:r})(),s=(()=>{switch(o){case a:return 4;case n:return 5;case r:return 2}})()},(e,t,i)=>{i.d(t,{a:()=>a});const a={vpaid10:1,vpaid20:2,mraid1:3,ormma:4,mraid2:5,mraid3:6,omid1:7}},(e,t,i)=>{i.d(t,{a:()=>a});const a={vast10:1,vast20:2,vast30:3,vast10Wrapper:4,vast20Wrapper:5,vast30Wrapper:6,vast40:7,vast40Wrapper:8,daast10:9,daast10Wrapper:10,vast41:11,vast41Wrapper:12,vast42:13,vast42Wrapper:14}},(e,t,i)=>{i.d(t,{a:()=>n,b:()=>o});const a=(()=>{let e=0;return()=>++e})(),n=()=>a()+Math.random().toString(16).substring(2),r=(()=>{const e=new Uint8Array(16),t=[];for(let e=0;e<256;++e)t.push((e+256).toString(16).substring(1));return()=>(crypto.getRandomValues(e),e[6]=15&e[6]|64,e[8]=63&e[8]|128,(t[e[0]]+t[e[1]]+t[e[2]]+t[e[3]]+"-"+t[e[4]]+t[e[5]]+"-"+t[e[6]]+t[e[7]]+"-"+t[e[8]]+t[e[9]]+"-"+t[e[10]]+t[e[11]]+t[e[12]]+t[e[13]]+t[e[14]]+t[e[15]]).toLowerCase())})(),o=crypto.randomUUID?.bind(crypto)??r},(e,t,i)=>{i.d(t,{a:()=>r});var a=i(3);const{error:n}=a.a.tag("bus");class r{#D={};clear=()=>{this.#D={}};#A=(e,t)=>{this.#D[e]||(this.#D[e]=[]),this.#D[e]?.push(t)};on=(e,t)=>{this.#A(e,{listener:t,original:t})};off=(e,t)=>{this.#D[e]=this.#D[e]?.filter((e=>e.original!==t))};once=(e,t)=>{this.#A(e,{listener:(e,i)=>{t(e,i),this.off(i,t)},original:t})};dispatch=(e,t)=>{for(const i of this.#D[e]??[])try{i.listener(t,e)}catch(i){n(`listener registration failed for event '${String(e)}'`,t,i)}}}},(e,t,i)=>{i.d(t,{a:()=>s,b:()=>d,c:()=>o,d:()=>c,e:()=>p,f:()=>l});var a=i(14),n=i(8),r=i(3);const{info:o,debug:s,error:d,warn:l}=r.a.tag("second-chance"),p="hbv_bf",c=(e,t)=>{try{return!e.isPlacementAllowed||e.isPlacementAllowed(t)}catch(e){return(0,a.a)(new n.b(n.a.secondChanceError,`Error checking if placement is allowed for Slot or tagId: ${t}. Aborting ${e}`)),!1}}},(e,t,i)=>{i.d(t,{a:()=>s});var a=i(31),n=i(109),r=i(110),o=i(28);const s=e=>(0,r.a)({cmp:a.a.asStream,storagePolicy:o.a.of(n.a)},e)},(e,t,i)=>{i.d(t,{a:()=>a});const a={INCLUDE:"INCLUDE",EXCLUDE:"EXCLUDE"}},(e,t,i)=>{i.d(t,{a:()=>s});var a=i(8),n=(i(24),i(14)),r=i(1),o=i(44);const s=(e,t)=>{try{const i=(e=>{if((0,r.q)(e)){const t=(e=>{try{return document.querySelector(e)}catch(e){return null}})(e);if(t)return t;throw new a.b(a.a.videoWrapperDivNotFound,`Player container not found with '${e}'`)}return e})(e);if(!window.HbvPlayer)throw new a.b(a.a.outstreamPlayerLoadingFailed,"Failed to load player");window.HbvPlayer.playOutstream(i,t).catch((i=>{(0,n.a)(new a.c(a.a.outstreamPlayerError,i,t.vastXml??t.vastUrl??"no-vast")),t.renderContext&&o.a.emit("outstream-error",{containerOrSelector:e,renderContext:t.renderContext})}))}catch(i){(0,n.a)(i,"unexpected player error"),t.renderContext&&o.a.emit("outstream-error",{containerOrSelector:e,renderContext:t.renderContext})}}},e=>{s.SYNC=1,s.ASYNC=2,s.QUEUE=4;var t="fun-hooks",i=Object.freeze({useProxy:!0,ready:0}),a=new WeakMap,n="2,1,0"===[1].reduce((function(e,t,i){return[e,t,i]}),2).toString()?Array.prototype.reduce:function(e,t){var i,a=Object(this),n=a.length>>>0,r=0;if(t)i=t;else{for(;r<n&&!(r in a);)r++;i=a[r++]}for(;r<n;)r in a&&(i=e(i,a[r],r,a)),r++;return i};function r(e,t){return Array.prototype.slice.call(e,t)}var o=Object.assign||function(e){return n.call(r(arguments,1),(function(e,t){return t&&Object.keys(t).forEach((function(i){e[i]=t[i]})),e}),e)};function s(e){var d,l={},p=[];function c(e,t){return"function"==typeof e?f.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?f.apply(null,arguments):"object"==typeof e?m.apply(null,arguments):void 0}function m(e,t,i){var a=!0;void 0===t&&(t=Object.getOwnPropertyNames(e),a=!1);var n={},r=["constructor"];do{(t=t.filter((function(t){return!("function"!=typeof e[t]||-1!==r.indexOf(t)||t.match(/^_/))}))).forEach((function(t){var a=t.split(":"),r=a[0],o=a[1]||"sync";if(!n[r]){var s=e[r];n[r]=e[r]=f(o,s,i?[i,r]:void 0)}})),e=Object.getPrototypeOf(e)}while(a&&e);return n}function u(e){var i=Array.isArray(e)?e:e.split(".");return n.call(i,(function(a,n,r){var o=a[n],s=!1;return o||(r===i.length-1?(d||p.push((function(){s||console.warn(t+": referenced '"+e+"' but it was never created")})),a[n]=b((function(e){a[n]=e,s=!0}))):a[n]={})}),l)}function b(e){var t=[],i=[],n=function(){},r={before:function(e,i){return d.call(this,t,"before",e,i)},after:function(e,t){return d.call(this,i,"after",e,t)},getHooks:function(e){var a=t.concat(i);"object"==typeof e&&(a=a.filter((function(t){return Object.keys(e).every((function(i){return t[i]===e[i]}))})));try{o(a,{remove:function(){return a.forEach((function(e){e.remove()})),this}})}catch(e){console.error("error adding `remove` to array, did you modify Array.prototype?")}return a},removeAll:function(){return this.getHooks().remove()}},s={install:function(a,r,o){this.type=a,n=o,o(t,i),e&&e(r)}};return a.set(r.after,s),r;function d(e,a,r,o){var s={hook:r,type:a,priority:o||10,remove:function(){var a=e.indexOf(s);-1!==a&&(e.splice(a,1),n(t,i))}};return e.push(s),e.sort((function(e,t){return t.priority-e.priority})),n(t,i),this}}function f(i,n,l){var c=n.after&&a.get(n.after);if(c){if(c.type!==i)throw t+": recreated hookable with different type";return n}var m,f,g=l?u(l):b(),y={get:function(e,t){return g[t]||Reflect.get.apply(Reflect,arguments)}};return d||p.push(h),e.useProxy&&"function"==typeof Proxy&&Proxy.revocable?f=new Proxy(n,y):(f=function(){return y.apply?y.apply(n,this,r(arguments)):n.apply(this,arguments)},o(f,g)),a.get(f.after).install(i,f,(function(e,t){var a,n=[];function o(e){n.push(e.hook)}e.length||t.length?(e.forEach(o),a=n.push(void 0)-1,t.forEach(o),m=function(e,t,o){var s,d=0,l="async"===i&&"function"==typeof o[o.length-1]&&o.pop();function p(e){"sync"===i?s=e:l&&l.apply(null,arguments)}function c(e){if(n[d]){var a=r(arguments);return c.bail=p,a.unshift(c),n[d++].apply(t,a)}"sync"===i?s=e:l&&l.apply(null,arguments)}return n[a]=function(){var a=r(arguments,1);"async"===i&&l&&(delete c.bail,a.push(c));var n=e.apply(t,a);"sync"===i&&c(n)},c.apply(null,o),s}):m=void 0,h()})),f;function h(){!d&&("sync"!==i||e.ready&s.SYNC)&&("async"!==i||e.ready&s.ASYNC)?"sync"!==i&&e.ready&s.QUEUE?y.apply=function(){var e=arguments;p.push((function(){f.apply(e[1],e[2])}))}:y.apply=function(){throw t+": hooked function not ready"}:y.apply=m}}return(e=o({},i,e)).ready?c.ready=function(){d=!0,function(e){for(var t;t=e.shift();)t()}(p)}:d=!0,c.get=u,c}e.exports=s},(e,t,i)=>{i.d(t,{a:()=>m,b:()=>o,c:()=>b,d:()=>d,e:()=>p,f:()=>l});var a=i(0),n=i(10),r=i(2);const o=Object.freeze({});class s{#S;#C;#R;#k;#E=!0;#M;generatedTime;hashFields;constructor(){this.reset()}#O(e){this.#k=!0,this.#C=e,this.#R.resolve(e)}reset(){this.#R=(0,n.b)(),this.#S=!1,this.#C=null,this.#k=!1,this.generatedTime=null}enable(){this.#S=!0}get enabled(){return this.#S}get ready(){return this.#k}get promise(){return this.#k?n.a.resolve(this.#C):(this.#S||this.#O(null),this.#R.promise)}setConsentData(e,t=(0,a.Db)()){this.generatedTime=t,this.#E=!0,this.#O(e)}getConsentData(){return this.#C}get hash(){return this.#E&&(this.#M=(0,a.n)(JSON.stringify(this.#C&&this.hashFields?this.hashFields.map((e=>this.#C[e])):this.#C)),this.#E=!1),this.#M}}const d=new class extends s{hashFields=["gdprApplies","consentString"];getConsentMeta(){const e=this.getConsentData();if(e&&e.vendorData&&this.generatedTime)return{gdprApplies:e.gdprApplies,consentStringSize:(0,a.eb)(e.vendorData.tcString)?e.vendorData.tcString.length:0,generatedAt:this.generatedTime,apiVersion:e.apiVersion}}},l=new class extends s{getConsentMeta(){if(this.getConsentData()&&this.generatedTime)return{generatedAt:this.generatedTime}}},p=new class extends s{hashFields=["applicableSections","gppString"];getConsentMeta(){if(this.getConsentData()&&this.generatedTime)return{generatedAt:this.generatedTime}}},c=(()=>{function e(){return!!r.config.getConfig("coppa")}return{getCoppa:e,getConsentData:e,getConsentMeta:e,reset(){},get promise(){return n.a.resolve(e())},get hash(){return e()?"1":"0"}}})(),m=function(){const e={},t={},i={};return{register(a,n,r){r&&((e[n]=e[n]||{})[a]=r,t.hasOwnProperty(n)?t[n]!==r&&(t[n]=i):t[n]=r)},get(a){const n={modules:e[a]||{}};return t.hasOwnProperty(a)&&t[a]!==i&&(n.gvlid=t[a]),n}}}(),u={gdpr:d,usp:l,gpp:p,coppa:c},b=function(e=u){return e=Object.entries(e),Object.assign({get promise(){return n.a.all(e.map((([e,t])=>t.promise.then((t=>[e,t]))))).then((e=>Object.fromEntries(e)))},get hash(){return(0,a.n)(e.map((([e,t])=>t.hash)).join(":"))}},Object.fromEntries(["getConsentData","getConsentMeta","reset"].map((t=>{return[t,(i=t,function(){return Object.fromEntries(e.map((([e,t])=>[e,t[i]()])))})];var i}))))}()},(e,t,i)=>{i.d(t,{a:()=>a,b:()=>n});const a={debug:"debug",info:"info",table:"table",warn:"warn",error:"error"};class n{#U;#B;#P;constructor(e,t,i){this.#U=e,this.#B=t,this.#P=i}#r=(e,t,i="",a)=>{const n={name:this.#U,tag:this.#B,level:e,type:t,ts:Date.now()/1e3,message:i,metadata:a};for(const e of this.#P)e(n)};debug=(e,...t)=>this.#r(20,a.debug,e,t);info=(e,...t)=>this.#r(30,a.info,e,t);table=(e,...t)=>this.#r(30,a.table,void 0,[e,...t]);warn=(e,...t)=>this.#r(40,a.warn,e,t);error=(e,...t)=>this.#r(50,a.error,e,t);tag=e=>new n(this.#U,e,this.#P)}},(e,t,i)=>{i.d(t,{a:()=>a});const a={totalConsentTimeout:1/0,cmpTimeout:1/0}},(e,t,i)=>{i.d(t,{a:()=>a});const a=new(i(52).a)},(e,t,i)=>{i.d(t,{a:()=>a});const a=new(i(67).a)},(e,t,i)=>{i.d(t,{a:()=>x,b:()=>k,c:()=>R});var a=i(3),n=i(30),r=i(8),o=i(14),s=i(54),d=i(55),l=i(101),p=i(100),c=i(23),m=i(39),u=i(43),b=i(68),f=i(41);const g=([e,t])=>({code:e,minValue:t}),y=(e,t)=>t[1]-e[1],h=new Map,{debug:v}=a.a.tag("targetings-resolver"),_=(e,t)=>{if(t){const i=f.remoteConfiguration.currentValue?.currencies.rates.USD?.[t];if(i){const a=e*i;return v(`CPM converted to ${t}: ${e.toFixed(2)} -> ${a.toFixed(2)}`),a}(0,o.a)(new r.b(r.a.currencyRateNotFound,`Could not retrieve exchange rates for this currency: ${t}`))}return e},I=(e,t,i)=>{const a=t.buckets.reduce(((e,t)=>e.max>t.max?e:t),{max:0,increment:1});if(e>a.max)return a.max.toFixed(2);let n=t.bucketMin??0;const r=(t.buckets.find((t=>e<=t.max&&e>=n||(n=t.max,!1)))||a).increment,o=1e4,s=(e*o-n*o)/(r*o),d=i?i(s):Math.floor(s);return Number((d*r+n).toFixed(10)).toFixed(2)},w=(e,t,i)=>{try{return t.additionalTargetings?.(e,i)??{}}catch(t){const i=new r.b(r.a.onAdditionalTargetings,t);(0,o.a)(i,`additionalTargetings failed for ${e.placement.placementId}`,e)}return{}},x=(e,t)=>{for(const[i,a]of Object.entries(t))i.startsWith("hb_native")||(e[i]&&v(`Assigned targetings overrides existing targetings at key '${i}'`,e,t),e[i]=a)},T=e=>{const t=parseFloat(e);return t>5?"5.00":(.05*Math.floor(100*t/5)).toFixed(2)},D=(e,t,i)=>{const a=t.targetingKeyPrefix,n=i?`${i}`:"",c=e=>[a,e,n].filter((e=>!!e)).join("_"),m=e=>[e,n].filter((e=>!!e)).join("_");if(e.bidResponse.providerId===s.a||e.bidResponse.providerId===p.a)return i?{}:{[c("adid")]:e.bidResponse.bidId,[c("pb")]:I(_(e.cpmAdjustment.adjustedCpm,t.customCurrency),t.priceGranularity,t.cpmRoundingFunction)};if(e.bidResponse.providerId===l.a)return{[c("backfillid")]:e.bidResponse.bidId,[c("backfill")]:"backfill"};if(e.bidResponse.providerId===d.a){if(i)return{};const a=((e,t)=>{if(!t.amazon?.cpmMapping||0===e.cpmAdjustment.adjustedCpm)return;const i=Number(f.remoteConfiguration.currentValue?.currencies.rates.USD?f.remoteConfiguration.currentValue?.currencies.rates.USD.EUR:1),a=(e=>{const t=h.get(e);if(t)return t;const i=(e=>{const t=Object.entries(e).sort(y);return{banner:t.filter((([e])=>!e.startsWith("v_")&&!e.startsWith("o_"))).map(g),instream:t.filter((([e])=>e.startsWith("v_"))).map(g),outstream:t.filter((([e])=>e.startsWith("o_"))).map(g)}})(e);return h.set(e,i),i})(t.amazon.cpmMapping),n=((e,t)=>"video"===e.bidResponse.mediaType?"outstream"===e.bidResponse.displayFormat?t.outstream:t.instream:t.banner)(e,a),s=n.find((({minValue:a})=>("EUR"===t.amazon?.currency?i*a:a)<=e.cpmAdjustment.adjustedCpm));if(s)return s.code;(0,o.a)(new r.b(r.a.amazonCpmMappingError,`No code found for the cpm '${e.cpmAdjustment.adjustedCpm}' in mapping for Amazon bid`))})(e,t);if(a)return{[m("amznbid")]:a}}return{}},A=(e,t,i,a)=>{const n=t.targetingKeyPrefix;return{[`${n}_${i}_cacheid`]:a,[`${n}_${i}_pb`]:I(_(e.cpmAdjustment.adjustedCpm,t.customCurrency),t.priceGranularity,t.cpmRoundingFunction)}},S=e=>({...e.bidResponse.targetings}),C=(e,t,i)=>{if(i.sas?.formatId)return{};const a={...e.bidResponse.targetings};if(e.bidResponse.providerId===s.a||e.bidResponse.providerId===p.a){const i=t.targetingKeyPrefix,n=I(_(e.cpmAdjustment.adjustedCpm,t.customCurrency),t.priceGranularity,t.cpmRoundingFunction);a[`${i}_pf`]=T(n)}return a},R=({renderable:e,settings:t,sasFormatId:i})=>{const a=e.content.some((e=>e.bidResponse.providerId===s.a||e.bidResponse.providerId===p.a)),r=n.c&&a,{content:o,pgContent:d}=e.content.reduce(((e,t)=>(t.bidResponse.deal?.isGuaranteed?e.pgContent.push(t):e.content.push(t),e)),{content:[],pgContent:[]}),l={hbv_debug:r?"true":null,hbv_uplift:u.a?"0":"1"};for(const e of c.i)l[e]=null;if(t.secondChance.enabled&&e.config.refreshReason!==m.b.secondChance&&(l[b.e]="false"),t.shouldSendFloorToAdserver&&!a&&e.floor){const i=t.targetingKeyPrefix,a=I(_(e.floor,t.customCurrency),t.priceGranularity,t.cpmRoundingFunction);l[`${i}_pf`]=T(a)}for(const e of o){const a=C(e,t,{sas:{formatId:i}});x(l,a)}for(const e of o){const a=D(e,t,i);x(l,a)}const f={hbv_pg_dealid:d.map((e=>e.bidResponse.deal.name)),hbv_pg_adid:d.map((e=>e.bidResponse.bidId))};x(l,f);const g=w(e,t,l);return x(l,g),l},k=({renderable:e,settings:t,slotId:i,cacheId:a})=>{const l={hbv_debug:n.c&&e.content.some((e=>e.bidResponse.providerId===s.a))?"true":null,hbv_uplift:u.a?"0":"1"};for(const n of e.content)if(n.bidResponse.providerId!==d.a)if(a){x(l,{[`${t.targetingKeyPrefix}_${i}_bidder`]:n.bidResponse.bidder});const e=A(n,t,i,a);x(l,e)}else{const t=new r.b(r.a.instreamCacheIdMissing,`couldn't find cacheID for prebid instream bid for placement ${e.placement.placementId} - bid: ${JSON.stringify(n)}`);(0,o.a)(t)}else{const e=S(n);x(l,e)}const p=w(e,t,l);return x(l,p),l}},(e,t,i)=>{function a(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}i.d(t,{a:()=>D,b:()=>T});var n=i(18),r=i(2),o=i(88),s=i(47),d=i(26),l=i(46),p=i(6),c=i(15),m=i(4),u=i(0),b=i(7),f=i(9),g=i(20),y=i(19),h=i(11),v=i(27),_=i(12),I=i(13);const w=["cpm","ttl","creativeId","netRevenue","currency"],x=["auctionId","transactionId"];function T(e){const t=Array.isArray(e.supportedMediaTypes)?{supportedMediaTypes:e.supportedMediaTypes}:void 0;function i(e){const i=D(e);n.a.registerBidAdapter(i,e.code,t)}i(e),Array.isArray(e.aliases)&&e.aliases.forEach((t=>{let a,r,o=t;(0,u.bb)(t)&&(o=t.code,a=t.gvlid,r=t.skipPbsAliasing),n.a.aliasRegistry[o]=e.code,i(Object.assign({},e,{code:o,gvlid:a,skipPbsAliasing:r}))}))}function D(e){return Object.assign(new a(e.code),{getSpec:function(){return Object.freeze(Object.assign({},e))},registerSyncs:t,callBids:function(i,a,s,b,T,D){if(!Array.isArray(i.bids))return;const A=function(e){if((0,h.a)(I.i,(0,v.a)(_.b,e)))return{bidRequest:e=>e,bidderRequest:e=>e};function t(e,t,i){return x.includes(t)?null:Reflect.get(e,t,i)}function i(e,t){const i=new Proxy(e,t);return Object.entries(e).filter((([e,t])=>"function"==typeof t)).forEach((([t,a])=>i[t]=a.bind(e))),i}const a=(0,u.kb)((e=>i(e,{get:t})),(e=>e.bidId));return{bidRequest:a,bidderRequest:e=>i(e,{get:(i,n,r)=>"bids"===n?e.bids.map(a):t(i,n,r)})}}(i.bidderCode),C={},E=[];function M(){s(),r.config.runWithBidder(e.code,(()=>{c.emit(p.EVENTS.BIDDER_DONE,i),t(E,i.gdprConsent,i.uspConsent,i.gppConsent)}))}const O=k(i).measureTime("validate",(()=>i.bids.filter((t=>{return i=A.bidRequest(t),!!e.isBidRequestValid(i)||((0,u.jb)(`Invalid bid sent to bidder ${e.code}: ${JSON.stringify(i)}`),!1);var i}))));if(0===O.length)return void M();const U={};O.forEach((e=>{U[e.bidId]=e,e.adUnitCode||(e.adUnitCode=e.placementCode)})),S(e,O.map(A.bidRequest),A.bidderRequest(i),b,D,{onRequest:e=>c.emit(p.EVENTS.BEFORE_BIDDER_HTTP,i,e),onResponse:t=>{T(e.code),E.push(t)},onPaapi:e=>{const t=U[e.bidId];t?R(t,e):(0,u.jb)("Received fledge auction configuration for an unknown bidId",e)},onError:(t,a)=>{a.timedOut||T(e.code),n.a.callBidderError(e.code,a,i),c.emit(p.EVENTS.BIDDER_ERROR,{error:a,bidderRequest:i}),(0,u.gb)(`Server call for ${e.code} failed: ${t} ${a.status}. Continuing without bids.`)},onBid:t=>{const i=U[t.requestId];if(i){if(t.adapterCode=i.bidder,function(e,t){let i=g.a.get(t,"allowAlternateBidderCodes")||!1,a=g.a.get(t,"allowedAlternateBidderCodes");return!!(e&&t&&t!==e&&(a=(0,u.V)(a)?a.map((e=>e.trim().toLowerCase())).filter((e=>!!e)).filter(u.Gb):a,!i||(0,u.V)(a)&&"*"!==a[0]&&!a.includes(e)))}(t.bidderCode,i.bidder))return(0,u.jb)(`${t.bidderCode} is not a registered partner or known bidder of ${i.bidder}, hence continuing without bid. If you wish to support this bidder, please mark allowAlternateBidderCodes as true in bidderSettings.`),void a.reject(i.adUnitCode,t,p.m.BIDDER_DISALLOWED);t.originalCpm=t.cpm,t.originalCurrency=t.currency,t.meta=t.meta||Object.assign({},t[i.bidder]),t.deferBilling=i.deferBilling,t.deferRendering=t.deferBilling&&(t.deferRendering??"function"!=typeof e.onBidBillable);const n=Object.assign((0,o.a)(p.n.GOOD,i),t,(0,u.rb)(i,x));!function(e,t){const i=(0,y.d)(t.metrics);i.checkpoint("addBidResponse"),C[e]=!0,i.measureTime("addBidResponse.validate",(()=>function(e,t,{index:i=f.a.index}={}){function a(e){return`Invalid bid from ${t.bidderCode}. Ignoring bid: ${e}`}return e?t?function(){let e=Object.keys(t);return w.every((i=>(0,m.c)(e,i)&&!(0,m.c)([void 0,null],t[i])))}()?"native"!==t.mediaType||(0,d.j)(t,{index:i})?"video"!==t.mediaType||(0,l.f)(t,{index:i})?!("banner"===t.mediaType&&!function(e,t,{index:i=f.a.index}={}){if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),!0;const a=i.getBidRequest(t),n=i.getMediaTypes(t),r=a&&a.sizes||n&&n.banner&&n.banner.sizes,o=(0,u.pb)(r);if(1===o.length){const[e,i]=o[0].split("x");return t.width=parseInt(e,10),t.height=parseInt(i,10),!0}return!1}(0,t,{index:i})&&((0,u.gb)(a("Banner bids require a width and height")),1)):((0,u.gb)(a("Video bid does not have required vastUrl or renderer property")),!1):((0,u.gb)(a("Native bid missing some required properties.")),!1):((0,u.gb)(a(`Bidder ${t.bidderCode} is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params.`)),!1):((0,u.jb)(`Some adapter tried to add an undefined bid for ${e}.`),!1):((0,u.jb)("No adUnitCode was supplied to addBidResponse."),!1)}(e,t)))?a(e,t):a.reject(e,t,p.m.INVALID)}(i.adUnitCode,n)}else(0,u.jb)(`Bidder ${e.code} made bid for unknown request ID: ${t.requestId}. Ignoring.`),a.reject(null,t,p.m.INVALID_REQUEST_ID)},onCompletion:M})}});function t(t,i,a,n){C(e,t,i,a,n)}}const A=["bids","paapi"],S=(0,b.b)("sync",(function(e,t,i,a,n,{onRequest:r,onResponse:o,onPaapi:s,onError:d,onBid:l,onCompletion:p}){const c=k(i);p=c.startTiming("total").stopBefore(p);let m=c.measureTime("buildRequests",(()=>e.buildRequests(t,i)));if(!m||0===m.length)return void p();Array.isArray(m)||(m=[m]);const b=t,f=m.length,y=b.length/f,w=(0,u.r)(p,m.length);m.forEach((t=>{const i="string"==typeof t.data?t.data:JSON.stringify(t.data),p=new Blob([i]).size/y||void 0;for(const e of b)e.hbvMetadata.payloadBidRequestSize=p;const m=c.fork();function f(e){null!=e&&(e.metrics=m.fork().renameWith()),l(e)}const x=n((function(i,a){D();try{i=JSON.parse(i)}catch(e){}i={body:i,headers:{get:a.getResponseHeader.bind(a)}};const n=new Blob([a.getAllResponseHeaders()]).size,r=parseInt(a.getResponseHeader("content-length"),10)||new Blob([a.responseText]).size,d=r?(n+r)/y:void 0;for(const e of b)e.hbvMetadata.payloadBidResponseSize=d;o(i);try{i=m.measureTime("interpretResponse",(()=>e.interpretResponse(i,t)))}catch(t){return(0,u.gb)(`Bidder ${e.code} failed to interpret the server's response. Continuing without bids`,null,t),void w()}let l,p;i&&!Object.keys(i).some((e=>!A.includes(e)))?(l=i.bids,p=i.paapi):l=i,(0,u.V)(p)&&p.forEach(s),l&&((0,u.V)(l)?l.forEach(f):f(l)),w()})),T=n((function(e,t){D(),d(e,t),w()}));r(t);const D=m.startTiming("net");function S(i){const a=t.options;return Object.assign(i,a,{browsingTopics:!(a?.hasOwnProperty("browsingTopics")&&!a.browsingTopics)&&(g.a.get(e.code,"topicsHeader")??!0)&&(0,h.a)(I.j,(0,v.a)(_.b,e.code))})}switch(t.method){case"GET":a(`${t.url}${C=t.data,C?`?${"object"==typeof C?(0,u.ob)(C):C}`:""}`,{success:x,error:T},void 0,S({method:"GET",withCredentials:!0}));break;case"POST":a(t.url,{success:x,error:T},"string"==typeof t.data?t.data:JSON.stringify(t.data),S({method:"POST",contentType:"text/plain",withCredentials:!0}));break;default:(0,u.jb)(`Skipping invalid request from ${e.code}. Request type ${t.type} must be GET or POST`),w()}var C}))}),"processBidderRequests"),C=(0,b.b)("async",(function(e,t,i,a,o){const d=r.config.getConfig("userSync.aliasSyncEnabled");if(e.getUserSyncs&&(d||!n.a.aliasRegistry[e.code])){let n=r.config.getConfig("userSync.filterSettings"),d=e.getUserSyncs({iframeEnabled:!(!n||!n.iframe&&!n.all),pixelEnabled:!(!n||!n.image&&!n.all)},t,i,a,o);d&&(Array.isArray(d)||(d=[d]),d.forEach((t=>{s.userSync.registerSync(t.type,e.code,t.url)})),s.userSync.bidderDone(e.code))}}),"registerSyncs"),R=(0,b.b)("sync",(()=>{}),"addPaapiConfig");function k(e){return(0,y.d)(e.metrics).renameWith((t=>[`adapter.client.${t}`,`adapters.client.${e.bidderCode}.${t}`]))}},(e,t,i)=>{i.d(t,{a:()=>m,b:()=>b});var a=i(4),n=i(0),r=i(2);const o=2,s={buckets:[{max:5,increment:.5}]},d={buckets:[{max:20,increment:.1}]},l={buckets:[{max:20,increment:.01}]},p={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},c={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function m(e,t,i=1){let a=parseFloat(e);return isNaN(a)&&(a=""),{low:""===a?"":u(e,s,i),med:""===a?"":u(e,d,i),high:""===a?"":u(e,l,i),auto:""===a?"":u(e,c,i),dense:""===a?"":u(e,p,i),custom:""===a?"":u(e,t,i)}}function u(e,t,i){let s="";if(!b(t))return s;const d=t.buckets.reduce(((e,t)=>e.max>t.max?e:t),{max:0});let l=0,p=(0,a.b)(t.buckets,(t=>{if(e>d.max*i){let e=t.precision;void 0===e&&(e=o),s=(t.max*i).toFixed(e)}else{if(e<=t.max*i&&e>=l*i)return t.min=l,t;l=t.max}}));return p&&(s=function(e,t,i){const a=void 0!==t.precision?t.precision:o,s=t.increment*i,d=t.min*i;let l=Math.floor,p=r.config.getConfig("cpmRoundingFunction");"function"==typeof p&&(l=p);let c,m,u=Math.pow(10,a+2),b=(e*u-d*u)/(s*u);try{c=l(b)*s+d}catch(e){m=!0}return(m||"number"!=typeof c)&&((0,n.jb)("Invalid rounding function passed in config"),c=Math.floor(b)*s+d),c=Number(c.toFixed(10)),c.toFixed(a)}(e,p,i)),s}function b(e){if((0,n.Y)(e)||!e.buckets||!Array.isArray(e.buckets))return!1;let t=!0;return e.buckets.forEach((e=>{e.max&&e.increment||(t=!1)})),t}},(e,t,i)=>{i.d(t,{a:()=>u,b:()=>m,c:()=>y,d:()=>g,e:()=>b});var a=i(0),n=i(20),r=i(12),o=i(11),s=i(17),d=i(13),l=i(2),p=i(18),c=i(27);const m="html5",u="cookie";let b=[];function f({moduleName:e,moduleType:t}={},{isAllowed:i=o.a}={}){function n(a,n){let o=e;const m=l.config.getCurrentBidder();return m&&t===r.b&&p.a.aliasRegistry[m]===e&&(o=m),a({valid:i(d.a,(0,c.a)(t,o,{[s.f]:n}))})}function f(e,t,i){if(!i||"function"!=typeof i)return n(e,t);b.push((function(){let a=n(e,t);i(a)}))}function g(e){const t=e.charAt(0).toUpperCase()+e.substring(1),i=()=>window[e],n=function(t){return f((function(t){if(t&&t.valid)try{return!!i()}catch(t){(0,a.gb)(`${e} api disabled`)}return!1}),m,t)};return{[`has${t}`]:n,[`${e}IsEnabled`]:e=>f((function(e){if(e&&e.valid)try{return i().setItem("prebid.cookieTest","1"),"1"===i().getItem("prebid.cookieTest")}catch(e){}finally{try{i().removeItem("prebid.cookieTest")}catch(e){}}return!1}),m,e),[`setDataIn${t}`]:(e,t,a)=>f((function(a){a&&a.valid&&n()&&i().setItem(e,t)}),m,a),[`getDataFrom${t}`]:(e,t)=>f((function(t){return t&&t.valid&&n()?i().getItem(e):null}),m,t),[`removeDataFrom${t}`]:(e,t)=>f((function(t){t&&t.valid&&n()&&i().removeItem(e)}),m,t)}}return{setCookie:function(e,t,i,a,n,r){return f((function(r){if(r&&r.valid){const r=n&&""!==n?` ;domain=${encodeURIComponent(n)}`:"",o=i&&""!==i?` ;expires=${i}`:"",s=null!=a&&"none"==a.toLowerCase()?"; Secure":"";document.cookie=`${e}=${encodeURIComponent(t)}${o}; path=/${r}${a?`; SameSite=${a}`:""}${s}`}}),u,r)},getCookie:function(e,t){return f((function(t){if(t&&t.valid){let t=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return t?decodeURIComponent(t[2]):null}return null}),u,t)},cookiesAreEnabled:function(e){return f((function(e){return!(!e||!e.valid)&&(0,a.g)()}),u,e)},...g("localStorage"),...g("sessionStorage"),findSimilarCookies:function(e,t){return f((function(t){if(t&&t.valid){const t=[];if((0,a.M)()){const i=document.cookie.split(";");for(;i.length;){const a=i.pop();let n=a.indexOf("=");n=n<0?a.length:n,decodeURIComponent(a.slice(0,n).replace(/^\s+/,"")).indexOf(e)>=0&&t.push(decodeURIComponent(a.slice(n+1)))}}return t}}),u,t)}}}function g({moduleType:e,moduleName:t,bidderCode:i}={}){function a(){throw new Error("Invalid invocation for getStorageManager: must set either bidderCode, or moduleType + moduleName")}return i?((e&&e!==r.b||t)&&a(),e=r.b,t=i):t&&e||a(),f({moduleType:e,moduleName:t})}function y(e){return f({moduleName:e,moduleType:r.c})}(0,o.b)(d.a,"deviceAccess config",(function(){if(!(0,a.M)())return{allow:!1}})),(0,o.b)(d.a,"bidderSettings.*.storageAllowed",(function(e,t=n.a){if(e[s.d]!==r.b)return;let i=t.get(e[s.a],"storageAllowed");if(i&&!0!==i){const t=e[s.f];i=Array.isArray(i)?i.some((e=>e===t)):i===t}else i=!!i;return i?void 0:{allow:i}}))},(e,t,i)=>{i.d(t,{a:()=>d,b:()=>s,c:()=>g,d:()=>f,e:()=>u,f:()=>y,g:()=>h,h:()=>b});var a=i(5),n=i(2),r=i(11),o=i(13);const s=["data","ext.data","yob","gender","keywords","kwarray","id","buyeruid","customdata"].map((e=>`user.${e}`)).concat("device.ext.cdep"),d=["user.eids","user.ext.eids"],l=["user.geo.lat","user.geo.lon","device.geo.lat","device.geo.lon"],p=["device.ip"],c=["device.ipv6"];function m(e){return Object.assign({get(){},run(e,t,i,a,n){const r=i&&i[a];if(f(r)&&n()){const e=this.get(r);void 0===e?delete i[a]:i[a]=e}}},e)}function u(e){return e.forEach((e=>{e.paths=e.paths.map((e=>{const t=e.split("."),i=t.pop();return[t.length>0?t.join("."):null,i]}))})),function(t,i,...n){const r=[],o=b(t,...n);return e.forEach((e=>{if(!1!==t[e.name])for(const[n,s]of e.paths){const d=null==n?i:(0,a.a)(i,n);if(r.push(e.run(i,n,d,s,o.bind(null,e))),!1===t[e.name])return}})),r.filter((e=>null!=e))}}function b(e,...t){return function(i){return e.hasOwnProperty(i.name)||(e[i.name]=!!i.applies(...t)),e[i.name]}}function f(e){return null!=e&&("object"!=typeof e||Object.keys(e).length>0)}function g(e,t=r.a){return function(i){return!t(e,i)}}function y(e=r.a){return[{name:o.j,paths:s,applies:g(o.j,e)},{name:o.g,paths:d,applies:g(o.g,e)},{name:o.h,paths:l,applies:g(o.h,e),get:e=>Math.round(100*(e+Number.EPSILON))/100},{name:o.h,paths:p,applies:g(o.h,e),get:e=>function(e){if(!e)return null;let t=e.split(".").map(Number);if(4!=t.length)return null;let i=[];for(let e=0;e<4;e++){let t=Math.max(0,Math.min(8,24-8*e));i.push(255<<8-t&255)}return t.map(((e,t)=>e&i[t])).join(".")}(e)},{name:o.h,paths:c,applies:g(o.h,e),get:e=>function(e){if(!e)return null;let t=e.split(":").map((e=>parseInt(e,16)));for(t=t.map((e=>isNaN(e)?0:e));t.length<8;)t.push(0);if(8!=t.length)return null;let i=[];for(let e=0;e<8;e++){let t=Math.max(0,Math.min(16,64-16*e));i.push(65535<<16-t&65535)}return t.map(((e,t)=>e&i[t])).map((e=>e.toString(16))).join(":")}(e)},{name:o.i,paths:["source.tid"],applies:g(o.i,e)}].map(m)}const h=function(e=r.a){const t=u(y(e)),i=u(function(e=r.a){return[{name:o.g,paths:["userId","userIdAsEids"],applies:g(o.g,e)},{name:o.i,paths:["ortb2Imp.ext.tid"],applies:g(o.i,e)}].map(m)}(e));return function(e){const a={};return{ortb2:i=>(t(a,i,e),i),bidRequest:t=>(i(a,t,e),t)}}}();(0,r.b)(o.i,"enableTIDs config",(()=>{if(!n.config.getConfig("enableTIDs"))return{allow:!1,reason:"TIDs are disabled"}}))},(e,t,i)=>{i.d(t,{a:()=>l});var a=i(10),n=i(0);let r=null,o=0,s=[];function d(e,t){const i=o;let a=setTimeout((()=>{o===i&&null==r?e():null!=r?s.push({callback:e,startTime:i,setTimerId(e){a=e}}):a=d(e,o-i)()}),t);return()=>a}function l({startTime:e=n.Db,ttl:t=(()=>null),monotonic:i=!1,slack:r=5e3}={}){const o=new Map,s=[],l=[],p=i?e=>l.push(e):e=>l.splice((0,n.d)(l,e,(e=>e.expiry)),0,e);let c,m;function u(){if(m&&clearTimeout(m),l.length>0){const e=(0,n.Db)();c=Math.max(e,l[0].expiry+r),m=d((()=>{const e=(0,n.Db)();let t=0;for(const i of l){if(i.expiry>e)break;s.forEach((e=>{try{e(i.item)}catch(e){(0,n.gb)(e)}})),o.delete(i.item),t++}l.splice(0,t),m=null,u()}),c-e)}else m=null}let b={};return{[Symbol.iterator]:()=>o.keys(),add(i){!o.has(i)&&o.set(i,function(i){const n={},o=b;let s;const[d,l]=Object.entries({start:e,delta:t}).map((([e,t])=>{let d;return function(){const l=d={};a.a.resolve(t(i)).then((t=>{l===d&&(n[e]=t,o===b&&null!=n.start&&null!=n.delta&&(s=n.start+n.delta,p(f),(null==m||c>s+r)&&u()))}))}})),f={item:i,refresh:l,get expiry(){return s}};return d(),l(),f}(i))},clear(){l.length=0,u(),o.clear(),b={}},toArray:()=>Array.from(o.keys()),refresh(){l.length=0,u();for(const e of o.values())e.refresh()},onExpiry:e=>(s.push(e),()=>{const t=s.indexOf(e);t>=0&&s.splice(t,1)})}}document.addEventListener("visibilitychange",(function(){document.hidden?r=Date.now():(o+=Date.now()-(r??0),r=null,s.forEach((({callback:e,startTime:t,setTimerId:i})=>i(d(e,o-t)()))),s=[])}))},(e,t,i)=>{i.d(t,{a:()=>s,b:()=>d});var a=i(2),n=i(0);let r=1;const o=[];function s(e){return e.ttl-(e.hasOwnProperty("ttlBuffer")?e.ttlBuffer:r)}function d(e){o.push(e)}a.config.getConfig("ttlBuffer",(e=>{if("number"==typeof e.ttlBuffer){const t=r;r=e.ttlBuffer,t!==r&&o.forEach((e=>e(r)))}else(0,n.gb)("Invalid value for ttlBuffer",e.ttlBuffer)}))},(e,t,i)=>{i.d(t,{a:()=>p});var a=i(13),n=i(27),r=i(11),o=i(4),s=i(0);const d=new WeakMap,l=["debugging","outstream","improvedigital","showheroes-bs","aaxBlockmeter","adagio","adloox","akamaidap","arcspan","airgrid","browsi","brandmetrics","clean.io","humansecurity","confiant","contxtful","hadron","mediafilter","medianet","azerionedge","a1Media","geoedge","qortex","dynamicAdBoost","51Degrees","symitridap","wurfl","justtag","tncId","ftrackId","id5"];function p(e,t,i,p,c,m){if(!(0,r.a)(a.k,(0,n.a)(t,i)))return;if(!i||!e)return void(0,s.gb)("cannot load external script without url and moduleCode");if(!(0,o.c)(l,i))return void(0,s.gb)(`${i} not whitelisted for loading external JavaScript`);c||(c=document);const u=g(c,e);if(u)return p&&"function"==typeof p&&(u.loaded?p():u.callbacks.push(p)),u.tag;const b=d.get(c)||{},f={loaded:!1,tag:null,callbacks:[]};return b[e]=f,d.set(c,b),p&&"function"==typeof p&&f.callbacks.push(p),(0,s.jb)(`module ${i} is loading external JavaScript`),function(t,i,a,n){a||(a=document);var r=a.createElement("script");r.type="text/javascript",r.async=!0;const o=g(a,e);return o&&(o.tag=r),r.readyState?r.onreadystatechange=function(){"loaded"!==r.readyState&&"complete"!==r.readyState||(r.onreadystatechange=null,i())}:r.onload=function(){i()},r.src=t,n&&(0,s.yb)(r,n),(0,s.O)(r,a),r}(e,(function(){f.loaded=!0;try{for(let e=0;e<f.callbacks.length;e++)f.callbacks[e]()}catch(e){(0,s.gb)("Error executing callback","adloader.js:loadExternalScript",e)}}),c,m);function g(e,t){const i=d.get(e);return i&&i[t]?i[t]:null}}},(e,t,i)=>{i.d(t,{a:()=>o});var a=i(9),n=i(20),r=i(0);function o(e,t,i,{index:o=a.a.index,bs:s=n.a}={}){i=i||o.getBidRequest(t);const d=t?.adapterCode,l=t?.bidderCode||i?.bidder,p=s.get(t?.adapterCode,"adjustAlternateBids"),c=s.getOwn(l,"bidCpmAdjustment")||s.get(p?d:l,"bidCpmAdjustment");if(c&&"function"==typeof c)try{return c(e,Object.assign({},t),i)}catch(e){(0,r.gb)("Error during bid adjustment",e)}return e}},(e,t,i)=>{i.d(t,{a:()=>B,b:()=>w,c:()=>R,d:()=>A,e:()=>S,f:()=>E,g:()=>j,h:()=>M,i:()=>N,j:()=>P});var a=i(0),n=i(5),r=i(15),o=i(6),s=i(2),d=i(48),l=i(35),p=i(9),c=i(49),m=i(7),u=i(26),b=i(10),f=i(18),g=i(19);const{AD_RENDER_FAILED:y,AD_RENDER_SUCCEEDED:h,STALE_RENDER:v,BID_WON:_}=o.EVENTS,{EXCEPTION:I}=o.AD_RENDER_FAILED_REASON,w=(0,m.b)("sync",(function(e,t=!0,i=b.a.resolve()){return i.then((t=>t??p.a.findBidByAdId(e))).catch((()=>{}))})),x=(0,m.b)("sync",(function(e){r.emit(_,e),p.a.addWinningBid(e)}));function T({reason:e,message:t,bid:i,id:n}){const o={reason:e,message:t};i&&(o.bid=i,o.adId=i.adId),n&&(o.adId=n),(0,a.gb)(`Error rendering ad (id: ${n}): ${t}`),r.emit(y,o)}function D({doc:e,bid:t,id:i}){const a={doc:e};t&&(a.bid=t),i&&(a.adId=i),f.a.callAdRenderSucceededBidder(t.adapterCode||t.bidder,t),r.emit(h,a)}function A(e,t){switch(e.event){case o.EVENTS.AD_RENDER_FAILED:T({bid:t,id:t.adId,reason:e.info.reason,message:e.info.message});break;case o.EVENTS.AD_RENDER_SUCCEEDED:D({doc:null,bid:t,id:t.adId});break;default:(0,a.gb)(`Received event request for unsupported event: '${e.event}' (adId: '${t.adId}')`)}}function S(e,t,{resizeFn:i,fireTrackers:a=u.d}){"resizeNativeHeight"===e.action?i(e.width,e.height):a(e,t)}const C={[o.MESSAGES.EVENT]:A};C[o.MESSAGES.NATIVE]=S;const R=(0,m.b)("sync",(function(e,t){const{ad:i,adUrl:n,cpm:r,originalCpm:o,width:s,height:d}=e,l={AUCTION_PRICE:o||r,CLICKTHROUGH:t?.clickUrl||""};return{ad:(0,a.ub)(i,l),adUrl:(0,a.ub)(n,l),width:s,height:d}})),k=(0,m.b)("sync",(function({renderFn:e,resizeFn:t,bidResponse:i,options:a}){if(i.mediaType===l.d)return void T({reason:o.AD_RENDER_FAILED_REASON.PREVENT_WRITING_ON_MAIN_DOCUMENT,message:"Cannot render video ad",bid:i,id:i.adId});const n=R(i,a);e(Object.assign({adId:i.adId},n));const{width:r,height:s}=n;null!=(r??s)&&t(r,s)}));function E({renderFn:e,resizeFn:t,adId:i,options:d,bidResponse:l,doc:p}){B(l,(()=>{if(null!=l){if(l.status!==o.a.RENDERED||((0,a.jb)(`Ad id ${i} has been rendered before`),r.emit(v,l),!(0,n.a)(s.config.getConfig("auctionOptions"),"suppressStaleRender")))try{k({renderFn:e,resizeFn:t,bidResponse:l,options:d,doc:p})}catch(e){T({reason:o.AD_RENDER_FAILED_REASON.EXCEPTION,message:e.message,id:i,bid:l})}}else T({reason:o.AD_RENDER_FAILED_REASON.CANNOT_FIND_AD,message:`Cannot find ad '${i}'`,id:i})}))}function M(e){const t=(0,g.d)(e.metrics);t.checkpoint("bidRender"),t.timeBetween("bidWon","bidRender","render.deferred"),t.timeBetween("auctionEnd","bidRender","render.pending"),t.timeBetween("requestBids","bidRender","render.e2e"),e.status=o.a.RENDERED}k.before((function(e,t){const{bidResponse:i,doc:a}=t;(0,d.c)(i.renderer)?((0,d.b)(i.renderer,i,a),D({doc:a,bid:i,id:i.adId}),e.bail()):e(t)}),100);const O=new WeakMap,U=new WeakSet;function B(e,t){null!=e?(O.set(e,t),e.deferRendering||P(e),U.has(e)||(U.add(e),x(e))):t()}function P(e){const t=O.get(e);t&&(t(),M(e),O.delete(e))}function N(e,t,i){let n;function r(e,i){T(Object.assign({id:t,bid:n},{reason:e,message:i}))}function s(t,i){e.defaultView&&e.defaultView.frameElement&&(t&&(e.defaultView.frameElement.width=t),i&&(e.defaultView.frameElement.height=i))}const d=(l={resizeFn:s},function(e,t,i){C.hasOwnProperty(e)&&C[e](t,i,l)});var l;function p(t){t.ad?(e.write(t.ad),e.close(),D({doc:e,bid:n,adId:n.adId})):(0,c.b)(n).then((i=>i(t,{sendMessage:(e,t)=>d(e,t,n),mkFrame:a.k},e.defaultView))).then((()=>D({doc:e,bid:n,adId:n.adId})),(e=>{r(e?.reason||o.AD_RENDER_FAILED_REASON.EXCEPTION,e?.message),e?.stack&&(0,a.gb)(e)}));const i=document.createComment(`Creative ${n.creativeId} served by ${n.bidder} Prebid.js Header Bidding`);(0,a.O)(i,e,"html")}try{t&&e?e!==document||(0,a.N)()?w(t).then((a=>{n=a,E({renderFn:p,resizeFn:s,adId:t,options:{clickUrl:i?.clickThrough},bidResponse:a,doc:e})})):r(o.AD_RENDER_FAILED_REASON.PREVENT_WRITING_ON_MAIN_DOCUMENT,"renderAd was prevented from writing to the main document."):r(o.AD_RENDER_FAILED_REASON.MISSING_DOC_OR_ADID,"missing "+(t?"doc":"adId"))}catch(e){r(I,e.message)}}function j(){if(!window.frames[o.k])if(document.body){const e=(0,a.l)();e.name=o.k,document.body.appendChild(e)}else window.requestAnimationFrame(j)}},(e,t,i)=>{i.d(t,{a:()=>r});var a=i(0);function n(e,{src:t="client",bidder:i="",bidId:n,transactionId:r,adUnitId:o,auctionId:s}={}){var d=t,l=e||0;Object.assign(this,{bidderCode:i,width:0,height:0,statusMessage:function(){switch(l){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}(),adId:(0,a.G)(),requestId:n,transactionId:r,adUnitId:o,auctionId:s,mediaType:"banner",source:d}),this.getStatusCode=function(){return l},this.getSize=function(){return this.width+"x"+this.height},this.getIdentifiers=function(){return{src:this.source,bidder:this.bidderCode,bidId:this.requestId,transactionId:this.transactionId,adUnitId:this.adUnitId,auctionId:this.auctionId}}}function r(e,t){return new n(e,t)}},(e,t,i)=>{function a(e,t,i){t.split&&(t=t.split("."));for(var a,n,r=0,o=t.length,s=e;r<o&&"__proto__"!=(n=""+t[r++])&&"constructor"!==n&&"prototype"!==n;)s=s[n]=r===o?i:typeof(a=s[n])==typeof t?a:0*t[r]!=0||~(""+t[r]).indexOf(".")?{}:[]}i.d(t,{a:()=>a})},(e,t,i)=>{i.d(t,{a:()=>s,b:()=>o});const a=(e,t,i)=>{i?e.setItem(t,i):e.removeItem(t)},n=(e,t)=>e.getItem(t),r=(e,t,i)=>{try{switch(e){case"in-memory":return;case"session-storage":return a(sessionStorage,t,i);case"local-storage":return a(localStorage,t,i)}}catch{}},o=(e,t,i)=>{const a=["in-memory","session-storage","local-storage"];for(const n of a)r(n,t,n===e?i:null)},s=(e,t)=>{try{switch(e){case"in-memory":return null;case"session-storage":return n(sessionStorage,t);case"local-storage":return n(localStorage,t)}}catch(e){return null}}},(e,t,i)=>{i.d(t,{a:()=>n});var a=i(1);const n=e=>(0,a.j)(e)?[]:(0,a.c)(e)?[...e]:[e]},(e,t,i)=>{i.d(t,{a:()=>o,b:()=>d,c:()=>r,d:()=>l,e:()=>a,f:()=>n,g:()=>s,h:()=>m,i:()=>c});const a=["request","imp","bidResponse","response"],[n,r,o,s]=a,[d,l]=["default","pbs"],p=new Set(a),{registerOrtbProcessor:c,getProcessors:m}=function(){const e={};return{registerOrtbProcessor({type:t,name:i,fn:n,priority:r=0,dialects:o=[d]}){if(!p.has(t))throw new Error(`ORTB processor type must be one of: ${a.join(", ")}`);o.forEach((a=>{e.hasOwnProperty(a)||(e[a]={}),e[a].hasOwnProperty(t)||(e[a][t]={}),e[a][t][i]={priority:r,fn:n}}))},getProcessors:t=>e[t]||{}}}()},(e,t,i)=>{i.d(t,{a:()=>o,b:()=>r});var a=i(4),n=i(0);function r(e){return t=>(0,n.i)(t,e)}function o(e){const t=function(e){let t;return(0,n._)()&&(t=(0,a.b)(window.googletag.pubads().getSlots(),r(e))),t}(e);return t?{gptSlot:t.getAdUnitPath(),divId:t.getSlotElementId()}:{}}},(e,t,i)=>{i.d(t,{a:()=>r,b:()=>a});const a=(e,t)=>{const i={...e};if(t.overrideMediaTypes)return t.overrideMediaTypes;const a=t.allowedMediaTypes;if(a){const e=Object.keys(i);for(const t of e)a.includes(t)||delete i[t]}return i},n=(e,t,i,n,r)=>{n.provideFormatter(t.bidder)(e,{placement:i,bid:t,resolvedMediaTypes:a(i.bidRequest.mediaTypes,t),context:r})},r=(e,t,i,a)=>{for(const r of t)for(const t of r.bidRequest.bids)n(e,t,r,i,a);return e}},(e,t,i)=>{i.d(t,{a:()=>a});const a=(e,t=document)=>new Promise(((i,a)=>{const n=t.createElement("script");n.async=!0,n.src=e,n.addEventListener("load",(()=>i())),n.addEventListener("error",(e=>a(e))),t.head.append(n)}))},(e,t,i)=>{i.d(t,{a:()=>a});const a=(e,t)=>{let i;return(...a)=>{i&&clearTimeout(i),i=window.setTimeout((()=>{i=void 0,e(...a)}),1e3*t)}}},(e,t,i)=>{i.d(t,{a:()=>r,b:()=>n,c:()=>o});var a=i(1);const n=e=>(0,a.m)(e)&&(0,a.q)(e.bidder)&&(0,a.q)(e.creativeId)&&(0,a.q)(e.placementId),r=(e,t,i)=>e.createComment(` Hubvisor: '${i.creativeType}' creative #${t.creativeId} from '${t.bidder}' for placement '${t.placementId}' `),o=(e,t,i)=>{const a=()=>{e.body.insertBefore(r(e,t,i),e.body.firstChild)};e.body?a():e.addEventListener("DOMContentLoaded",a)}},(e,t,i)=>{i.d(t,{a:()=>a});const a=(e,t)=>({kind:e,value:t})},(e,t,i)=>{i.d(t,{a:()=>a});const a=(e,...t)=>{const i=e.weight+t.reduce(((e,t)=>e+t.weight),0);if(i<=0)return e.value;let a=Math.random()*i;for(const i of[e,...t]){if(a<i.weight)return i.value;a-=i.weight}return e.value}},(e,t,i)=>{i.d(t,{a:()=>a});const a="relay"},(e,t,i)=>{i.d(t,{a:()=>a});const a="backfill"},(e,t,i)=>{i.r(t),i.d(t,{AmazonContentProvider:()=>W,isAmazonBidResponse:()=>G});var a=i(3),n=i(94),r=i(21),o=i(22);const{debug:s,warn:d}=a.a.tag("apstag"),l=(0,r.a)((e=>{if(e.loadScript&&(()=>{if(window.apstag)return;const e=(e,t)=>{window.apstag?._Q.push([e,t])};window.apstag={init(){e("i",arguments)},fetchBids(){e("f",arguments)},setDisplayBids(){},targetingKeys:()=>[],renderImp(){},rpa(){e("ri",arguments)},_Q:[]};const t=document.createElement("script");t.async=!0,t.src="https://c.amazon-adsystem.com/aax2/apstag.js",document.scripts[0]?.insertAdjacentElement("afterend",t)})(),window.apstag&&e.config&&(s("Initializing apstag",e.config),window.apstag.init(e.config),e.audiencesConfig?.enabled)){let t;try{t=e.audiencesConfig.retrieveHashedEmail()}catch(e){d("failed to retrieve hashed email",e)}t&&(e=>{try{window.apstag?.rpa({hashedRecords:[{type:"email",record:e}]})}catch(e){d("failed to init Audiences Publisher with the hashed email",e)}})(t)}}));var p=i(1);const{warn:c}=a.a.tag("content-provider:amazon:accumulator");class m{#N={};push=e=>{this.#N[e.slot.slotID]&&c(`Amazon does not support multiple bids per slotId '${e.slot.slotID}'`,e),this.#N[e.slot.slotID]=e};build=()=>Object.values(this.#N).filter(p.i)}var u=i(57),b=i(56),f=i(66),g=i(53);const{warn:y}=a.a.tag("content-provider:amazon:formatter");var h=i(23),v=i(31),_=i(32);const I=e=>(0,p.m)(e)&&(0,p.m)(e.targeting)&&(0,p.j)(e.amznbid);var w=i(55),x=i(97),T=i(98),D=i(8),A=i(38),S=i(14),C=i(95),R=i(71),k=i(44);const{info:E,error:M}=a.a.tag("amazon:outstream-player"),O=new Map;var U=i(42),B=i(40),P=i(41),N=i(76);const{error:j,debug:z,info:q}=a.a.tag("content-provider:amazon"),$=e=>{if(!e)return[0,0];const[t=0,i=0]=e.split("x").map((e=>parseInt(e,10))).map((e=>isNaN(e)?0:e));return[t,i]},F=e=>I(e)?$(e.targeting.amznsz):$(e.amznsz),V=e=>{if(I(e))return e.targeting;{const{amznbid:t,amzniid:i,amznp:a,amznsz:n,amznactt:r}=e;return{amznbid:t,amzniid:i,amznp:a,amznsz:n,amznactt:r}}},L=e=>{if(I(e)){const t=Object.entries(e.targeting).find((([e])=>e.endsWith("amzniid")));return t?.[1]??"unknown"}return e.amzniid},G=e=>!!e.amazon;class W{#j;#z;#q;#$;constructor(e){for(const e of["amznbid","amzniid","amznp","amznsz","amznactt"])h.i.add(e);this.#$=e.bus,this.#$.on(B.a.amazonRenderRequest,(({document:e,amazonBidId:t})=>{try{this.#q?.(e,t)}catch(e){const t=new D.b(D.a.amazonRenderingFailed,`Error while rendering Amazon ${e}`);return reportError(t)}})),e.globalSettings.amazon?this.#z=e.globalSettings.amazon:j("AmazonContentProvider was loaded, but no configuration was provided: Amazon wrapper can't be initialized"),this.#j=e.globalSettings.bidderAliases}#F=e=>(0,p.m)(e)&&!0===e.timeout;#V=e=>{if((0,p.q)(e.amznbid)&&this.#z?.cpmMapping){const t=this.#z.cpmMapping[e.amznbid];if(t)return"EUR"===this.#z.currency?t/Number(P.remoteConfiguration.currentValue?.currencies.rates.USD?P.remoteConfiguration.currentValue?.currencies.rates.USD.EUR:1):t}return 0};#L=e=>{const t=`${Math.round(1e12*Math.random())}${Date.now()}`;if(I(e)){const i=Object.entries(e.targeting),a=i.find((([e])=>e.endsWith("amzniid"))),n=i.find((([e])=>e.endsWith("amznbid")));return`https://aax.amazon-adsystem.com/e/dtb/vast?b=${a?.[1]}&pp=${n?.[1]}&rnd=${t}`}return`https://aax.amazon-adsystem.com/e/dtb/vast?b=${e.amzniid}&pp=${e.amznbid}&rnd=${t}`};#G=(e,t,i,a,n)=>{const r=(e=>{const t={};for(const a of e)t[(i=a,i.slot.slotID)]=a;var i;return t})(a);for(const a of n){const n=r[a.slotID];if(!n)continue;if(this.#F(a)){e.timeouts.push({placementId:n.metadata.placementId,bidId:n.metadata.bidId,bidder:n.metadata.bidder,displayFormat:n.metadata.displayFormat,mediaType:n.metadata.mediaType,vendorId:793,requestSizes:n.metadata.requestSizes,userIdPartners:[],demandSource:"apstag"}),delete r[a.slotID];continue}const[o,s]=F(a),d=V(a);if(I(a))for(const e of Object.keys(d))h.i.add(e);if(""===d.amznbid&&""===d.amzniid&&""===d.amznp&&"0x0"===d.amznsz)continue;if(""===d.amzniid&&"0x0"===d.amznsz)continue;const l={providerId:w.a,amazon:a,auctionId:t,placementId:n.metadata.placementId,bidId:n.metadata.bidId,bidder:n.metadata.bidder,vendorId:793,mediaType:n.metadata.mediaType,width:o,height:s,creativeId:L(a),cpm:this.#V(d),currency:"USD",originalCpm:0,originalCurrency:this.#z?.currency??"USD",isNetRevenue:!1,targetings:d,ttl:30,fetchDuration:i,native:void 0,vastUrl:void 0,vastXml:void 0,displayFormat:n.metadata.displayFormat,requestSizes:n.metadata.requestSizes,userIdPartners:[],requestParams:void 0,demandSource:"apstag"};"outstream"===l.displayFormat&&(l.vastUrl=this.#L(l.amazon)),e.bids.push(l),delete r[a.slotID]}for(const t of Object.values(r))t&&e.noBids.push({placementId:t.metadata.placementId,bidId:t.metadata.bidId,bidder:t.metadata.bidder,displayFormat:t.metadata.displayFormat,mediaType:t.metadata.mediaType,vendorId:793,requestSizes:t.metadata.requestSizes,userIdPartners:[],demandSource:"apstag"})};#W=()=>N.a.value?.()??[];#H=(e,t)=>{if(!this.#z?.pubId)return;const i={bidTimeout:e.bidderTimeout,pubID:this.#z.pubId,adServer:this.#z.adServer,videoAdServer:this.#z.videoAdServer,gdpr:{cpmTimeout:this.#z.gdpr?.cpmTimeout}};if(this.#z.enableDeals&&(i.deals=!0),t&&(i.gdpr={enabled:!0,consent:t,cpmTimeout:this.#z.gdpr?.cpmTimeout}),e.amazonOrtb2){const t={...e.amazonOrtb2.user,eids:this.#W()};i.signals={ortb2:{...e.amazonOrtb2,user:t}}}return i};#X=(0,r.a)((()=>{window.apstag?.renderImp&&(this.#q=window.apstag?.renderImp.bind(window.apstag),window.apstag.renderImp=(...e)=>{const[t,i]=e,a=i&&O.get(i);if(this.#z?.useHbvPlayer&&a){O.delete(i);const{bid:n,placement:r}=a;this.#$.emit(B.a.amazonImp,{amzniid:i,doc:t}),(async(e,t,i)=>{const a=e.defaultView?.frameElement;(0,A.h)(a)&&(0,A.d)(a),(0,x.c)(e,t,{creativeType:"outstream-player"});const n=document.querySelector(i.rendering?.outstream?.selector??`#${i.placementId}`)??e.body;try{return await(0,C.a)("https://cdn.hubvisor.io/wrapper/common/player.js"),(0,R.a)(n,{vastUrl:t.vastUrl,vastXml:t.vastXml,targetWidth:t.width,targetHeight:t.height,renderContext:{document:e,bidResponse:t,context:void 0},...i.rendering?.outstream,onEvent:(e,i)=>{const a=(0,T.a)(e,i);switch(a.kind){case"impression":case"first-quartile":case"midpoint":case"third-quartile":case"complete":return k.a.emit("outstream-imp",{adId:t.bidId,kind:"impression"===a.kind?"video-imp":a.kind}),E(`Outstream ${a.kind} pixel triggered for ${t.placementId}`);case"error":return M("Error playing outstream",JSON.stringify({error:a.value,bidResponse:t}))}}}),!0}catch(e){return(0,S.a)(new D.b(D.a.outstreamPlayerLoadingFailed,`failed to load player: ${e.message} - bid ${t.bidder} ${t.vastUrl} ${t.vastXml}  - ${JSON.stringify(e)}`),e),!1}})(t,n,r).then((t=>{t||this.#q?.(...e)}))}else this.#q?.(...e),i&&this.#$.emit(B.a.amazonImp,{amzniid:i,doc:t})})}));provideContent=async(e,t)=>{const i={bids:[],noBids:[],timeouts:[],rejectedBids:[]};if(!this.#z)return i;const a=(0,_.b)(v.a.currentValue?.tcData);if(this.#z.abortOnNoConsent&&(0,U.b)())return z("no consent: skipping Amazon auction"),i;l({config:this.#H(t,a),loadScript:!this.#z.skipScriptLoad,audiencesConfig:this.#z.audiencesConfig});const r=(0,n.a)(new m,t.placements,{provideFormatter:(s=this.#j,p=this.#z,e=>(s[e]??e)!==b.a.amazon?g.a:(e=>{const{allowMultiFormat:t=!1}=e;return(e,{placement:i,bid:a,resolvedMediaTypes:n})=>{const r=n.banner&&(n.outstream||n.instream);r&&t?e.push({metadata:{bidId:`amzn-${(0,f.a)()}`,bidder:a.bidder,placementId:i.placementId,displayFormat:u.a.banner,mediaType:"banner",requestSizes:n.banner.sizes},slot:{slotID:a.params?.slotId??i.placementId,slotName:a.params?.slotName,mediaType:"multi-format",multiFormatProperties:{display:{sizes:n.banner.sizes},video:{sizes:a.params.sizes??[n.outstream?.playerSize]}}}}):(r&&!t&&y("Trying to use multiformat with allowMultiFormat set to false"),n.banner&&e.push({metadata:{bidId:`amzn-${(0,f.a)()}`,bidder:a.bidder,placementId:i.placementId,displayFormat:u.a.banner,mediaType:"banner",requestSizes:n.banner.sizes},slot:{slotID:a.params?.slotId??i.placementId,sizes:n.banner.sizes,slotName:a.params?.slotName}}),n.outstream&&e.push({metadata:{bidId:`amzn-outstream-${(0,f.a)()}`,bidder:a.bidder,placementId:i.placementId,displayFormat:u.a.outstream,mediaType:"video",requestSizes:[]},slot:{slotID:a.params?.slotId??i.placementId,mediaType:"video",sizes:a.params.sizes}}),n.instream&&e.push({metadata:{bidId:`amzn-instream-${(0,f.a)()}`,bidder:a.bidder,placementId:i.placementId,displayFormat:u.a.instream,mediaType:"video",requestSizes:[]},slot:{slotID:a.params?.slotId??i.placementId,mediaType:"video"}}))}})(p))},t.context).build();var s,p,c;if(r.length>0)try{const a=r.map((e=>e.slot));q(`Starting auction with id #${e}`,a);const n=1e3*t.bidderTimeout,s=Date.now(),l=await(c={slots:a,timeout:n},new Promise(((e,t)=>{if(window.apstag){const t={resolved:!1};window.apstag.fetchBids(c,(i=>{t.resolved=!0,e(i)})),c.timeout&&(0,o.b)(c.timeout/1e3).then((()=>{t.resolved||(d(`Amazon 'fetchBids' didn't respond within timeout of ${c.timeout}ms`),e(c.slots.map((({slotID:e})=>({slotID:e,timeout:!0})))))}))}else t(new Error("'fetchBids' was called before 'setupApstag' and this is a developer error"))}))),p=Date.now()-s;q(`Ended auction with id #${e}`,l),this.#G(i,e,p,r,l);for(const e of i.bids)if("outstream"===e.displayFormat){const i=t.placements.find((t=>t.placementId===e.placementId));i&&O.set(e.creativeId,{bid:e,placement:i})}this.#X()}catch(e){j("Error requesting bids to Amazon",e)}return i}}},(e,t,i)=>{i.r(t),i.d(t,{FLOOR_SKIPPED_REASON:()=>I,_floorDataForAuction:()=>k,addBidResponseHook:()=>ie,allowedFields:()=>D,calculateAdjustedFloor:()=>P,continueAuction:()=>L,createFloorsDataForAuction:()=>V,fieldMatchingFunctions:()=>O,generateAndHandleFetch:()=>ee,getBiddersCpmAdjustment:()=>B,getFirstMatchingFloor:()=>U,getFloor:()=>j,getFloorDataFromAdUnits:()=>q,getFloorsDataForAuction:()=>z,handleFetchResponse:()=>Z,handleSetFloorsConfig:()=>te,isFloorsDataValid:()=>X,normalizeDefault:()=>G,parseFloorData:()=>Y,pickRandomModel:()=>F,requestBidsHook:()=>J,setImpExtPrebidFloors:()=>ne,setOrtbExtPrebidFloors:()=>re,setOrtbImpBidFloor:()=>ae,updateAdUnitsForAuction:()=>$});var a=i(0),n=i(5),r=i(89),o=i(16),s=i(2),d=i(36),l=i(15),p=i(6),c=i(7),m=i(4),u=i(50),b=i(20),f=i(9),g=i(92),y=i(19),h=i(86),v=i(93);function _(e,t,i,a=!0){if(t===i)return e;let n=e;try{n=(0,o.a)().convertCurrency(e,t,i)}catch(e){if(!a)throw e}return n}const I={NOT_FOUND:"not_found",RANDOM:"random"},w="Price Floors",x=(0,d.a)(1e4),T=Symbol();let D=[T,"gptSlot","adUnitCode","size","domain","mediaType"],A=!1,S=!1,C={},R=[],k={};const E=(()=>{let e;return function(){return null==e&&(e=(0,a.qb)((0,u.a)().topmostLocation,{noDecodeWholeURL:!0}).hostname),e}})();function M(e,t,{index:i=f.a.index}={}){return e?.adUnitCode||i.getAdUnit(t).code}let O={[T]:()=>"*",size:(e,t)=>(0,a.nb)(t.size)||"*",mediaType:(e,t)=>t.mediaType||"banner",gptSlot:(e,t)=>function(e,{index:t=f.a.index}={}){const i=t.getAdUnit({adUnitId:e});return"gam"===(0,n.a)(i,"ortb2Imp.ext.data.adserver.name")&&i.ortb2Imp.ext.data.adserver.adslot}((e||t).adUnitId)||(0,v.a)(M(e,t)).gptSlot,domain:E,adUnitCode:(e,t)=>M(e,t)};function U(e,t,i={}){let a=function(e,t,i){return e.length?e.reduce(((e,a)=>{let n=O[a](t,i)||"*";return e.push("*"===n?["*"]:[n.toLowerCase(),"*"]),e}),[]):[]}((0,n.a)(e,"schema.fields")||[],t,i);if(!a.length)return{matchingFloor:void 0};let o=a.map((e=>e[0])).join("-"),s=(0,n.a)(e,`matchingInputs.${o}`);if(s)return{...s};let d=(l=a,p=(0,n.a)(e,"schema.delimiter")||"|",l.reduce(((e,t)=>{let i=[];return e.map((e=>{t.map((t=>{i.push(e+p+t)}))})),i})).sort(((e,t)=>e.split("*").length-t.split("*").length)));var l,p;let c=(0,m.b)(d,(t=>e.values.hasOwnProperty(t))),u={floorMin:e.floorMin||0,floorRuleValue:e.values[c],matchingData:d[0],matchingRule:c===e.meta?.defaultRule?void 0:c};const b=(0,n.a)(t,"ortb2Imp.ext.prebid.floors.floorMin");return"number"==typeof b&&(u.floorMin=b),u.matchingFloor=Math.max(u.floorMin,u.floorRuleValue),(0,r.a)(e,`matchingInputs.${o}`,{...u}),u}function B(e,t,i){return parseFloat((0,h.a)(e,{...t,cpm:e},i))}function P(e,t){const i=Math.pow(10,10);return e*i/(t*i)*(e*i)/i}const N={banner:e=>(0,n.a)(e,"mediaTypes.banner.sizes")||[],video:e=>(0,n.a)(e,"mediaTypes.video.playerSize")||[],native:e=>(0,n.a)(e,"mediaTypes.native.image.sizes")?[(0,n.a)(e,"mediaTypes.native.image.sizes")]:[]};function j(e={currency:"USD",mediaType:"*",size:"*"}){let t=this,i=k[t.auctionId];if(!i||i.skipped)return{};e=function(e,t){let i=Object.keys(e.mediaTypes||{});return"*"===t.mediaType&&1===i.length&&(t.mediaType=i[0]),"*"===t.size&&-1!==i.indexOf(t.mediaType)&&N[t.mediaType]&&1===N[t.mediaType](e).length&&(t.size=N[t.mediaType](e)[0]),t}(t,e);let n=U(i.data,{...t},{mediaType:e.mediaType,size:e.size}),r=e.currency||i.data.currency;if(n.matchingFloor&&r!==i.data.currency)try{n.matchingFloor=(0,o.a)().convertCurrency(n.matchingFloor,i.data.currency,r)}catch(e){(0,a.jb)(`${w}: Unable to get currency conversion for getFloor for bidder ${t.bidder}. You must have currency module enabled with defaultRates in your currency config`),r=i.data.currency}if(i.enforcement.bidAdjustment&&n.matchingFloor){const e=b.a.get(t.bidder,"inverseBidAdjustment");if(e)n.matchingFloor=e(n.matchingFloor,t);else{let e=B(n.matchingFloor,null,t);n.matchingFloor=e?P(n.matchingFloor,e):n.matchingFloor}}return n.matchingFloor?{floor:(s=n.matchingFloor,Math.ceil((parseFloat(s)*Math.pow(10,4)).toFixed(1))/Math.pow(10,4)),currency:r}:{};var s}function z(e,t){let i=(0,a.p)(e);return i.schema.delimiter=e.schema.delimiter||"|",i.values=function(e,t){let i=e.schema.fields,a=e.schema.delimiter,n=t&&-1===i.indexOf("adUnitCode")&&i.unshift("adUnitCode");return Object.keys(e.values).reduce(((i,r)=>(i[(n?`${t}${a}${r}`:r).toLowerCase()]=e.values[r],i)),{})}(i,t),i.currency=i.currency||"USD",i}function q(e){const t=e.find((e=>null!=e.floors?.schema));return e.reduce(((e,i)=>{if(null!=i.floors?.schema&&!(0,a.q)(i.floors.schema,t?.floors?.schema))return(0,a.gb)(`${w}: adUnit '${i.code}' declares a different schema from one previously declared by adUnit '${t.code}'. Floor config for '${i.code}' will be ignored.`),e;const n=Object.assign({},t?.floors,{values:void 0},i.floors);if(X(n))if(e.values){let t=z(n,i.code).values;Object.assign(e.values,t)}else(e=z(n,i.code)).location="adUnit";else null!=i.floors&&(0,a.jb)(`adUnit '${i.code}' provides an invalid \`floor\` definition, it will be ignored for floor calculations`,i);return e}),{})}function $(e,t,i){const r=function(e){const{data:t,enforcement:i}=e;return t?.noFloorSignalBidders?.length>0?t.noFloorSignalBidders:i?.noFloorSignalBidders?.length>0?i.noFloorSignalBidders:[]}(t);e.forEach((e=>{e.bids.forEach((e=>{const o=r.some((t=>t===e.bidder));t.skipped||o?(o&&(0,a.hb)(`noFloorSignal to ${e.bidder}`),delete e.getFloor):e.getFloor=j,e.auctionId=i,e.floorData={noFloorSignaled:o,skipped:t.skipped,skipRate:(0,n.a)(t,"data.skipRate")??t.skipRate,skippedReason:t.skippedReason,floorMin:t.floorMin,modelVersion:(0,n.a)(t,"data.modelVersion"),modelWeight:(0,n.a)(t,"data.modelWeight"),modelTimestamp:(0,n.a)(t,"data.modelTimestamp"),location:(0,n.a)(t,"data.location","noData"),floorProvider:t.floorProvider,fetchStatus:C.fetchStatus}}))}))}function F(e,t){let i=Math.floor(Math.random()*t+1);for(let t=0;t<e.length;t++)if(i-=e[t].modelWeight,i<=0)return e[t]}function V(e,t){let i=(0,a.p)(C);if(2===(0,n.a)(i,"data.floorsSchemaVersion")){let{modelGroups:e,...t}=i.data;i.data=Object.assign(t,F(e,t.modelWeightSum))}let r=0===Object.keys((0,n.a)(i,"data.values")||{}).length;if(i.data=r?q(e):z(i.data),0===Object.keys((0,n.a)(i,"data.values")||{}).length)i.skipped=!0,i.skippedReason=I.NOT_FOUND;else{const e=(0,a.D)("pbjs_skipRate")||((0,n.a)(i,"data.skipRate")??i.skipRate),t=100*Math.random()<parseFloat(e);i.skipped=t,t&&(i.skippedReason=I.RANDOM)}return i.hasOwnProperty("floorMin")&&(i.data.floorMin=i.floorMin),$(e,i,t),i}function L(e){e.hasExited||(R=R.filter((t=>t.timer!==e.timer)),e.reqBidsConfigObj.auctionId=e.reqBidsConfigObj.auctionId||(0,a.w)(),k[e.reqBidsConfigObj.auctionId]=V(e.reqBidsConfigObj.adUnits||(0,o.a)().adUnits,e.reqBidsConfigObj.auctionId),e.nextFn.apply(e.context,[e.reqBidsConfigObj]),e.hasExited=!0)}function G(e){if((0,a.ab)(e.default)){let t="*";const i=(e.schema?.fields||[]).length;i?t=Array(i).fill("*").join(e.schema?.delimiter||"|"):(0,r.a)(e,"schema.fields",[T]),e.values=e.values||{},null==e.values[t]&&(e.values[t]=e.default,e.meta={defaultRule:t})}return e}function W(e){return e=G(e),!!function(e){if(Array.isArray(e)&&e.length>0){if(e.every((e=>D.includes(e))))return!0;(0,a.gb)(`${w}: Fields received do not match allowed fields`)}return!1}((0,n.a)(e,"schema.fields"))&&(t=e,i=e.schema.fields.length,r=e.schema.delimiter||"|","object"==typeof t.values&&(t.values=Object.keys(t.values).reduce(((e,a)=>(function(e,t,i,a){return"string"==typeof e&&e.split(a).length===i&&"number"==typeof t}(a,t.values[a],i,r)&&(e[a]=t.values[a]),e)),{}),Object.keys(t.values).length>0));var t,i,r}const H={1:e=>W(e),2:e=>!(!Array.isArray(e.modelGroups)||0===e.modelGroups.length)&&(e.modelWeightSum=0,e.modelGroups.every((t=>!("number"!=typeof t.modelWeight||!W(t)||(e.modelWeightSum+=t.modelWeight,0)))))};function X(e){return"object"==typeof e&&(e.floorsSchemaVersion=e.floorsSchemaVersion||1,"function"!=typeof H[e.floorsSchemaVersion]?((0,a.gb)(`${w}: Unknown floorsSchemaVersion: `,e.floorsSchemaVersion),!1):H[e.floorsSchemaVersion](e))}function Y(e,t){if(e&&"object"==typeof e&&X(e))return(0,a.hb)(`${w}: A ${t} set the auction floor data set to `,e),{...e,location:t};(0,a.gb)(`${w}: The floors data did not contain correct values`,e)}const J=(0,y.b)("priceFloors",(function(e,t){const i={reqBidsConfigObj:t,context:this,nextFn:e,haveExited:!1,timer:null};C.auctionDelay>0&&A?(i.timer=setTimeout((()=>{(0,a.jb)(`${w}: Fetch attempt did not return in time for auction`),C.fetchStatus="timeout",L(i)}),C.auctionDelay),R.push(i)):L(i)}));function K(){R.forEach((e=>{clearTimeout(e.timer),L(e)})),R=[]}function Z(e){let t;A=!1,C.fetchStatus="success";try{t=JSON.parse(e)}catch(i){t=e}const i=Y(t,"fetch");i&&(C.data=i,C.skipRate=(0,a.ab)(i.skipRate)?i.skipRate:C.skipRate,C.floorProvider=i.floorProvider||C.floorProvider),K()}function Q(e){A=!1,C.fetchStatus="error",(0,a.gb)(`${w}: Fetch errored with: `,e),K()}function ee(e){e.url&&!A?"GET"!==(e.method||"GET")?(0,a.gb)(`${w}: 'GET' is the only request method supported at this time!`):(x(e.url,{success:Z,error:Q},null,{method:"GET"}),A=!0):A&&(0,a.jb)(`${w}: A fetch is already occuring. Skipping.`)}function te(e){C=(0,a.rb)(e,["floorMin","enabled",e=>!1!==e,"auctionDelay",e=>e||0,"floorProvider",t=>(0,n.a)(e,"data.floorProvider",t),"endpoint",e=>e||{},"skipRate",()=>isNaN((0,n.a)(e,"data.skipRate"))?e.skipRate||0:e.data.skipRate,"enforcement",e=>(0,a.rb)(e||{},["enforceJS",e=>!1!==e,"enforcePBS",e=>!0===e,"floorDeals",e=>!0===e,"bidAdjustment",e=>!1!==e,"noFloorSignalBidders",e=>e||[]]),"additionalSchemaFields",e=>{return"object"==typeof e&&Object.keys(e).length>0?(t=e,void Object.keys(t).forEach((e=>{-1===D.indexOf(e)&&"function"==typeof t[e]&&(D.push(e),O[e]=t[e])}))):void 0;var t},"data",e=>e&&Y(e,"setConfig")||void 0]),C.enabled?(ee(C.endpoint),S||(l.on(p.EVENTS.AUCTION_END,(e=>{setTimeout((()=>delete k[e.auctionId]),3e3)})),(0,o.a)().requestBids.before(J,50),(0,c.a)("addBidResponse").before(ie,(0,a.o)()?4:50),S=!0)):((0,a.hb)(`${w}: Turning off module`),C={},k={},(0,c.a)("addBidResponse").getHooks({hook:ie}).remove(),(0,o.a)().requestBids.getHooks({hook:J}).remove(),S=!1)}const ie=(0,y.c)("priceFloors",(function(e,t,i,r){let s=k[i.auctionId];if(!s||!i||s.skipped)return e.call(this,t,i,r);const d=f.a.index.getBidRequest(i);let l,c=U(s.data,d,{...i,size:[i.width,i.height]});if(!c.matchingFloor)return 0!==c.matchingFloor&&(0,a.jb)(`${w}: unable to determine a matching price floor for bidResponse`,i),e.call(this,t,i,r);let m=s.data.currency.toUpperCase(),u=i.currency||"USD";if(m===u.toUpperCase())l=i.cpm;else if(i.originalCurrency&&m===i.originalCurrency.toUpperCase())l=i.originalCpm;else try{l=(0,o.a)().convertCurrency(i.cpm,u.toUpperCase(),m)}catch(n){return(0,a.gb)(`${w}: Unable do get currency conversion for bidResponse to Floor Currency. Do you have Currency module enabled? ${i}`),e.call(this,t,i,r)}return l=B(l,i,d),function(e,t,i,a){i.floorData={floorValue:t.matchingFloor,floorRule:t.matchingRule,floorRuleValue:t.floorRuleValue,floorCurrency:e.data.currency,cpmAfterAdjustments:a,enforcements:{...e.enforcement},matchedFields:{}},e.data.schema.fields.forEach(((a,n)=>{let r=t.matchingData.split(e.data.schema.delimiter)[n];i.floorData.matchedFields[a]=r}))}(s,c,i,l),function(e,t,i){let a=!1!==(0,n.a)(e,"enforcement.enforceJS"),r=!0===(0,n.a)(e,"enforcement.floorDeals")||!i.dealId,o=i.floorData.cpmAfterAdjustments<t.matchingFloor;return a&&o&&r}(s,c,i)?(r(p.m.FLOOR_NOT_MET),void(0,a.jb)(`${w}: ${i.bidderCode}'s Bid Response for ${t} was rejected due to floor not met (adjusted cpm: ${i?.floorData?.cpmAfterAdjustments}, floor: ${c?.matchingFloor})`,i)):e.call(this,t,i,r)}));function ae(e,t,i){if("function"==typeof t.getFloor){let n,r;try{({currency:n,floor:r}=t.getFloor({currency:i.currency||s.config.getConfig("currency.adServerCurrency")||"USD",mediaType:i.mediaType||"*",size:"*"}))}catch(e){return void(0,a.jb)("Cannot compute floor for bid",t)}r=parseFloat(r),null==n||null==r||isNaN(r)||Object.assign(e,{bidfloor:r,bidfloorcur:n})}}function ne(e,t,i){if(null!=e.bidfloor){let{floorMinCur:t,floorMin:a}=i.reqContext.floorMin||{};null==t&&(t=e.bidfloorcur);const n=e.ext?.prebid?.floors?.floorMinCur||e.ext?.prebid?.floorMinCur||t,o=e.ext?.prebid?.floors?.floorMin||e.ext?.prebid?.floorMin,s=_(e.bidfloor,e.bidfloorcur,t),d=!(!o||!n)&&_(o,n,t),l=d&&d<s?d:s;(0,r.a)(e,"ext.prebid.floors.floorMin",l),(null==a||a>l)&&(a=l),i.reqContext.floorMin={floorMin:a,floorMinCur:t}}}function re(e,t,i){S&&(0,r.a)(e,"ext.prebid.floors.enabled",e.ext?.prebid?.floors?.enabled||!1),i?.floorMin&&(0,a.lb)(e,{ext:{prebid:{floors:i.floorMin}}})}s.config.getConfig("floors",(e=>te(e.floors))),(0,g.i)({type:g.c,name:"bidfloor",fn:ae}),(0,g.i)({type:g.c,name:"extPrebidFloors",fn:ne,dialects:[g.d],priority:-1}),(0,g.i)({type:g.f,name:"extPrebidFloors",fn:re,dialects:[g.d]})},(e,t,i)=>{i.r(t);var a=i(23),n=i(96),r=i(3),o=i(40),s=i(59),d=i(91),l=i(1),p=i(21);const{debug:c,info:m}=r.a.tag("gam:interceptors"),u={isProcessingEvents:!1,pendingEvents:[]},b=(e,t)=>{try{switch(t.type){case"after-define-slot":return e.gamDidDefineSlot(t.definedSlot,...t.params);case"after-display":return e.gamDidDisplay(...t.params);case"before-refresh":return e.gamWillRefresh(t.next,...t.params)}}catch{}},f=(0,n.a)((()=>{if(!u.delegate)return;if(u.isProcessingEvents)return;let e;for(u.isProcessingEvents=!0;(0,l.i)(e=u.pendingEvents.shift());)b(u.delegate,e);u.isProcessingEvents=!1}),0),g=(e,t)=>!!t&&((0,l.q)(t)?e.includes(t):e.includes(t.getSlotElementId())),y=(0,p.a)((e=>{window.Hubvisor?.ready||(c("preparing gam for header bidding"),(0,s.b)((t=>{((e,t)=>{const i=e.pubads(),a=i.refresh.bind(i);i.refresh=(...e)=>{if(t&&t.length>0){const i=(0,d.a)(e[0]).filter((e=>g(t,e)));if(i.length>0){if(a(i),(0,d.a)(e[0]).length===i.length)return;e[0]=(0,d.a)(e[0]).filter((e=>!g(t,e)))}}const i=(0,d.a)(e[0]).filter(l.i).map((e=>(0,l.q)(e)?e:e.getSlotElementId())),n=i.length>0?i.join(", "):"*";m(`before 'refresh': ${n}`),u.pendingEvents.push({type:"before-refresh",params:e,next:a}),f()}})(t,e),(e=>{const t=e.defineSlot.bind(e);e.defineSlot=(...e)=>{const i=t(...e);return c("after 'defineSlot'",e),u.pendingEvents.push({type:"after-define-slot",params:e,definedSlot:i}),f(),i}})(t),(e=>{const t=e.display.bind(e);e.display=(...e)=>{t(...e),c("after 'display'",e),u.pendingEvents.push({type:"after-display",params:e}),f()}})(t),c("gam interceptors ready")})))}));var h=i(8),v=i(14);const{info:_}=r.a.tag("GoogletagEvent"),I=(0,p.a)((()=>{(0,s.b)((e=>{e.pubads().addEventListener("impressionViewable",(e=>{_(`Slot '${e.slot.getSlotElementId()}' has been viewed`)}))}))})),w=(0,p.a)((()=>{(0,s.b)((e=>{e.pubads().addEventListener("slotRenderEnded",(e=>{const t=e.slot.getSlotElementId();if(e.isEmpty)return _(`Empty slot: ${t}`);_(`Slot '${t}' has been rendered. Advertiser: ${e.advertiserId}. Line item: ${e.lineItemId}. Size: ${e.size}`)}))}))}));var x=i(78),T=i(37),D=i(22),A=i(58),S=(i(24),i(38)),C=i(61),R=i(101),k=i(54),E=i(77);const{debug:M,error:O,info:U}=r.a.tag("short-circuit"),B=e=>{if((0,l.g)(e)){const t=e();return M("Forwarding retrieved HTMLElement",t),t}{const t=document.querySelector(e);if(M(`Getting HTMLElement from selector '${e}'`,t),t)return t}},P=(e,t,i)=>{const{placementId:a}=e.placement;var n;((e,t,i,a)=>{const n=a?.isDfpBypass??!1,r=a?.isSmartNoAd??!1;if(!e){U(`placement ${i} won't be rendered without content`);const e=t.skipIframe?document.body:B(t.selector);return E.a.dispatch("hsc-no-content",{placementId:i,bidResponse:void 0,renderingDiv:e,isGamBypass:n,isSmartNoAd:r})}const o=e.bidResponse,s=o.bidId;if(t.skipIframe)M(`Rendering content #${s} in current frame`),setTimeout((()=>{(0,C.a)("adServerRender",{document,adId:s}),E.a.dispatch("hsc-render",{placementId:i,bidResponse:e.bidResponse,renderingDiv:document.body,isGamBypass:n,isSmartNoAd:r})}),0);else{const a=t.selector;U(`Rendering content: #${s} for placement '${a}'`);const d=B(a);if(!d)throw new Error(`couldn't match element w/ selector '${a}' for content #${s} from placement ${i}`);M(`found element w/ selector '${a}' for content #${s}`,d);const l=((e,t,i)=>{M(`Using an iframe for bid #${e}`);const{width:a,height:n,placementId:r}=t;(0,S.i)(i)&&(0,S.c)(i);const o=document.createElement("iframe");return(0,S.l)(o,{width:a,height:n,id:`hbv-${r}`}),i.append(o),o})(s,o,d);(0,S.o)(l,(()=>{setTimeout((()=>{(0,C.a)("adServerRender",{document:l.contentDocument,adId:s}),E.a.dispatch("hsc-render",{placementId:i,bidResponse:e.bidResponse,renderingDiv:d,isGamBypass:n,isSmartNoAd:r})}),0)}))}})((n=e.content).find((({bidResponse:e})=>!e.deal?.isGuaranteed&&e.providerId===k.a))??n.find((e=>e.bidResponse.providerId===R.a)),t,a,i)};var N=i(39),j=i(42),z=i(43);const{info:q,debug:$,warn:F,error:V}=r.a.tag("dfp"),L="initial",G="waitingForRefresh",W=new class{#Y={};#J=[];#K=!0;#n={shouldPerformInitialRefresh:!1,shouldRefreshNewTags:!1,matchPlacementOnce:!1,shouldRefreshOnDisplay:!1,shouldBypassDfp:!1};#Z;#Q=L;#$;#ee=(0,D.a)();tagsReady=()=>this.#ee.promise;start=e=>{const{settings:t,bus:i}=e;this.#n=Object.assign({},t.dfp2),this.#Z=e.settings,this.#$=i,this.#$.on(o.a.impression,this.#te),this.#$.on(o.a.refresh,this.#ie),this.#Q=this.#n.shouldPerformInitialRefresh?L:G,y(e.settings.dfp2.elementIdsExcludedFromHB),I(),w(),(0,s.b)((e=>{e.pubads().disableInitialLoad();const t=e.pubads().getSlots();t&&t.length>0&&this.#ae()})),this.#ne(t),u.delegate=this,f()};#re=(0,p.a)((()=>{setTimeout((()=>{this.#K&&(this.render([]),(0,v.a)(new h.b(h.a.adserverTimeout,"Adserver timeout for GAM")))}),1e3*this.#Z.renderTimeout)}));#ne=(0,p.a)((e=>{{const t=e.ias,i=a.f.value;if(!t)return;if(!i)return;i.start(t.anId,t.slotProvider,t.timeout)}}));#ae=(0,p.a)((()=>{$("tags are ready"),this.#ee.resolve(),this.#n.shouldPerformInitialRefresh&&this.#re()}));#oe=(0,n.a)((()=>{this.#ae()}),.05);#se=e=>{(0,s.b)((t=>{try{t.pubads().refresh([e])}catch(t){const i=new h.b(h.a.onDisplayOrDfpRefresh,t);(0,v.a)(i,"Failed to display/refresh slot",e)}}))};#de=e=>{if(!(0,l.j)(e)){if((0,l.q)(e)||e instanceof HTMLElement){const t=e instanceof HTMLElement?e.id:e;return this.#le().find((e=>e.getSlotElementId()===t))}return e}};#pe=e=>(0,d.a)(e).map(this.#de).filter(l.i);#ce=()=>{const e=new Set;let t;for(const{refresh:i,args:a}of this.#J){const n=this.#pe(a[0]);if(0===n.length)return{refresh:i};t=i;for(const t of n)e.add(t)}if(t)return{refresh:t,slots:[...e]}};#me=(e,t)=>{const i=e.placement.rendering?.dfp;return!(!(0,A.c)(i)||!(0,T.b)(i.adUnitPath,t.getAdUnitPath()))||!(!(0,A.d)(i)||!(0,T.b)(i.elementId,t.getSlotElementId()))||!(!(0,A.e)(i)||!(0,T.b)(i.match,t.getAdUnitPath(),t.getSlotElementId()))||(0,T.b)(e.placement.placementId,t.getAdUnitPath(),t.getSlotElementId())};#ue=(e,t)=>{const i=Object.values(this.#Y).filter((e=>!t.has(e.placement.placementId))).filter((t=>this.#me(t,e)));return i.length>1&&F(`multiple renderables matching slot ${e.getSlotElementId()}: check if this is a configuration error as only the first one will be used and impressions may be lost`,i),i[0]};#be=e=>{const t=new Set,i=[];for(const a of e){const e=this.#ue(a,t);if(e){const n=e.placement.placementId;this.#n.matchPlacementOnce&&t.add(n),q(`Matched slot '${a.getSlotElementId()}' with placement '${n}'`),i.push({slot:a,renderable:e})}}return i};#fe=e=>{const t=this.#Z;if(!t)return V("Cannot setup targetings without global options");for(const{slot:i,renderable:a}of e){const e=(0,x.c)({renderable:a,settings:t});q("Set targeting",e,`for slot '${i.getSlotElementId()}'`);for(const[t,a]of Object.entries(e))(0,l.i)(a)?i.setTargeting(t,a):i.getTargeting(t).length>0&&i.clearTargeting(t)}};#le=()=>window.googletag?.pubads().getSlots()??[];#ge=async()=>{this.#n.shouldPerformInitialRefresh&&this.#Q===L&&(this.#Q="awaitTags",await this.#ee.promise,this.#Q=G,window.googletag?.pubads().refresh())};#ye=async()=>{try{return await(a.f.value?.setupTargetings())}catch(e){F("failed to apply ias targetings to GAM slots",e)}};#he=e=>{const t=new Set;for(const{renderable:{content:i}}of e)for(const e of i)t.add(e.bidResponse.placementId);this.#$?.emit(o.a.adrequest,t)};#ve=()=>this.#n.isNoConsentForGam?this.#n.isNoConsentForGam():(0,j.b)();#_e=(0,n.a)((async()=>{if(this.#K)return $("Bids are not ready yet. AdRequests will be buffered until bids are ready.");const e=this.#ce();if(!e)return $("No pending AdRequest: waiting for more");const t=e.slots?.map((e=>e.getSlotElementId())).join(", ")??"*";q(`sending pending ad requests: ${t}`),await this.#ye();const i=e.slots??this.#le();this.#J=[];const a=this.#be(i);this.#he(a),this.#n.shouldBypassDfp&&this.#ve()&&!z.a?(q("bypassing GAM"),((e,t)=>{const i=[];for(const{renderable:a,options:n}of e)try{P(a,n,t)}catch(e){i.push(e)}if(i.length>0){const e=i.map((e=>`${e}`)).join("\n");t.isDfpBypass?(0,v.a)(new h.b(h.a.bypassGamRenderError,`failed to render while bypassing gam...\n${e}`)):O(`Failed to render the following:\n${e}`)}})(a.flatMap((({renderable:e,slot:t})=>{const i=t.getSlotElementId();return document.getElementById(i)?[{renderable:e,options:{selector:`#${CSS.escape(i)}`}}]:[]})),{isDfpBypass:!0})):(this.#fe(a),this.#Ie(e.slots),e.refresh(e.slots))}),.1);#we=()=>{this.#n.shouldPerformInitialRefresh?this.#ge():this.#_e()};#te=e=>{const t=e.renderable.placement.rendering?.dfp;if(!t)return;const{placementId:i}=e.renderable.placement;this.#Y[i]&&(delete this.#Y[i],$(`Removed pending bid for placement '${i}'`),this.#xe({placements:[i]}))};#ie=e=>{e.refreshConfig.refreshReason===N.b.pageView&&($("Discard all pending renderables"),this.#Y={})};#xe=e=>{this.#$?.emit(o.a.renderableRequested,e)};#Ie=e=>{try{return this.#n?.preGamCallStep?.(e)}catch(e){V("preGamCallStep error",e)}};gamDidDefineSlot=e=>{this.#oe(),this.#n.shouldRefreshNewTags&&this.#Q===G&&this.#se(e)};gamDidDisplay=e=>{if(!this.#n.shouldRefreshOnDisplay)return;const t=this.#de(e);if(!t)return F("couldn't find matching slot, it won't be refreshed",e);this.#se(t)};gamWillRefresh=(e,...t)=>{this.#J.push({refresh:e,args:t}),this.#_e(),this.#n.shouldPerformInitialRefresh||this.#re()};canRender=e=>!!e.placement.rendering?.dfp;render=e=>{q("Renderables received",e);for(const t of e)this.#Y[t.placement.placementId]=t;this.#K=!1,this.#we()}};a.e.provide({tagsReady:W.tagsReady()}),a.h.register(A.a.dfp,W)},(e,t,i)=>{var a=i(16),n=i(0),r=i(89),o=i(5),s=i(26),d=i(6),l=i(4),p=i(87),c=i(49);const{REQUEST:m,RESPONSE:u,NATIVE:b,EVENT:f}=d.MESSAGES,g={[m]:function(e,t,i){(0,p.f)({renderFn(t){e(Object.assign({message:u,renderer:(0,c.a)(i)},t))},resizeFn:y(t.adId,i),options:t.options,adId:t.adId,bidResponse:i})},[f]:function(e,t,i){if(null!=i){if(i.status===d.a.RENDERED)return(0,p.d)(t,i);(0,n.jb)(`Received x-origin event request without corresponding render request for ad '${i.adId}'`)}else(0,n.gb)(`Cannot find ad '${t.adId}' for x-origin event request`)}};function y(e,t){return function(i,a){!function({adId:e,adUnitCode:t,width:i,height:a}){function r(e){return e?e+"px":"100%"}["div","iframe"].forEach((o=>{let s=function(i){let a=function(e,t){return(0,n._)()?function(e){const t=(0,l.b)(window.googletag.pubads().getSlots(),(t=>(0,l.b)(t.getTargetingKeys(),(i=>(0,l.c)(t.getTargeting(i),e)))));return t?t.getSlotElementId():null}(e):(0,n.T)()?function(e){let t=window.apntag.getTag(e);return t&&t.targetId}(t):t}(e,t),r=document.getElementById(a);return r&&r.querySelector(i)}(o+':not([style*="display: none"])');if(s){let e=s.style;e.width=r(i),e.height=r(a)}else(0,n.gb)(`Unable to locate matching page element for adUnitCode ${t}.  Can't resize it to ad's dimensions.  Please review setup.`)}))}({...t,width:i,height:a,adId:e})}}Object.assign(g,{[b]:function(e,t,i){if(null!=i)switch(t.action){case"assetRequest":(0,p.a)(i,(()=>e((0,s.f)(t,i))));break;case"allAssetRequest":(0,p.a)(i,(()=>e((0,s.e)(t,i))));break;default:(0,p.e)(t,i,{resizeFn:y(t.adId,i)})}else(0,n.gb)(`Cannot find ad for x-origin event request: '${t.adId}'`)}});var h=i(47),v=i(2),_=i(9),I=i(84),w=i(20),x=i(15),T=i(7),D=i(35);function A(e,t){return e===t?0:e<t?-1:1}function S(e=(e=>e)){return(t,i)=>A(e(t),e(i))}function C(e=A){return(t,i)=>-e(t,i)||0}function R(...e){return function(t,i){for(const a of e){const e=a(t,i);if(0!==e)return e}return 0}}function k(e=A){return function(e=A){return(t,i)=>e(i,t)<0?i:t}(C(e))}const E=S((e=>e.cpm)),M=S((e=>e.responseTimestamp)),O=k(R(E,C(S((e=>e.timeToRespond))))),U=k(R(E,C(M)));k(R(E,M));var B=[];const P="targetingControls.allowTargetingKeys",N="targetingControls.addTargetingKeys",j=`Only one of "${P}" or "${N}" can be set`,z=Object.keys(d.p).map((e=>d.p[e]));let q={isActualBid:e=>e.getStatusCode()===d.n.GOOD,isBidNotExpired:e=>e.responseTimestamp+1e3*(0,I.a)(e)>(0,n.Db)(),isUnusedBid:e=>e&&(e.status&&!(0,l.c)([d.a.RENDERED],e.status)||!e.status)};function $(e){return!Object.values(q).some((t=>!t(e)))}const F=(0,T.b)("sync",(function(e,t,i=0,a=!1,r=n.Cb){if(!a){const a=[],o=v.config.getConfig("sendBidsControl.dealPrioritization");let s=(0,n.L)(e,"adUnitCode");return Object.keys(s).forEach((e=>{let d=[],l=(0,n.L)(s[e],"bidderCode");Object.keys(l).forEach((e=>{d.push(l[e].reduce(t))})),i?(d=o?d.sort(V(!0)):d.sort(((e,t)=>t.cpm-e.cpm)),a.push(...d.slice(0,i))):(d=d.sort(r),a.push(...d))})),a}return e}));function V(e=!1){return function(t,i){return void 0!==t.adserverTargeting.hb_deal&&void 0===i.adserverTargeting.hb_deal?-1:void 0===t.adserverTargeting.hb_deal&&void 0!==i.adserverTargeting.hb_deal?1:e?i.cpm-t.cpm:i.adserverTargeting.hb_pb-t.adserverTargeting.hb_pb}}function L(e,t,i=(()=>window.googletag.pubads().getSlots())){return i().reduce(((e,i)=>{const a=(0,n.Z)(t)&&t(i);return Object.keys(e).filter((0,n.Z)(a)?a:(0,n.S)(i)).forEach((t=>e[t].push(i))),e}),Object.fromEntries(e.map((e=>[e,[]]))))}const G=function(e){let t={},i={};function a(t){return"string"==typeof t?[t]:(0,n.V)(t)?t:e.getAdUnitCodes()||[]}function r(t=U,a){let n=e.getBidsReceived().reduce(((e,t)=>{const a=v.config.getConfig("useBidCache"),n=v.config.getConfig("bidCacheFilterFunction"),r=i[t.adUnitCode]===t.auctionId,s=!(a&&!r&&"function"==typeof n&&!n(t));return(a||r)&&s&&(0,o.a)(t,"video.context")!==D.a&&$(t)&&(t.latestTargetedAuctionId=i[t.adUnitCode],e.push(t)),e}),[]);return F(n,t,void 0,void 0,void 0,a)}function p(){return e.getStandardBidderAdServerTargeting().map((e=>e.key)).concat(z).filter(n.Gb)}return t.setLatestAuctionForAdUnit=function(e,t){i[e]=t},t.resetPresetTargeting=function(e,t){if((0,n._)()){const i=a(e);Object.values(L(i,t)).forEach((e=>{e.forEach((e=>{!function(e){B.forEach((t=>{e.getTargeting(t)&&e.clearTargeting(t)}))}(e)}))}))}},t.resetPresetTargetingAST=function(e){a(e).forEach((function(e){const t=window.apntag.getTag(e);if(t&&t.keywords){const i=Object.keys(t.keywords),a={};i.forEach((e=>{(0,l.c)(B,e.toLowerCase())||(a[e]=t.keywords[e])})),window.apntag.modifyTag(e,{keywords:a})}}))},t.getAllTargeting=function(t,i,c,m=O,u=n.Cb){c||=r(m,u);const b=a(t),f=v.config.getConfig("enableSendAllBids"),g=v.config.getConfig("sendBidsControl.bidLimit"),y=f&&(i||g)||0,{customKeysByUnit:h,filteredBids:_}=function(e,t){const i=[],a={},r=v.config.getConfig("targetingControls.alwaysIncludeDeals");return t.forEach((t=>{const o=(0,l.c)(e,t.adUnitCode),d=!0===w.a.get(t.bidderCode,"allowZeroCpmBids")?t.cpm>=0:t.cpm>0,c=r&&t.dealId;o&&(c||d)&&(i.push(t),Object.keys(t.adserverTargeting).filter(function(){let e=p();return e=e.concat(s.a),function(t){return-1===e.indexOf(t)}}()).forEach((e=>{const i=e.substring(0,20),r=a[t.adUnitCode]||{},o=[t.adserverTargeting[e]];r[i]?r[i]=r[i].concat(o).filter(n.Gb):r[i]=o,a[t.adUnitCode]=r})))})),{filteredBids:i,customKeysByUnit:a}}(b,c);let I=function(t,i){const a=function(e){let t=[],i=e.reduce(((e,i)=>((0,l.c)(t,i.adUnitCode)||(e.push(i),t.push(i.adUnitCode)),e)),[]),a=p();return i=i.map((e=>({[e.adUnitCode]:Object.keys(e.adserverTargeting).filter((t=>void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===a.indexOf(t))).reduce(((t,i)=>{const a=[e.adserverTargeting[i]],n={[i.substring(0,20)]:a};if(i===d.p.DEAL){const r={[`${i}_${e.bidderCode}`.substring(0,20)]:a};return[...t,n,r]}return[...t,n]}),[])}))),i}(t).concat(function(e,t){return e.reduce(((e,i)=>{const a=Object.assign({},i),n=t[a.adUnitCode],r=[];return n&&Object.keys(n).forEach((e=>{e&&n[e]&&r.push({[e]:n[e]})})),e.push({[a.adUnitCode]:r}),e}),[])}(t,i)).concat(function(e){const t=v.config.getConfig("targetingControls.alwaysIncludeDeals");return function(e,t=!1,i=!1){if(!t)return[];const a=z.concat(s.a),n=v.config.getConfig("targetingControls.allowSendAllBidsTargetingKeys"),r=n?n.map((e=>d.p[e])):a;return e.reduce(((e,t)=>{if(!i||t.dealId){const n=function(e,t){return t.reduce(((t,i)=>(e.adserverTargeting[i]&&t.push({[`${i}_${e.bidderCode}`.substring(0,20)]:[e.adserverTargeting[i]]}),t)),[])}(t,a.filter((e=>void 0!==t.adserverTargeting[e]&&(i||-1!==r.indexOf(e)))));n&&e.push({[t.adUnitCode]:n})}return e}),[])}(e,v.config.getConfig("enableSendAllBids")||t,t)}(t)).concat(function(){function t(e){return(0,o.a)(e,d.f.ADSERVER_TARGETING)}return e.getAdUnits().filter((e=>t(e))).reduce(((e,i)=>{const a=function(e){const i=t(e);return Object.keys(i).map((function(e){return(0,n.eb)(i[e])&&(i[e]=i[e].split(",").map((e=>e.trim()))),(0,n.V)(i[e])||(i[e]=[i[e]]),{[e]:i[e]}}))}(i);return a&&e.push({[i.code]:a}),e}),[])}());return a.forEach((e=>{!function(e){Object.keys(e).forEach((t=>{e[t].forEach((e=>{const t=Object.keys(e);-1===B.indexOf(t[0])&&(B=t.concat(B))}))}))}(e)})),a}(F(_,m,y,void 0,u),h);const x=Object.keys(Object.assign({},d.c,d.j));let T=v.config.getConfig(P);const D=v.config.getConfig(N);if(null!=D&&null!=T)throw new Error(j);T=null!=D?x.concat(D):T||x,Array.isArray(T)&&T.length>0&&(I=function(e,t){const i=Object.assign({},d.p,d.j),a=Object.keys(i),r={};(0,n.hb)(`allowTargetingKeys - allowed keys [ ${t.map((e=>i[e])).join(", ")} ]`),e.map((e=>{const n=Object.keys(e)[0],o=e[n].filter((e=>{const n=Object.keys(e)[0],o=0===a.filter((e=>0===n.indexOf(i[e]))).length||(0,l.b)(t,(e=>{const t=i[e];return 0===n.indexOf(t)}));return r[n]=!o,o}));e[n]=o}));const o=Object.keys(r).filter((e=>r[e]));return(0,n.hb)(`allowTargetingKeys - removed keys [ ${o.join(", ")} ]`),e.filter((e=>e[Object.keys(e)[0]].length>0))}(I,T)),I=function(e){let t=e.map((e=>({[Object.keys(e)[0]]:e[Object.keys(e)[0]].map((e=>({[Object.keys(e)[0]]:e[Object.keys(e)[0]].join(",")}))).reduce(((e,t)=>Object.assign(t,e)),{})})));return t=t.reduce((function(e,t){var i=Object.keys(t)[0];return e[i]=Object.assign({},e[i],t[i]),e}),{}),t}(I);const A=v.config.getConfig("targetingControls.auctionKeyMaxChars");return A&&((0,n.hb)(`Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ${A} characters.  Running checks on auction keys...`),I=function(e,t){let i=(0,n.p)(e),a=Object.keys(i).map((e=>({adUnitCode:e,adserverTargeting:i[e]}))).sort(V());return a.reduce((function(e,a,r,o){let s=(d=a.adserverTargeting,Object.keys(d).reduce((function(e,t){return e+`${t}%3d${encodeURIComponent(d[t])}%26`}),""));var d;r+1===o.length&&(s=s.slice(0,-3));let l=a.adUnitCode,p=s.length;return p<=t?(t-=p,(0,n.hb)(`AdUnit '${l}' auction keys comprised of ${p} characters.  Deducted from running threshold; new limit is ${t}`,i[l]),e[l]=i[l]):(0,n.jb)(`The following keys for adUnitCode '${l}' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was ${p}, the current allotted amount was ${t}.\n`,i[l]),r+1===o.length&&0===Object.keys(e).length&&(0,n.gb)("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e}),{})}(I,A)),b.forEach((e=>{I[e]||(I[e]={})})),I},v.config.getConfig("targetingControls",(function(e){null!=(0,o.a)(e,P)&&null!=(0,o.a)(e,N)&&(0,n.gb)(j)})),t.setTargetingForGPT=(0,T.b)("sync",(function(i,a){let r=t.getAllTargeting(i),o=Object.fromEntries(B.map((e=>[e,null])));Object.entries(L(Object.keys(r),a)).forEach((([e,t])=>{t.forEach((t=>{Object.keys(r[e]).forEach((t=>{let i=r[e][t];"string"==typeof i&&-1!==i.indexOf(",")&&(i=i.split(",")),r[e][t]=i})),(0,n.ib)(`Attempting to set targeting-map for slot: ${t.getSlotElementId()} with targeting-map:`,r[e]),t.updateTargetingFromMap(Object.assign({},o,r[e]))}))})),Object.keys(r).forEach((t=>{Object.keys(r[t]).forEach((i=>{"hb_adid"===i&&e.setStatusForBids(r[t][i],d.a.BID_TARGETING_SET)}))})),t.targetingDone(r),x.emit(d.EVENTS.SET_TARGETING,r)}),"setTargetingForGPT"),t.targetingDone=(0,T.b)("sync",(function(e){return e}),"targetingDone"),t.getWinningBids=function(e,t,i=O,o=n.Cb){const s=[],d=t||r(i,o),p=a(e);return d.reduce(((e,t)=>{const i=t.adUnitCode,a=!0===w.a.get(i,"allowZeroCpmBids")?t.cpm>=0:t.cpm>0,n=v.config.getConfig("targetingControls.alwaysIncludeDeals")&&t.dealId;return(0,l.c)(p,i)&&!(0,l.c)(s,i)&&(n||a)&&(e.push(t),s.push(i)),e}),[])},t.setTargetingForAst=function(e){let i=t.getAllTargeting(e);try{t.resetPresetTargetingAST(e)}catch(e){(0,n.gb)("unable to reset targeting for AST"+e)}Object.keys(i).forEach((e=>Object.keys(i[e]).forEach((t=>{if((0,n.ib)(`Attempting to set targeting for targetId: ${e} key: ${t} value: ${i[e][t]}`),(0,n.eb)(i[e][t])||(0,n.V)(i[e][t])){let a={},n=/pt[0-9]/;t.search(n)<0?a[t.toUpperCase()]=i[e][t]:a[t]=i[e][t],window.apntag.setKeywords(e,a,{overrideKeyValue:!0})}}))))},t.isApntagDefined=function(){if(window.apntag&&(0,n.Z)(window.apntag.setKeywords))return!0},t}(_.a);var W=i(88),H=i(85),X=i(10),Y=i(12);const J="__hubjs_debugging__";function K(){return(0,a.a)().installedModules.includes("debugging")}function Z(e){return new X.a((t=>{(0,H.a)(e,Y.c,"debugging",t)}))}function Q({alreadyInstalled:e=K,script:t=Z}={}){let i=null;return function(){return null==i&&(i=new X.a(((i,r)=>{setTimeout((()=>{if(e())i();else{const e="$$PREBID_DIST_URL_BASE$$debugging-standalone.js";(0,n.ib)(`Debugging module not installed, loading it from "${e}"...`),(0,a.a)()._installDebugging=!0,t(e).then((()=>{(0,a.a)()._installDebugging({DEBUG_KEY:J,hook:T.b,config:v.config,createBid:W.a,logger:(0,n.sb)("DEBUG:")})})).then(i,r)}}))}))),i}}const ee=function({load:e=Q(),hook:t=(0,T.a)("requestBids")}={}){let i=null,a=!1;function n(e,...t){return(i||X.a.resolve()).then((()=>e.apply(this,t)))}function r(){t.getHooks({hook:n}).remove(),a=!1}return{enable:function(){a||(i=e(),t.before(n,99),a=!0)},disable:r,reset:function(){i=null,r()}}}();ee.reset,v.config.getConfig("debugging",(function({debugging:e}){e?.enabled?ee.enable():ee.disable()}));var te=i(81),ie=i(18),ae=i(19),ne=i(50);const re=(0,te.c)("fpdEnrichment"),oe=(0,n.kb)((function(e=window.location.host){if(!re.cookiesAreEnabled())return e;const t=e.split(".");if(2===t.length)return e;let i,a,r=-2;const o=`_rdc${Date.now()}`,s="writeable";do{i=t.slice(r).join(".");let e=new Date((0,n.Db)()+1e4).toUTCString();re.setCookie(o,s,e,"Lax",i,void 0),re.getCookie(o,void 0)===s?(a=!1,re.setCookie(o,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,i,void 0)):(r+=-1,a=Math.abs(r)<=t.length)}while(a);return i})),se=["architecture","bitness","model","platformVersion","fullVersionList"],de=["brands","mobile","platform"],le=function(e=window.navigator?.userAgentData){const t=e&&de.some((t=>void 0!==e[t]))?Object.freeze(ce(1,e)):null;return function(){return t}}(),pe=function(e=window.navigator?.userAgentData){const t={},i=new WeakMap;return function(a=se){if(!i.has(a)){const e=Array.from(a);e.sort(),i.set(a,e.join("|"))}const r=i.get(a);if(!t.hasOwnProperty(r))try{t[r]=e.getHighEntropyValues(a).then((e=>(0,n.Y)(e)?null:Object.freeze(ce(2,e)))).catch((()=>null))}catch(e){t[r]=X.a.resolve(null)}return t[r]}}();function ce(e,t){function i(e,t){const i={brand:e};return(0,n.eb)(t)&&!(0,n.X)(t)&&(i.version=t.split(".")),i}const a={source:e};return t.platform&&(a.platform=i(t.platform,t.platformVersion)),(t.fullVersionList||t.brands)&&(a.browsers=(t.fullVersionList||t.brands).map((({brand:e,version:t})=>i(e,t)))),void 0!==t.mobile&&(a.mobile=t.mobile?1:0),["model","bitness","architecture"].forEach((e=>{const i=t[e];(0,n.eb)(i)&&(a[e]=i)})),a}const me=["dooh","app","site"];function ue(e){return function(t){return me.reduce(((i,a)=>(be(t,a)&&(null!=i?((0,n.jb)(`${e} specifies both '${i}' and '${a}'; dropping the latter.`),delete t[a]):i=a),i)),null),t}}function be(e,t){return null!=e[t]&&Object.keys(e[t]).length>0}var fe=i(11),ge=i(27),ye=i(13);const he={getRefererInfo:ne.a,findRootDomain:oe,getWindowTop:n.K,getWindowSelf:n.J,getHighEntropySUA:pe,getLowEntropySUA:le},ve=ue("FPD"),_e=(0,T.b)("sync",(e=>{const t=[e,we().catch((()=>null)),X.a.resolve("cookieDeprecationLabel"in navigator&&(0,fe.a)(ye.a,(0,ge.a)(Y.c,"cdep"))&&navigator.cookieDeprecationLabel.getValue()).catch((()=>null))];return X.a.all(t).then((([e,t,i])=>{const a=he.getRefererInfo();if(Object.entries(Te).forEach((([t,i])=>{const r=i(e,a);r&&Object.keys(r).length>0&&(e[t]=(0,n.lb)({},r,e[t]))})),t&&(0,r.a)(e,"device.sua",Object.assign({},t,e.device.sua)),i){const t={cdep:i};(0,r.a)(e,"device.ext",Object.assign({},t,e.device.ext))}e=ve(e);for(let t of me)if(be(e,t)){e[t]=(0,n.lb)({},De(0,a),e[t]);break}return e}))}));function Ie(e){try{return e(he.getWindowTop())}catch(t){return e(he.getWindowSelf())}}function we(){const e=v.config.getConfig("firstPartyData.uaHints");return Array.isArray(e)&&0!==e.length?he.getHighEntropySUA(e):X.a.resolve(he.getLowEntropySUA())}function xe(e){return(0,n.B)(e,Object.keys(e))}const Te={site(e,t){if(!me.filter((e=>"site"!==e)).some(be.bind(null,e)))return xe({page:t.page,ref:t.ref})},device:()=>Ie((e=>{const t=e.screen.width,i=e.screen.height,a=e.innerWidth||e.document.documentElement.clientWidth||e.document.body.clientWidth,o=e.innerHeight||e.document.documentElement.clientHeight||e.document.body.clientHeight,s={w:t,h:i,dnt:(0,n.A)()?1:0,ua:e.navigator.userAgent,language:e.navigator.language.split("-").shift(),ext:{vpw:a,vph:o}};return e.navigator?.webdriver&&(0,r.a)(s,"ext.webdriver",!0),s})),regs(){const e={};Ie((e=>e.navigator.globalPrivacyControl))&&(0,r.a)(e,"ext.gpc",1);const t=v.config.getConfig("coppa");return"boolean"==typeof t&&(e.coppa=t?1:0),e}};function De(e,t){const i=(0,ne.b)(t.page,{noLeadingWww:!0}),a=Ie((e=>e.document.querySelector("meta[name='keywords']")))?.content?.replace?.(/\s/g,"");return xe({domain:i,keywords:a,publisher:xe({domain:he.findRootDomain(i)})})}var Ae=i(73),Se=i(46);const Ce=(0,a.a)(),{triggerUserSyncs:Re}=h.userSync,{ADD_AD_UNITS:ke,REQUEST_BIDS:Ee,SET_TARGETING:Me}=d.EVENTS,Oe={bidWon:function(e){if(_.a.getBidsRequested().map((e=>e.bids.map((e=>e.adUnitCode)))).reduce(n.u).filter(n.Gb).includes(e))return!0;(0,n.gb)('The "'+e+'" placement is not defined.')}};function Ue(e,t){let i=[];return(0,n.V)(e)&&(t?e.length===t:e.length>0)&&(e.every((e=>(0,n.U)(e,2)))?i=e:(0,n.U)(e,2)&&i.push(e)),i}function Be(e,t){const i=e.ortb2Imp||{},a=e.mediaTypes||{};i[t]?.battr&&a[t]?.battr&&i[t]?.battr!==a[t]?.battr&&(0,n.jb)(`Ad unit ${e.code} specifies conflicting ortb2Imp.${t}.battr and mediaTypes.${t}.battr, the latter will be ignored`,e);const o=i[t]?.battr||a[t]?.battr;null!=o&&((0,r.a)(e,`ortb2Imp.${t}.battr`,o),(0,r.a)(e,`mediaTypes.${t}.battr`,o))}function Pe(e){const t=(0,n.p)(e),i=t.mediaTypes.banner,a=Ue(i.sizes);return a.length>0?(i.sizes=a,t.sizes=a):((0,n.gb)("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete t.mediaTypes.banner),Be(t,"banner"),t}function Ne(e){const t=(0,n.p)(e),i=t.mediaTypes.video;if(i.playerSize){let e="number"==typeof i.playerSize[0]?2:1;const a=Ue(i.playerSize,e);a.length>0?(2===e&&(0,n.hb)("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),i.playerSize=a,t.sizes=a):((0,n.gb)("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete t.mediaTypes.video.playerSize)}return(0,Se.g)(t),Be(t,"video"),t}function je(e){function t(t){return(0,n.gb)(`Error in adUnit "${e.code}": ${t}. Removing native request from ad unit`,e),delete a.mediaTypes.native,a}function i(e){for(const t of["sendTargetingKeys","types"])if(r.hasOwnProperty(t)){const i=e(t);if(i)return i}}const a=(0,n.p)(e),r=a.mediaTypes.native;if(r.ortb){if(r.ortb.assets?.some((e=>!(0,n.ab)(e.id)||e.id<0||e.id%1!=0)))return t("native asset ID must be a nonnegative integer");if(i((e=>t(`ORTB native requests cannot specify "${e}"`))))return a;const e=Object.keys(d.j).filter((e=>d.j[e].includes("hb_native_"))),o=Object.keys(r).filter((t=>e.includes(t)));o.length>0&&((0,n.gb)(`when using native OpenRTB format, you cannot use legacy native properties. Deleting ${o} keys from request.`),o.forEach((e=>delete a.mediaTypes.native[e])))}else i((e=>`mediaTypes.native.${e} is deprecated, consider using native ORTB instead`));return r.image&&r.image.sizes&&!Array.isArray(r.image.sizes)&&((0,n.gb)("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete a.mediaTypes.native.image.sizes),r.image&&r.image.aspect_ratios&&!Array.isArray(r.image.aspect_ratios)&&((0,n.gb)("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete a.mediaTypes.native.image.aspect_ratios),r.icon&&r.icon.sizes&&!Array.isArray(r.icon.sizes)&&((0,n.gb)("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete a.mediaTypes.native.icon.sizes),Be(a,"native"),a}function ze(e,t){let i=(0,o.a)(e,`mediaTypes.${t}.pos`);if(!(0,n.ab)(i)||isNaN(i)||!isFinite(i)){let i=`Value of property 'pos' on ad unit ${e.code} should be of type: Number`;(0,n.jb)(i),delete e.mediaTypes[t].pos}return e}function qe(e){const t=t=>`adUnit.code '${e.code}' ${t}`,i=e.mediaTypes,a=e.bids;return null==a||(0,n.V)(a)?null==a&&null==e.ortb2Imp?((0,n.gb)(t("has no 'adUnit.bids' and no 'adUnit.ortb2Imp'. Removing adUnit from auction")),null):i&&0!==Object.keys(i).length?(null==e.ortb2Imp||null!=a&&0!==a.length||(e.bids=[{bidder:null}],(0,n.ib)(t("defines 'adUnit.ortb2Imp' with no 'adUnit.bids'; it will be seen only by S2S adapters"))),e):((0,n.gb)(t("does not define a 'mediaTypes' object.  This is a required field for the auction, so this adUnit has been removed.")),null):((0,n.gb)(t("defines 'adUnit.bids' that is not an array. Removing adUnit from auction")),null)}!function(){let e=null;try{e=window.sessionStorage}catch(e){}if(null!==e){let t=ee,i=null;try{i=e.getItem(J)}catch(e){}null!==i&&t.enable()}}(),Ce.bidderSettings=Ce.bidderSettings||{},Ce.libLoaded=!0,Ce.version="v9.16.0",(0,n.hb)("Prebid.js v9.16.0 loaded"),Ce.installedModules=Ce.installedModules||[],Ce.adUnits=Ce.adUnits||[],Ce.triggerUserSyncs=Re;const $e={validateAdUnit:qe,validateBannerMediaType:Pe,validateSizes:Ue};Object.assign($e,{validateNativeMediaType:je}),Object.assign($e,{validateVideoMediaType:Ne});const Fe=(0,T.b)("sync",(function(e){const t=[];return e.forEach((e=>{if(null==(e=qe(e)))return;const i=e.mediaTypes;let a,n,r;i.banner&&(a=Pe(e),i.banner.hasOwnProperty("pos")&&(a=ze(a,"banner"))),i.video&&(n=Ne(a||e),i.video.hasOwnProperty("pos")&&(n=ze(n,"video"))),i.native&&(r=je(n||a||e));const o=Object.assign({},a,n,r);t.push(o)})),t}),"checkAdUnitSetup");function Ve(e){const t=_.a[e]().filter((e=>_.a.getAdUnitCodes().includes(e.adUnitCode))),i=_.a.getLastAuctionId();return t.map((e=>e.adUnitCode)).filter(n.Gb).map((e=>t.filter((t=>t.auctionId===i&&t.adUnitCode===e)))).filter((e=>e&&e[0]&&e[0].adUnitCode)).map((e=>({[e[0].adUnitCode]:{bids:e}}))).reduce(((e,t)=>Object.assign(e,t)),{})}Ce.getAdserverTargetingForAdUnitCodeStr=function(e){if((0,n.hb)("Invoking hubjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var t=Ce.getAdserverTargetingForAdUnitCode(e);return(0,n.Eb)(t)}(0,n.ib)("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},Ce.getHighestUnusedBidResponseForAdUnitCode=function(e){if(e){const t=_.a.getAllBidsForAdUnitCode(e).filter($);return t.length?t.reduce(O):{}}(0,n.ib)("Need to call getHighestUnusedBidResponseForAdUnitCode with adunitCode")},Ce.getAdserverTargetingForAdUnitCode=function(e){return Ce.getAdserverTargeting(e)[e]},Ce.getAdserverTargeting=function(e){return(0,n.hb)("Invoking hubjs.getAdserverTargeting",arguments),G.getAllTargeting(e)},Ce.getConsentMetadata=function(){return(0,n.hb)("Invoking hubjs.getConsentMetadata"),Ae.c.getConsentMeta()},Ce.getNoBids=function(){return(0,n.hb)("Invoking hubjs.getNoBids",arguments),Ve("getNoBids")},Ce.getNoBidsForAdUnitCode=function(e){return{bids:_.a.getNoBids().filter((t=>t.adUnitCode===e))}},Ce.getBidResponses=function(){return(0,n.hb)("Invoking hubjs.getBidResponses",arguments),Ve("getBidsReceived")},Ce.getBidResponsesForAdUnitCode=function(e){return{bids:_.a.getBidsReceived().filter((t=>t.adUnitCode===e))}},Ce.setTargetingForGPTAsync=function(e,t){(0,n.hb)("Invoking hubjs.setTargetingForGPTAsync",arguments),(0,n._)()?G.setTargetingForGPT(e,t):(0,n.gb)("window.googletag is not defined on the page")},Ce.setTargetingForAst=function(e){(0,n.hb)("Invoking hubjs.setTargetingForAn",arguments),G.isApntagDefined()?(G.setTargetingForAst(e),x.emit(Me,G.getAllTargeting())):(0,n.gb)("window.apntag is not defined on the page")},Ce.renderAd=(0,T.b)("async",(function(e,t,i){(0,n.hb)("Invoking hubjs.renderAd",arguments),(0,n.ib)("Calling renderAd with adId :"+t),(0,p.i)(e,t,i)})),Ce.removeAdUnit=function(e){if((0,n.hb)("Invoking hubjs.removeAdUnit",arguments),!e)return void(Ce.adUnits=[]);let t;t=(0,n.V)(e)?e:[e],t.forEach((e=>{for(let t=Ce.adUnits.length-1;t>=0;t--)Ce.adUnits[t].code===e&&Ce.adUnits.splice(t,1)}))},Ce.requestBids=function(){const e=(0,T.b)("async",(function({bidsBackHandler:e,timeout:t,adUnits:i,adUnitCodes:a,labels:r,auctionId:o,ttlBuffer:s,ortb2:d,metrics:p,defer:c}={}){x.emit(Ee);const m=t||v.config.getConfig("bidderTimeout");(0,n.hb)("Invoking hubjs.requestBids",arguments),null==a||Array.isArray(a)||(a=[a]),a&&a.length?i=i.filter((e=>(0,l.c)(a,e.code))):a=i&&i.map((e=>e.code)),a=a.filter(n.Gb);const u={global:(0,n.lb)({},v.config.getAnyConfig("ortb2")||{},d||{}),bidder:Object.fromEntries(Object.entries(v.config.getBidderConfig()).map((([e,t])=>[e,t.ortb2])).filter((([e,t])=>null!=t)))};return _e(X.a.resolve(u.global)).then((t=>(u.global=t,Le({bidsBackHandler:e,timeout:m,adUnits:i,adUnitCodes:a,labels:r,auctionId:o,ttlBuffer:s,ortb2Fragments:u,metrics:p,defer:c}))))}),"requestBids");return(0,T.f)(e,(function(t={}){let i=t.adUnits||Ce.adUnits;return t.adUnits=(0,n.V)(i)?i.slice():[i],t.metrics=(0,ae.a)(),t.metrics.checkpoint("requestBids"),t.defer=(0,X.b)({promiseFactory:e=>new Promise(e)}),e.call(this,t),t.defer.promise}))}();const Le=(0,T.b)("async",(function({bidsBackHandler:e,timeout:t,adUnits:i,ttlBuffer:a,adUnitCodes:o,labels:s,auctionId:d,ortb2Fragments:p,metrics:c,defer:m}={}){const u=(0,ie.b)(v.config.getConfig("s2sConfig")||[]);function b(t,i,a){if("function"==typeof e)try{e(t,i,a)}catch(e){(0,n.gb)("Error executing bidsBackHandler",null,e)}m.resolve({bids:t,timedOut:i,auctionId:a})}!function(e){e.forEach((e=>(0,Se.e)(e)))}(i),i=(0,ae.d)(c).measureTime("requestBids.validate",(()=>Fe(i)));const f={};if(i.forEach((e=>{const t=Object.keys(e.mediaTypes||{banner:"banner"}),i=e.bids.map((e=>e.bidder)),r=ie.a.bidderRegistry,o=i.filter((e=>!u.has(e)));e.adUnitId=(0,n.w)();const s=e.ortb2Imp?.ext?.tid;s&&(f.hasOwnProperty(e.code)?(0,n.jb)(`Multiple distinct ortb2Imp.ext.tid were provided for twin ad units '${e.code}'`):f[e.code]=s),null==a||e.hasOwnProperty("ttlBuffer")||(e.ttlBuffer=a),o.forEach((i=>{const a=r[i],o=a&&a.getSpec&&a.getSpec(),s=o&&o.supportedMediaTypes||["banner"],d=t.some((e=>(0,l.c)(s,e)));d||((0,n.jb)((0,n.Hb)(e,i)),e.bids=e.bids.filter((e=>e.bidder!==i)))}))})),i&&0!==i.length){i.forEach((e=>{const t=e.ortb2Imp?.ext?.tid||f[e.code]||(0,n.w)();f.hasOwnProperty(e.code)||(f[e.code]=t),e.transactionId=t,(0,r.a)(e,"ortb2Imp.ext.tid",t)}));const e=_.a.createAuction({adUnits:i,adUnitCodes:o,callback:b,cbTimeout:t,labels:s,auctionId:d,ortb2Fragments:p,metrics:c});let a=i.length;a>15&&(0,n.hb)(`Current auction ${e.getAuctionId()} contains ${a} adUnits.`,i),o.forEach((t=>G.setLatestAuctionForAdUnit(t,e.getAuctionId()))),e.callBids()}else(0,n.ib)("No adUnits configured. No bids requested."),b()}),"startAuction");Ce.requestBids.before((function(e,t){function i(e){for(var t;t=e.shift();)t()}i(te.e),i(Ge),e.call(this,t)}),49),Ce.addAdUnits=function(e){(0,n.hb)("Invoking hubjs.addAdUnits",arguments),Ce.adUnits.push.apply(Ce.adUnits,(0,n.V)(e)?e:[e]),x.emit(ke)},Ce.onEvent=function(e,t,i){(0,n.hb)("Invoking hubjs.onEvent",arguments),(0,n.Z)(t)?!i||Oe[e].call(null,i)?x.on(e,t,i):(0,n.gb)('The id provided is not valid for event "'+e+'" and no handler was set.'):(0,n.gb)('The event handler provided is not a function and was not set on event "'+e+'".')},Ce.offEvent=function(e,t,i){(0,n.hb)("Invoking hubjs.offEvent",arguments),i&&!Oe[e].call(null,i)||x.off(e,t,i)},Ce.getEvents=function(){return(0,n.hb)("Invoking hubjs.getEvents"),x.getEvents()},Ce.registerBidAdapter=function(e,t){(0,n.hb)("Invoking hubjs.registerBidAdapter",arguments);try{ie.a.registerBidAdapter(e(),t)}catch(e){(0,n.gb)("Error registering bidder adapter : "+e.message)}},Ce.registerAnalyticsAdapter=function(e){(0,n.hb)("Invoking hubjs.registerAnalyticsAdapter",arguments);try{ie.a.registerAnalyticsAdapter(e)}catch(e){(0,n.gb)("Error registering analytics adapter : "+e.message)}},Ce.createBid=function(e){return(0,n.hb)("Invoking hubjs.createBid",arguments),(0,W.a)(e)};const Ge=[],We=(0,T.b)("async",(function(e){e&&!(0,n.Y)(e)?((0,n.hb)("Invoking hubjs.enableAnalytics for: ",e),ie.a.enableAnalytics(e)):(0,n.gb)("hubjs.enableAnalytics should be called with option {}")}),"enableAnalyticsCb");function He(e){e.forEach((function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){(0,n.gb)("Error processing command :","prebid.js",e)}}))}Ce.enableAnalytics=function(e){Ge.push(We.bind(this,e))},Ce.aliasBidder=function(e,t,i){(0,n.hb)("Invoking hubjs.aliasBidder",arguments),e&&t?ie.a.aliasBidAdapter(e,t,i):(0,n.gb)("bidderCode and alias must be passed as arguments","hubjs.aliasBidder")},Ce.aliasRegistry=ie.a.aliasRegistry,v.config.getConfig("aliasRegistry",(e=>{"private"===e.aliasRegistry&&delete Ce.aliasRegistry})),Ce.getAllWinningBids=function(){return _.a.getAllWinningBids()},Ce.getAllPrebidWinningBids=function(){return _.a.getBidsReceived().filter((e=>e.status===d.a.BID_TARGETING_SET))},Ce.getHighestCpmBids=function(e){return G.getWinningBids(e)},Ce.clearAllAuctions=function(){_.a.clearAllAuctions()},Ce.markWinningBidAsUsed=function({adId:e,adUnitCode:t}){let i;t&&null==e?i=G.getWinningBids(t):e?i=_.a.getBidsReceived().filter((t=>t.adId===e)):(0,n.jb)("Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function."),i.length>0&&(_.a.addWinningBid(i[0]),(0,p.h)(i[0]))},Ce.getConfig=v.config.getAnyConfig,Ce.readConfig=v.config.readAnyConfig,Ce.mergeConfig=v.config.mergeConfig,Ce.mergeBidderConfig=v.config.mergeBidderConfig,Ce.setConfig=v.config.setConfig,Ce.setBidderConfig=v.config.setBidderConfig,Ce.que.push((()=>{window.addEventListener("message",(function(e){!function(e){var t=e.message?"message":"data",i={};try{i=JSON.parse(e[t])}catch(e){return}i&&i.adId&&i.message&&g.hasOwnProperty(i.message)&&(0,p.b)(i.adId,i.message===d.MESSAGES.REQUEST).then((t=>{var a,r;g[i.message]((a=i.adId,r=function(e){return null==e.origin&&0===e.ports.length?function(){const e="Cannot post message to a frame with null origin. Please update creatives to use MessageChannel, see https://github.com/prebid/Prebid.js/issues/7870";throw(0,n.gb)(e),new Error(e)}:e.ports.length>0?function(t){e.ports[0].postMessage(JSON.stringify(t))}:function(t){e.source.postMessage(JSON.stringify(t),e.origin)}}(e),function(e,...t){return r(Object.assign({},e,{adId:a}),...t)}),i,t)}))}(e)}),!1)})),Ce.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){(0,n.gb)("Error processing command :",e.message,e.stack)}else(0,n.gb)("Commands written into hubjs.cmd.push must be wrapped in a function")},Ce.que.push=Ce.cmd.push,Ce.processQueue=function(){(0,p.g)(),T.b.ready(),He(Ce.que),He(Ce.cmd)},Ce.triggerBilling=({adId:e,adUnitCode:t})=>{_.a.getAllWinningBids().filter((i=>i.adId===e||null==e&&i.adUnitCode===t)).forEach((e=>{ie.a.triggerBilling(e),(0,p.j)(e)}))};const Xe=Ce;var Ye=i(79);Promise.resolve().then((()=>{var e=new Error("Module is not available (weak dependency)");throw e.code="MODULE_NOT_FOUND",e})).then((e=>!!e)).catch((()=>!1)),Promise.resolve().then((()=>{if(!i.m[103]){var e=new Error("Module '103' is not available (weak dependency)");throw e.code="MODULE_NOT_FOUND",e}return i(103)})).then((e=>!!e)).catch((()=>!1));const Je=Promise.resolve().then((()=>{if(!i.m[102]){var e=new Error("Module '102' is not available (weak dependency)");throw e.code="MODULE_NOT_FOUND",e}return i(102)})).then((e=>!!e)).catch((()=>!1)),Ke=Promise.resolve().then((()=>{var e=new Error("Module is not available (weak dependency)");throw e.code="MODULE_NOT_FOUND",e})).then((e=>!!e)).catch((()=>!1)),Ze=Promise.resolve().then((()=>{if(!i.m[104]){var e=new Error("Module '104' is not available (weak dependency)");throw e.code="MODULE_NOT_FOUND",e}return i(104)})).then((e=>!!e)).catch((()=>!1));var Qe=i(31),et=i(3),tt=i(24),it=i(32);const{debug:at,warn:nt,info:rt}=et.a.tag("turbo-cmp");var ot=i(66);const st=new class{#Te=(0,ot.b)();newPageViewId(){this.#Te=(0,ot.b)()}get pageViewId(){return this.#Te}};var dt=i(75);const lt={smartadserver:!0,richAudience:!0,pubmatic:!0,prisma:!0,mediasquare:!0,smileWanted:!0,xandr:!0,magnite:!0,indexExchange:!0,criteo:!0,triplelift:!0,invibes:!0,nexx360:!0,noBid:!0,missena:!0,nextMillennium:!0,adagio:!0,bliink:!0,vidazoo:!0,optidigital:!0,medianet:!0,connectAd:!0,undertone:!0};class pt{priceGranularity={bucketMin:0,buckets:[{max:1,increment:.01},{max:2,increment:.02},{max:4,increment:.05},{max:6,increment:.1},{max:8,increment:.2},{max:10,increment:.5},{max:20,increment:1},{max:50,increment:5},{max:100,increment:10},{max:300,increment:50},{max:1e3,increment:100}]};cpmRoundingFunction;strictGdprSettings=!1;consent;#De=e=>({enabled:e?.enabled??!0,consentTimeout:e?.consentTimeout??dt.a.totalConsentTimeout,shouldSkipAuctionOnConsentFailure:e?.shouldSkipAuctionOnConsentFailure??!0,shouldSkipAuctionOnNegativeConsent:e?.shouldSkipAuctionOnNegativeConsent??!1,assumeConsentlessIfCmpUnavailable:e?.assumeConsentlessIfCmpUnavailable??!1,shouldSkipAdserverOnConsentless:e?.shouldSkipAdserverOnConsentless??!1,storageVendorExceptions:e?.storageVendorExceptions,cmpTimeout:e?.cmpTimeout??e?.consentTimeout??dt.a.cmpTimeout,defaults:{gdprApplies:!0,...e?.defaults},overrides:{...e?.overrides},uspEnabled:e?.uspEnabled??!1,strictStorageEnforcement:e?.strictStorageEnforcement});beam;#Ae=e=>({collectUrl:"https://beam.hubvisor.io/v2/",vimpUrl:"https://beam.hubvisor.io/imp/video",collectRetryDelay:1,collectRetryCount:1,collectDebounceDelay:.1,...e});bidderTimeout=1.8;renderTimeout=10;targetingKeyPrefix="hbv";publisherId;support;buildRefreshOptions;shouldPerformInitialAuction=!0;shouldUseDynamicFloors=!1;shouldSendFloorToAdserver=!1;nativeRendering;skinRendering;dsaRendering;cpmMultiplier;adserverMultiplier;renderList={competitionDebounceDelay:.05};dfp2;#Se=e=>({shouldPerformInitialRefresh:!1,shouldRefreshNewTags:!1,matchPlacementOnce:!1,shouldRefreshOnDisplay:!1,shouldBypassDfp:!1,...e});ias;#Ce=e=>{if(e)return{...e,timeout:e.timeout??1.5}};userSync;#Re=e=>({invibes:{enabled:!0},smartadserver:{enabled:!0,useIframes:!0},pubmatic:{enabled:!0,useIframes:!0},mediasquare:{enabled:!0,useIframes:!0},xandr:{enabled:!0,useIframes:!0},magnite:{enabled:!0,useIframes:!0},criteo:{enabled:!0,useIframes:!0},indexExchange:{enabled:!0,useIframes:!0},triplelift:{enabled:!0,useIframes:!0},richAudience:{enabled:!1},prisma:{enabled:!1,useIframes:!1},smileWanted:{enabled:!1,useIframes:!1},nexx360:{enabled:!1,useIframes:!1},noBid:{enabled:!1,useIframes:!1},missena:{enabled:!1,useIframes:!1},nextMillennium:{enabled:!1,useIframes:!1},adagio:{enabled:!1,useIframes:!1},bliink:{enabled:!1,useIframes:!1},vidazoo:{enabled:!1,useIframes:!1},optidigital:{enabled:!1,useIframes:!1},medianet:{enabled:!1,useIframes:!1},connectAd:{enabled:!1,useIframes:!1},undertone:{enabled:!1,useIframes:!1},...e});rtdSettings;#ke=e=>({auctionDelay:e?.auctionDelay??100,adloox:{enabled:!1,waitForIt:!1,thresholds:[50,60,70,80,90],slotinpath:!1,...e?.adloox},onePlusX:{enabled:!1,waitForIt:!1,customerId:void 0,bidders:void 0,timeout:void 0,...e?.onePlusX},ias:{enabled:!1,waitForIt:!1,pubId:"",keyMappings:void 0,pageUrl:void 0,adUnitPath:void 0,...e?.ias},oxxionRtd:{enabled:!1,waitForIt:!1,domain:"",contexts:void 0,threshold:void 0,samplingRate:void 0,bidders:void 0,...e?.oxxionRtd},greenbidsRtd:{enabled:!1,waitForIt:!1,pbuid:"",...e?.greenbidsRtd},dgkeyword:{enabled:!1,waitForIt:!1,timeout:void 0,...e?.dgkeyword},sirdata:{enabled:!1,waitForIt:!1,partnerId:1,key:1,bidders:[],...e?.sirdata}});sas={};criteo;#Ee=e=>({fastBidVersion:"latest",...e});adot;#Me=e=>({...e});schains=[];storagePolicy;#Oe=e=>{const t={consent:"local-storage",noConsent:"session-storage"},i={consent:"local-storage",noConsent:"local-storage"};return{settings:{intrastitial:e?.settings?.intrastitial??i,consent:e?.settings?.consent??i,dynamicTimeout:e?.settings?.dynamicTimeout??i,clientContext:e?.settings?.clientContext??t,remoteConfiguration:e?.settings?.remoteConfiguration??i,tdid:e?.settings?.tdid??t,adnxsid:e?.settings?.adnxsid??t},custom:e?.custom}};secondChance;#Ue=e=>({adserver:e?.adserver,enabled:e?.enabled??!1,mode:e?.mode??"boolean",maxCount:e?.maxCount??1,isPlacementAllowed:e?.isPlacementAllowed});isAutoRefreshEnabled;secondaryBidders;s2sConfig;#Be=e=>({enabled:e?.enabled??!1,bidders:e?.bidders??[]});#Pe=e=>({externalVisitsProvider:e?.externalVisitsProvider,periodicity:e?.periodicity??-1,sessionDuration:e?.sessionDuration});bidderSettings;preAuctionStep;filterAuctionStep;postAuctionStep;preRenderStep;postRenderStep;preAdserverCallStep;overrideRenderFormat;overrideRichMediaSettings;overrideDisplayFormat;additionalTargetings;overrideBidPriority;auctionTags;floors;bidderAliases={};exposePbjsAdUnits=!1;amazon;sublime;ortb;intrastitial;instream;customCurrency;beamSampling;paapiOptions;adagio;constructor(e){Object.assign(this,e),this.consent=this.#De(e.consent),this.dfp2=this.#Se(e.dfp2),this.ias=this.#Ce(e.ias),this.userSync=this.#Re(e.userSync),this.rtdSettings=this.#ke(e.rtdSettings),this.beam=this.#Ae(e.beam),this.adot=this.#Me(e.adot),this.criteo=this.#Ee(e.criteo),this.storagePolicy=this.#Oe(e.storagePolicy),this.secondChance=this.#Ue(e.secondChance),this.intrastitial=this.#Pe(e.intrastitial),this.s2sConfig=this.#Be(e.s2sConfig)}}var ct=i(21);const mt=(e,t,i)=>{e[t]=i},ut=()=>console.log("%c","color:red"),bt={requestBids:Xe.requestBids,getConfig:Xe.getConfig,readConfig:Xe.readConfig,setConfig:Xe.setConfig,mergeConfig:Xe.mergeConfig,addAdUnits:Xe.addAdUnits,removeAdUnit:Xe.removeAdUnit,setBidderConfig:Xe.setBidderConfig,setBidderSettings:e=>{Xe.bidderSettings=e}};(0,ct.a)((()=>{mt(Xe,"getConfig",ut),mt(Xe,"setConfig",ut),mt(Xe,"mergeConfig",ut),mt(Xe,"addAdUnits",ut),mt(Xe,"removeAdUnit",ut),mt(Xe,"setBidderConfig",ut);let e=Xe.bidderSettings;bt.setBidderSettings=t=>{e=t},Object.defineProperty(Xe,"bidderSettings",{get:()=>e,set(){ut()}})}));var ft=i(56),gt=i(23),yt=i(63),ht=i(41);const vt=({userSync:e,bidderAliases:t},i)=>{const a=(e=>{const t=new Set;for(const i of e??[])for(const{bidder:e}of i.bidRequest.bids)t.add(e);return t})(i),n=Object.entries(t).reduce(((e,[t,n])=>(i&&!a.has(t)||(e[n]??=t),e)),{}),r=new Set,o=new Set;e.smartadserver.enabled&&(e.smartadserver.useIframes&&o.add(ft.a.Smart),r.add(ft.a.Smart)),e.richAudience.enabled&&(e.richAudience.useIframes&&o.add(ft.a.richaudience),r.add(ft.a.richaudience)),e.pubmatic.enabled&&(e.pubmatic.useIframes&&o.add(ft.a.pubmatic),r.add(ft.a.pubmatic)),e.mediasquare.enabled&&(e.mediasquare.useIframes&&o.add(ft.a.mediasquare),r.add(ft.a.mediasquare)),e.prisma.enabled&&(e.prisma.useIframes&&o.add(ft.a.prisma),r.add(ft.a.prisma)),e.smileWanted.enabled&&(e.smileWanted.useIframes&&o.add(ft.a.smilewanted),r.add(ft.a.smilewanted)),e.xandr.enabled&&(e.xandr.useIframes&&o.add(ft.a.AppNexus),r.add(ft.a.AppNexus)),e.magnite.enabled&&(e.magnite.useIframes&&o.add(ft.a.Rubicon),r.add(ft.a.Rubicon)),e.indexExchange.enabled&&(e.indexExchange.useIframes&&o.add(ft.a.IndexExchange),r.add(ft.a.IndexExchange)),e.triplelift.enabled&&(e.triplelift.useIframes&&o.add(ft.a.TripleLift),r.add(ft.a.TripleLift)),e.criteo.enabled&&(e.criteo.useIframes&&o.add(ft.a.Criteo),r.add(ft.a.Criteo)),e.invibes.enabled&&r.add(ft.a.Invibes),e.nexx360.enabled&&(e.nexx360.useIframes&&o.add(ft.a.nexx360),r.add(ft.a.nexx360)),e.noBid.enabled&&(e.noBid.useIframes&&o.add(ft.a.noBid),r.add(ft.a.noBid)),e.missena.enabled&&(e.missena.useIframes&&o.add(ft.a.missena),r.add(ft.a.missena)),e.nextMillennium.enabled&&(e.nextMillennium.useIframes&&o.add(ft.a.nextMillennium),r.add(ft.a.nextMillennium)),e.adagio.enabled&&(e.adagio.useIframes&&o.add(ft.a.Adagio),r.add(ft.a.Adagio)),e.bliink.enabled&&(e.bliink.useIframes&&o.add(ft.a.bliink),r.add(ft.a.bliink)),e.vidazoo.enabled&&(e.vidazoo.useIframes&&o.add(ft.a.vidazoo),r.add(ft.a.vidazoo)),e.optidigital.enabled&&(e.optidigital.useIframes&&o.add(ft.a.optidigital),r.add(ft.a.optidigital)),e.medianet.enabled&&(e.medianet.useIframes&&o.add(ft.a.medianet),r.add(ft.a.medianet)),e.connectAd.enabled&&(e.connectAd.useIframes&&o.add(ft.a.connectad),r.add(ft.a.connectad)),e.undertone.enabled&&(e.undertone.useIframes&&o.add(ft.a.undertone),r.add(ft.a.undertone));const s=((e,t,i)=>{const a=[...t].flatMap((t=>e[t]??[])),n=[...i].flatMap((t=>e[t]??[])),r=a.length>0,o=n.length>0;return{image:{bidders:r?a:"*",filter:r?"include":"exclude"},iframe:{bidders:o?n:"*",filter:o?"include":"exclude"}}})(n,r,o);return s};var _t=i(60),It=i(33),wt=i(69),xt=i(25),Tt=i(1);const Dt=new It.a({name:"client-context",storageType:()=>(0,wt.a)({name:"clientContext"}),freshnessInterval:1800,expirationInterval:3600,loader:async()=>{const[e,{strictGdprSettings:t}]=await Promise.all([fetch("https://client-context.hubvisor.io"),xt.b]);if(!e.ok)throw new Error(`http status: ${e.statusText}`);const i=await e.json();return t?{geo:{country:i.geo?.country,location:{timeZone:i.geo?.location?.timeZone}},ip:(0,Tt.q)(i.ip)?`${i.ip.substring(0,i.ip.lastIndexOf("."))}.0`:i.ip,ua:i.ua,cxn:i.cxn}:i}});var At=i(39),St=i(91),Ct=i(70),Rt=i(42);const kt=e=>!(0,Tt.j)(e)&&(!(0,Tt.c)(e)||e.length>0),Et=({key:e,values:t,regex:i},a)=>{const n=e.split(".").reduce(((e,t)=>{if(e)return e[t]}),a);return!!n&&(t&&t.includes(n)||!(!i||!i.some((e=>{try{return!!n.match(new RegExp(e,"g"))}catch(e){return!1}}))))},Mt=e=>{if(!e)return!0;const t=window;switch(e.type){case"window":return Et(e,t);case"tcvars":return Et(e,t.tc_vars);case"datalayer":return(0,Tt.c)(t.dataLayer)?t.dataLayer.some((t=>Et(e,t))):Et(e,t.dataLayer);default:return!1}},Ot=(e,t)=>{if(!e||!kt(e.values))return!0;const i=e.values.includes(t);return e.type===Ct.a.INCLUDE?i:!i},Ut=e=>{const t=Dt.currentValue?.geo?.country?.iso;return Ot(e,t||"")},Bt=(e,t)=>!(!e||!t)||(0,Rt.b)()&&t||!(0,Rt.b)()&&e,Pt=e=>{const t=ht.remoteConfiguration.currentValue?.publisherConfiguration?.floors?.filter((t=>Ot(t.layouts,e.layout)&&Ot(t.supportCodes,e.supportCode)&&Ot(t.pageZones,e.pageZone)&&Bt(t.consent,t.consentless)&&(0,Tt.c)(t.schema)&&kt(t.schema)&&Object.keys(t.floorRules).length>0&&Ut(t.countries)))??[];return t?.[0]},Nt=(e,t)=>(0,Tt.j)(t)||(0,St.a)(t).includes(e),jt=e=>e[`${(new Date).getUTCHours()}`]??1,zt=(e,t)=>{const i=e.split("|");return i.splice(t,1),i.join("|")},qt=["skin"],$t=(e,t)=>t||qt.some((t=>e.includes(t)));var Ft=i(62);const Vt=(e,t)=>(0,Tt.m)(e)?(0,Tt.m)(t)?(Object.keys(t).forEach((i=>{const a=t[i],n=e[i];(0,Tt.m)(a)?e[i]=Vt((0,Tt.m)(n)?n:{},a):e[i]=a})),e):e:t,Lt=(0,ct.a)((()=>{const e=ht.remoteConfiguration.currentValue;bt.setConfig({currency:{adServerCurrency:"USD",rates:e?.currencies?.rates}})})),Gt=new Set([ft.a.ttdDirectPath,ft.a.hubvisor,ft.a.hawk]),Wt=e=>e.s2sConfig?.bidders.filter((t=>!(Gt.has(e.bidderAliases[t])||Gt.has(t))))??[],Ht=(e,t)=>{{if(!e)return;const i=[];if(e.adloox.enabled){const t={name:"adloox",waitForIt:e.adloox.waitForIt};t.params={thresholds:e.adloox.thresholds},(0,Tt.i)(e.adloox.slotinpath)&&(t.params.slotinpath=e.adloox.slotinpath),i.push(t)}if(e.onePlusX.enabled){const t={name:"1plusX",waitForIt:e.onePlusX.waitForIt};e.onePlusX.customerId&&e.onePlusX.bidders&&(0,Tt.i)(e.onePlusX.timeout)&&(t.params={customerId:e.onePlusX.customerId,bidders:e.onePlusX.bidders,timeout:e.onePlusX.timeout}),i.push(t)}if(e.ias.enabled&&e.ias.pubId){const t={name:"ias",waitForIt:e.ias.waitForIt,params:{pubId:e.ias.pubId}};e.ias.keyMappings&&(t.params.keyMappings=e.ias.keyMappings),e.ias.pageUrl&&(t.params.pageUrl=e.ias.pageUrl),e.ias.adUnitPath&&(t.params.adUnitPath=e.ias.adUnitPath),i.push(t)}if(e.oxxionRtd.enabled&&e.oxxionRtd.domain){const t={name:"oxxionRtd",waitForIt:e.oxxionRtd.waitForIt,params:{domain:e.oxxionRtd.domain}};e.oxxionRtd.contexts&&(t.params.contexts=e.oxxionRtd.contexts),(0,Tt.r)(e.oxxionRtd.threshold)||(t.params.threshold=e.oxxionRtd.threshold),e.oxxionRtd.samplingRate&&(t.params.samplingRate=e.oxxionRtd.samplingRate),e.oxxionRtd.bidders&&(t.params.bidders=e.oxxionRtd.bidders),i.push(t)}if(e.greenbidsRtd.enabled&&e.greenbidsRtd.pbuid){const t={name:"greenbidsRtdProvider",waitForIt:e.greenbidsRtd.waitForIt,params:{pbuid:e.greenbidsRtd.pbuid}};i.push(t)}if(e.dgkeyword.enabled){const t={name:"dgkeyword",waitForIt:e.dgkeyword.waitForIt,params:{timeout:e.dgkeyword.timeout}};i.push(t)}if(e.sirdata.enabled){const{enabled:t,waitForIt:a,...n}=e.sirdata,r={name:"SirdataRTDModule",waitForIt:a,params:{...n}};i.push(r)}if(t&&i.push({name:"adagio",params:{organizationId:t.organizationId,site:t.site}}),0===i.length)return;return{auctionDelay:e.auctionDelay,dataProviders:i}}},Xt=e=>{const{targetingKeyPrefix:t}=e;return{adserverTargeting:[{key:`${t}_bidder`,val:e=>e.bidderCode},{key:`${t}_size`,val:e=>e.size},{key:`${t}_deal`,val:e=>e.dealId},{key:`${t}_format`,val:e=>e.mediaType}]}},Yt=(e,t)=>{const i=[];if(e.id5?.partnerId){const{controlGroupPct:t,partnerId:a,partnerSuppliedData:n}=e.id5,r={name:"id5Id",params:{partner:a,pd:n,abTesting:(0,Tt.r)(t)?void 0:{enabled:!0,controlGroupPct:t}},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}};i.push(r)}if(e.identityLink?.pid){const t={name:"identityLink",params:{pid:e.identityLink.pid,notUse3P:e.identityLink.notUse3P},storage:{type:e.identityLink.storage??"html5",name:"idl_env",expires:e.identityLink.expires??30}};e.identityLink.refreshInSeconds&&(t.storage.refreshInSeconds=e.identityLink.refreshInSeconds),i.push(t)}if(e.criteoId?.enabled||Object.values(t).some((e=>e===ft.a.Criteo))){const e={name:"criteo",storage:{type:"html5",name:"criteoid",expires:365}};i.push(e)}if(e.pubCommonId?.enabled){const e={name:"pubCommonId"};i.push(e)}if(e.sharedId?.enabled){const t={type:"html5",name:"sharedid",expires:28},a={name:"sharedId",params:{syncTime:1440},storage:e.sharedId.storage??t};i.push(a)}if(e.unifiedId?.enabled&&i.push({name:"unifiedId",params:{url:`https://match.adsrvr.org/track/rid?ttd_pid=${e.unifiedId.pid}&fmt=json`},storage:{type:"html5",name:"pbjs-unifiedid",expires:60}}),e.pubProvidedId?.eidsFunction&&i.push({name:"pubProvidedId",params:{eidsFunction:e.pubProvidedId.eidsFunction}}),e.pairId?.enabled&&i.push({name:"pairId",...e.pairId.params?{params:e.pairId.params}:{}}),e.utiq?.enabled&&i.push({name:"utiqId"}),e.utiqMtp?.enabled&&i.push({name:"utiqMtpId",bidders:e.utiqMtp.bidders}),e.imuid?.enabled&&i.push({name:"imuid",params:{...e.imuid.params}}),e.euid?.enabled){const t={serverPublicKey:e.euid.serverPublicKey,subscriptionId:e.euid.subscriptionId,emailHash:e.euid.emailHash};e.euid.testMode&&(t.euidApiBase="https://integ.euid.eu/"),i.push({name:"euid",params:t})}return i},Jt=e=>{if(!Object.values(e.bidderAliases).includes(ft.a.outbrain))return;const t=Dt.currentValue?.geo?.country?.isEu?"-euc1":"";return{bidderUrl:`https://b1h${t}.zemanta.com/api/bidder/prebid/bid/`,usersyncUrl:`https://b1h${t}.zemanta.com/usersync/prebid`}},Kt=e=>{if(!e)return;const t={};for(const i of e.values)t[e.fields.map((e=>i[e]??"*")).join("|")]=i.floor;return t},Zt=e=>{if(e&&!1!==(0,_t.a)("floors"))return{enforcement:{floorDeals:!0},data:{currency:e.currency??"USD",schema:{fields:e.fields},values:Kt(e),default:e.default},additionalSchemaFields:{deviceType:()=>yt.b,connector:(e,t)=>e?.bidder??t.bidderCode,videoContext:e=>e?.mediaTypes?.video?.context??"",displayFormat:e=>e?.hbvMetadata?.displayFormat??"",isConsentless:()=>`${(0,Rt.b)()}`,...e.additionalSchemaFields}}},Qt=(0,ct.a)((e=>{e.consent.enabled&&Ae.d.enable(),e.consent.uspEnabled&&Ae.f.enable(),(e=>{for(const[t,i]of Object.entries(e))Xe.aliasBidder(i,t,{gvlid:gt.b.get(i)})})(e.bidderAliases),Xe.processQueue(),bt.setConfig((e=>{const t=vt(e),i="include"===t.image?.filter&&t.image.bidders.length>0||"include"===t.iframe?.filter&&t.iframe.bidders.length>0,a=Object.entries(e.userSync).some((([e,t])=>e in lt&&Boolean(t.enabled)))&&i;let n;{let t=!!e.s2sConfig?.enabled;n={accountId:e.publisherId,bidders:Wt(e),enabled:t,endpoint:"https://pbs.hubvisor.io/openrtb2/auction",syncEndpoint:"https://pbs.hubvisor.io/cookie_sync",timeout:1e3*(e.bidderTimeout-.5)}}return{gvlMapping:{[ft.a.Adot]:gt.b.get(ft.a.Adot),[ft.a.yieldlift]:gt.b.get(ft.a.yieldlift)},priceGranularity:e.priceGranularity,consentManagement:{strictStorageEnforcement:e.consent.strictStorageEnforcement,gdpr:{cmpApi:"iab",timeout:1e3*e.consent.consentTimeout,allowAuctionWithoutConsent:!e.consent.shouldSkipAuctionOnConsentFailure,rules:[{purpose:"storage",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:e.consent.storageVendorExceptions},{purpose:"basicAds",enforcePurpose:!1,enforceVendor:!1}]},usp:{cmpApi:"iab",timeout:100}},criteo:e.criteo,outbrain:Jt(e),rubicon:{singleRequest:!0},improvedigital:{usePrebidSizes:!0},hbvRichmedia:{publisherId:e.publisherId},userSync:{aliasSyncEnabled:a,syncEnabled:a,userIds:Yt(e.userSync,e.bidderAliases),ppid:e.userSync.ppid,syncDelay:1e3,filterSettings:t},floors:Zt(e.floors),debug:(0,_t.a)("pbjs")??!1,auctionOptions:{secondaryBidders:e.secondaryBidders??[]},s2sConfig:n,enableTIDs:!0,realTimeData:Ht(e.rtdSettings,e.adagio),paapi:{enabled:e.paapiOptions?.enabled??!1,gpt:{autoconfig:!1},defaultForSlots:1,bidders:e.paapiOptions?.bidders}}})(e)),bt.setBidderSettings({adagio:{storageAllowed:!0},standard:Xt(e),...e.bidderSettings}),(e=>{if(e.adot?.publisherId||e.adot?.publisherPath){const t=Object.entries(e.bidderAliases).reduce(((e,[t,i])=>("adot"===i&&e.push(t),e)),[]);bt.setBidderConfig({bidders:t,config:{adot:{publisherId:e.adot.publisherId,publisherPath:e.adot.publisherPath}}})}for(const t of e.schains)bt.setBidderConfig({bidders:t.bidders,config:{schain:{config:{ver:"1.0",complete:1,nodes:t.nodes},validation:"relaxed"}}})})(e)}));var ei=i(30),ti=i(40);const{error:ii,debug:ai}=et.a.tag("TDID"),ni="hbv:ttdid",ri={},oi=async({timeout:e})=>{try{ai("Querying fresh TDID");const t=e>0,i=new AbortController,a=t?setTimeout((()=>i.abort(new Error(`timeout of ${e}ms reached`))),e):void 0,n=await fetch((()=>{const e=Qe.a.currentValue?.tcData;return`https://match.adsrvr.org/track/rid?ttd_pid=cs1e9cy&fmt=json&ttd_tpi=1&gdpr=${!0===e?.gdprApplies?"1":"0"}&gdpr_consent=${e?.tcString??""}`})(),{credentials:"include",signal:i.signal});if(clearTimeout(a),!n.ok)throw new Error(`http status: ${n.statusText}`);const r=(await n.json()).TDID;if((0,Tt.q)(r))return(e=>{const t={updatedAt:Date.now(),tdid:e};localStorage.setItem(ni,JSON.stringify(t)),ai(`Updated stored uid #${e}`)})(r),r;ii("couldn't interpret TDID endpoint response",n)}catch(e){ii("Error loading TDID endpoint",e)}},si=(0,ct.a)((async({consent:e})=>{if(!(0,it.d)(Qe.a.currentValue?.tcData,it.a.storageAccess)&&e.enabled)return ai("Consent denies usage of storage for TDID");ri.consent=e,ri.tdid=await(async()=>{const e=(()=>{try{const t=localStorage.getItem(ni);if(!t)return;const i=JSON.parse(t);if(!(e=>(0,Tt.m)(e)&&(0,Tt.q)(e.tdid)&&(0,Tt.l)(e.updatedAt))(i))return;if(!(e=i)||Date.now()-e.updatedAt>7776e6)return;return i}catch(e){ii("Error loading TDID",e)}var e})();return(t=e)&&Date.now()-t.updatedAt<288e5?(ai(`Stored data is fresh enough, using #${e?.tdid}`),e?.tdid):e?(oi({timeout:0}),e.tdid):oi({timeout:1500});var t})(),ai("Tdid setup is ready")}));var di=i(94),li=i(96);const pi=e=>Math.round(100*e)/100;var ci=i(17);const mi={purpose:{},feature:{}},ui={purpose:!1,feature:"specialFeatureOptins"},bi={storage:{type:"purpose",default:{purpose:"storage",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]},id:1},basicAds:{type:"purpose",id:2,default:{purpose:"basicAds",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]}},personalizedAds:{type:"purpose",id:4},measurement:{type:"purpose",id:7},transmitPreciseGeo:{type:"feature",id:1}},fi=new Set,gi=new Set,yi=new Set,hi=new Set,vi=new Set,_i=new Set;let Ii=!1,wi=!1;const xi=[Y.b,Y.e,Y.a,Y.d],Ti="TCF2",Di=[],Ai=[2],Si=[2,7,9,10];function Ci(e,t,i,a){const n=(0,o.a)(e,`vendorData.${t}`);return!!n?.consents?.[i]||a&&!!n?.legitimateInterests?.[i]}function Ri(e,t,i,a){let n;if(!1!==ui[t])n=!!(0,o.a)(e,`vendorData.${ui[t]}.${i}`);else{const[t,r]=a===Ae.b?["publisher",Si]:["purpose",Ai];n=Ci(e,t,i,r.includes(i))}return{purpose:n,vendor:Ci(e,"vendor",a,Ai.includes(i))}}function ki(e,t,i,a){const n=bi[e.purpose];if((e.vendorExceptions||[]).includes(i))return!0;const r=e.enforceVendor&&!(a===Ae.b||(e.softVendorExceptions||[]).includes(i)),{purpose:o,vendor:s}=Ri(t,n.type,n.id,a);return(!e.enforcePurpose||o)&&(!r||s)}function Ei(e,t,i=null,a=(()=>null)){return function(r){const o=Ae.d.getConsentData(),s=r[ci.c];if(function(e,t,i){return null==e&&Ae.d.enabled?((0,n.jb)(`Attempting operation that requires purpose ${t} consent while consent data is not available${i?` (module: ${i})`:""}. Assuming no consent was given.`),!0):e&&e.gdprApplies}(o,e,s)){const e=function(e,t,i){if(t){const a=v.config.getConfig("gvlMapping");if(a&&a[t])return a[t];if(e===Y.c)return Ae.b;{let{gvlid:a,modules:r}=Ae.a.get(t);if(null==a&&Object.keys(r).length>0)for(const i of xi)if(r.hasOwnProperty(i)){a=r[i],i!==e&&(0,n.jb)(`Multiple GVL IDs found for module '${t}'; using the ${i} module's ID (${a}) instead of the ${e}'s ID (${r[e]})`);break}return null==a&&i&&(a=i()),a||null}}return null}(r[ci.d],s,a(r));let d=!!t(o,s,e);if(!d)return i&&i.add(s),{allow:d}}}}function Mi(e,t=null,i=(()=>null)){return Ei(e,((t,i,a)=>!!ki(mi.purpose[e],t,i,a)),t,i)}function Oi(e){return function(t){if(t[ci.d]!==Y.c)return e(t)}}const Ui=(Bi=Mi(1,fi),function(e){if(e[ci.d]!==Y.c||wi)return Bi(e)});var Bi;const Pi=Mi(1,fi),Ni=Mi(1,fi),ji=Oi(Mi(2,gi)),zi=Mi(7,yi,(e=>function(e,t){const i=ie.a.getAnalyticsAdapter(e);return(a=>{if("function"!=typeof a)return a;try{return a.call(i.adapter,t)}catch(t){(0,n.gb)(`Error invoking ${e} adapter.gvlid()`,t)}})(i?.adapter?.gvlid)}(e[ci.c],e[ci.b]))),qi=Mi(4,hi),$i=Oi((()=>{const e=Ei("2-10",(function(e,t,i){for(let a=2;a<=10;a++){if(mi.purpose[a]?.vendorExceptions?.includes(t))return!0;const{purpose:n,vendor:r}=Ri(e,"purpose",a,i);if(n&&(r||mi.purpose[a]?.softVendorExceptions?.includes(t)))return!0}return!1}),vi),t=Mi(4,vi);return function(){return(mi.purpose[4]?.eidsRequireP4Consent?t:e).apply(this,arguments)}})()),Fi=Ei("Special Feature 1",((e,t,i)=>ki(mi.feature[1],e,t,i)),_i);x.on(d.EVENTS.AUCTION_END,(function(){const e=function(e){return Array.from(e.keys()).filter((e=>null!=e))},t={storageBlocked:e(fi),biddersBlocked:e(gi),analyticsBlocked:e(yi),ufpdBlocked:e(hi),eidsBlocked:e(vi),geoBlocked:e(_i)};x.emit(d.EVENTS.TCF2_ENFORCEMENT,t),[fi,gi,yi,hi,vi,_i].forEach((e=>e.clear()))})),v.config.getConfig("consentManagement",(e=>function(e){let t=(0,o.a)(e,"gdpr.rules");t||(0,n.jb)("TCF2: enforcing P1 and P2 by default"),t=Object.fromEntries((t||[]).map((e=>[e.purpose,e]))),wi=!!(0,o.a)(e,"strictStorageEnforcement"),Object.entries(bi).forEach((([e,i])=>{mi[i.type][i.id]=t[e]??i.default})),Ii||(null!=mi.purpose[1]&&(Ii=!0,Di.push((0,fe.b)(ye.a,Ti,Ui)),Di.push((0,fe.b)(ye.f,Ti,Pi)),Di.push((0,fe.b)(ye.b,Ti,Ni))),null!=mi.purpose[2]&&Di.push((0,fe.b)(ye.d,Ti,ji)),null!=mi.purpose[4]&&Di.push((0,fe.b)(ye.j,Ti,qi),(0,fe.b)(ye.c,Ti,qi)),null!=mi.purpose[7]&&Di.push((0,fe.b)(ye.e,Ti,zi)),null!=mi.feature[1]&&Di.push((0,fe.b)(ye.h,Ti,Fi)),Di.push((0,fe.b)(ye.g,Ti,$i)))}(e.consentManagement)));var Vi=i(36),Li=i(92);const Gi=4;let Wi,Hi=[],Xi={},Yi=!1,Ji=!0,Ki="USD";var Zi=!1,Qi={};let ea,ta={},ia=(0,X.b)();function aa(e){ea?((0,n.jb)(e),(0,n.jb)("Currency failed loading rates, falling back to currency.defaultRates")):(0,n.gb)(e)}function na(){Ji?(Ji=!1,Yi=!1,(0,Vi.b)(Wi,{success:function(e){try{Qi=JSON.parse(e),(0,n.hb)("currencyRates set to "+JSON.stringify(Qi)),Xi={},Yi=!0,da()}catch(t){aa("Failed to parse currencyRates response: "+e)}},error:function(...e){aa(...e),Yi=!0,da(),Ji=!0}})):da()}function ra(e,t){e(t.then((()=>ia.promise)))}v.config.getConfig("currency",(e=>function(e){if(Wi="https://cdn.jsdelivr.net/gh/prebid/currency-file@1/latest.json?date=$$TODAY$$",null!==e.rates&&"object"==typeof e.rates&&(Qi.conversions=e.rates,Yi=!0,Ji=!1),null!==e.defaultRates&&"object"==typeof e.defaultRates&&(ea=e.defaultRates,Qi.conversions=ea,Yi=!0),"string"==typeof e.adServerCurrency){(0,n.hb)("enabling currency support",arguments),Ki=e.adServerCurrency,e.conversionRateFile&&((0,n.hb)("currency using override conversionRateFile:",e.conversionRateFile),Wi=e.conversionRateFile);const t=Wi.indexOf("$$TODAY$$");if(-1!==t){const e=new Date;let i=`${e.getMonth()+1}`,a=`${e.getDate()}`;i.length<2&&(i=`0${i}`),a.length<2&&(a=`0${a}`);const n=`${e.getFullYear()}${i}${a}`;Wi=`${Wi.substring(0,t)}${n}${Wi.substring(t+9,Wi.length)}`}Xi={},Zi||(Zi=!0,(0,a.a)().convertCurrency=(e,t,i)=>parseFloat(e)*la(t,i),(0,T.a)("addBidResponse").before(oa,100),(0,T.a)("responsesReady").before(ra),(0,x.on)(d.EVENTS.AUCTION_TIMEOUT,sa),(0,x.on)(d.EVENTS.AUCTION_INIT,na),na())}else(0,n.hb)("disabling currency support"),Zi&&((0,T.a)("addBidResponse").getHooks({hook:oa}).remove(),(0,T.a)("responsesReady").getHooks({hook:ra}).remove(),(0,x.off)(d.EVENTS.AUCTION_TIMEOUT,sa),(0,x.off)(d.EVENTS.AUCTION_INIT,na),delete(0,a.a)().convertCurrency,Ki="USD",Xi={},Zi=!1,Yi=!1,Ji=!0,Qi={},ta={},ia=(0,X.b)());"object"==typeof e.bidderCurrencyDefault&&(ta=e.bidderCurrencyDefault)}(e.currency)));const oa=(0,ae.c)("currency",(function(e,t,i,a){if(!i)return e.call(this,t,i,a);let r=i.bidderCode||i.bidder;if(ta[r]){let e=ta[r];i.currency&&e!==i.currency?(0,n.jb)(`Currency default '${r}: ${e}' ignored. adapter specified '${i.currency}'`):i.currency=e}if(i.currency||((0,n.jb)('Currency not specified on bid.  Defaulted to "USD"'),i.currency="USD"),i.getCpmInNewCurrency=function(e){return(parseFloat(this.cpm)*la(this.currency,e)).toFixed(3)},i.currency===Ki)return e.call(this,t,i,a);Hi.push([e,this,t,i,a]),Zi&&!Yi||da()}));function sa({auctionId:e}){Hi=Hi.filter((([t,i,a,n,r])=>{if(n.auctionId!==e)return!0;r(d.m.CANNOT_CONVERT_CURRENCY)}))}function da(){for(;Hi.length>0;){const[e,t,i,a,r]=Hi.shift();if(void 0!==a&&"currency"in a&&"cpm"in a){let e=a.currency;try{let t=la(e);1!==t&&(a.cpm=(parseFloat(a.cpm)*t).toFixed(4),a.currency=Ki)}catch(e){(0,n.jb)("getCurrencyConversion threw error: ",e),r(d.m.CANNOT_CONVERT_CURRENCY);continue}}e.call(t,i,a,r)}ia.resolve()}function la(e,t=Ki){var i,a=null;let r=`${e}->${t}`;if(r in Xi)a=Xi[r],(0,n.ib)("Using conversionCache value "+a+" for "+r);else if(!1===Zi){if("USD"!==e)throw new Error("Prebid currency support has not been enabled and fromCurrency is not USD");a=1}else if(e===t)a=1;else if(e in Qi.conversions){if(!(t in(i=Qi.conversions[e])))throw new Error("Specified adServerCurrency in config '"+t+"' not found in the currency rates file");a=i[t],(0,n.hb)("getCurrencyConversion using direct "+e+" to "+t+" conversionRate "+a)}else if(t in Qi.conversions){if(!(e in(i=Qi.conversions[t])))throw new Error("Specified fromCurrency '"+e+"' not found in the currency rates file");a=pa(1/i[e],Gi),(0,n.hb)("getCurrencyConversion using reciprocal "+e+" to "+t+" conversionRate "+a)}else{var o=Object.keys(Qi.conversions)[0];if(!(e in Qi.conversions[o]))throw new Error("Specified fromCurrency '"+e+"' not found in the currency rates file");var s=1/Qi.conversions[o][e];if(!(t in Qi.conversions[o]))throw new Error("Specified adServerCurrency in config '"+t+"' not found in the currency rates file");a=pa(s*Qi.conversions[o][t],Gi),(0,n.hb)("getCurrencyConversion using intermediate "+e+" thru "+o+" to "+t+" conversionRate "+a)}return r in Xi||((0,n.ib)("Adding conversionCache value "+a+" for "+r),Xi[r]=a),a}function pa(e,t){var i=1;for(let e=0;e<t;e++)i+="0";return Math.round(e*i)/i}(0,Li.i)({type:Li.f,name:"currency",fn:function(e,t,i){Zi&&(e.cur=e.cur||[i.currency||Ki])}}),i(103);var ca=i(54);const ma=(e,t)=>e?.replace(/\$\{AUCTION_PRICE\}|\$%7BAUCTION_PRICE%7D/g,`${t}`),ua="banner",ba="native",fa="video",ga=([e,t],[i,a])=>e!==i?e-i:t-a,ya=e=>[...e].sort(ga).map((e=>`${e[0]}x${e[1]}`)).join("-");class ha{#Ne={};#je={};#ze;constructor(e){for(const t of e)this.#je[t.placementId]={pubstack:t.pubstack,ortb2Imp:t.bidRequest.ortb2Imp}}push=({adUnitCode:e,mediaTypes:t,renderer:i,bids:a,ortb2ImpParams:n,ortb2Params:r,playerConfig:o})=>{const s=((e,t,i,a,n)=>{const r=Object.entries(t).map((([e,t])=>{if(e===ua&&t)return`${e}=${ya(t.sizes)}`;if(e===fa&&t){const a=i?.url??"",{api:r,linearity:o,mimes:s,maxduration:d,minduration:l,protocols:p,startdelay:c,playbackmethod:m,placement:u,skip:b}=t,f=JSON.stringify({api:r,linearity:o,mimes:s,maxduration:d,minduration:l,protocols:p,startdelay:c,playbackmethod:m,placement:u,skip:b}),{expand:g,isReplayable:y,volumeStrategy:h,hbvFormat:v,selector:_,targetRatio:I,maxWidth:w,hasRollover:x,hasDynamicHeight:T,fitHeight:D}=n??{},A=JSON.stringify({expand:g,isReplayable:y,volumeStrategy:h,hbvFormat:v,selector:_,targetRatio:I,maxWidth:w,hasRollover:x,hasDynamicHeight:T,fitHeight:D});return`${e}=${ya(t.playerSize)}&renderer=${a}&openRtbParams=${f}&playerConfig=${A}`}return e===ba?`${e}&nativeParams=${JSON.stringify(t)}`:void 0})),o=a?`ortb2Imp={banner.api=${a.banner?.api},instl=${a.instl},ext={gpid=${a.ext?.gpid},data.pbadslot:${a.ext?.data?.pbadslot}}}`:void 0;return`${e}:${r.join("&")}:ortb2Imp=${o}`})(e,t,i,n,o);if(!this.#Ne[s]){const{pubstack:a,ortb2Imp:o}=this.#je[e]??{},d={code:e,mediaTypes:t,renderer:i,bids:[],ortb2Imp:o};n&&(d.ortb2Imp=Vt(d.ortb2Imp??{},n)),r&&(this.#ze=Vt(this.#ze??{},r)),d.pubstack=a,this.#Ne[s]=d}this.#Ne[s]?.bids.push(...a)};build=()=>({ortb2Params:this.#ze,adUnits:Object.values(this.#Ne).filter(Tt.i)})}var va=i(53),_a=i(8),Ia=i(14),wa=i(57);const xa=({bid:e,baseConnector:t,adUnits:i,overrideDisplayFormat:a,bidRequest:n})=>{const r=parseInt(`${e.width}`)||0,o=parseInt(`${e.height}`)||0,s=((e,t)=>{try{return t?t(e):void 0}catch(e){const t=new _a.b(_a.a.overrideDisplayFormatFailed,e);(0,Ia.a)(t,"overrideDisplayFormat error")}})(e,a);if(s)return s;if("video"===e.mediaType)return((e,t)=>t.some((t=>t.code===e&&"instream"===t.mediaTypes.video?.context))?wa.a.instream:wa.a.outstream)(e.adUnitCode,i);if(1800===r&&1e3===o)return wa.a.skin;if("native"===e.mediaType)return wa.a.native;switch(t){case ft.a.Adyoulike:return wa.a.nativeBanner;case ft.a.Invibes:case ft.a.Freewheel:return wa.a.outstream;case ft.a.seedtag:case ft.a.Smart:if(640===r)return wa.a.outstream;break;case ft.a.Sublime:return wa.a.skin;case ft.a.Teads:return wa.a.outstream;case ft.a.TripleLift:return"tlx"===e.tl_source?wa.a.nativeBanner:"outstream"===n?.hbvMetadata?.displayFormat?wa.a.outstream:wa.a.banner;case ft.a.bliink:return 1===r&&1===o?wa.a.outstream:wa.a.banner;case ft.a.ogury:{const t=e.ext?.mediatype;return"video"===t?wa.a.outstream:"image"===t?wa.a.banner:wa.a.outstream}}return n?.hbvMetadata?.displayFormat??wa.a.banner},{debug:Ta,error:Da,info:Aa}=et.a.tag("content-provider:prebid"),Sa=e=>{if(!(0,Tt.m)(e))return!1;if(1===e.adrender){const t=(0,Tt.n)(e.behalf,Tt.q)&&"null"!==e.behalf?.toLowerCase()&&""!==e.behalf,i=(0,Tt.n)(e.paid,Tt.q)&&"null"!==e.paid?.toLowerCase()&&""!==e.paid,a=(0,Tt.n)(e.transparency,(e=>(0,Tt.c)(e)&&e.every((e=>(0,Tt.m)(e)&&(0,Tt.q)(e.domain)&&""!==e.domain&&(0,Tt.b)(e.dsaparams,Tt.l)))));return t&&i&&a}if(0===e.adrender){const t=(0,Tt.q)(e.behalf)&&"null"!==e.behalf.toLowerCase()&&""!==e.behalf,i=(0,Tt.q)(e.paid)&&"null"!==e.paid.toLowerCase()&&""!==e.paid,a=(0,Tt.c)(e.transparency)&&e.transparency.every((e=>(0,Tt.m)(e)&&(0,Tt.q)(e.domain)&&""!==e.domain&&(0,Tt.b)(e.dsaparams,Tt.l)));return t&&i&&a}return!1};class Ca{#qe={};#$e;#Fe;constructor(e){this.#Fe=e.globalSettings,Qt(e.globalSettings);const t=e.globalSettings.targetingKeyPrefix;for(const e of["bidder","adid","pb","size","deal","format","pg_dealid","pg_adid","pf"])gt.i.add(`${t}_${e}`);this.#$e=e.globalSettings.bidderAliases,Xe.onEvent(d.EVENTS.BID_TIMEOUT,this.#Ve),Xe.onEvent(d.EVENTS.NO_BID,this.#Le),Xe.onEvent(d.EVENTS.BID_REJECTED,this.#Ge),Xe.onEvent(d.EVENTS.BID_REQUESTED,this.#We),Aa(`prebid.js ${Xe.version} loaded`)}#He=e=>{let t=e.getFloor({currency:"USD",mediaType:"*",size:"*"}).floor;if(e.mediaTypes.native){const i=e.getFloor({currency:"USD",mediaType:"native",size:"*"}).floor;(i??1/0)<(t??1/0)&&(t=i)}if(e.mediaTypes.video){const i=e.getFloor({currency:"USD",mediaType:"video",size:"*"}).floor;(i??1/0)<(t??1/0)&&(t=i)}if(e.mediaTypes.banner){const i=e.getFloor({currency:"USD",mediaType:"banner",size:"*"}).floor;(i??1/0)<(t??1/0)&&(t=i);for(const i of e.mediaTypes.banner.sizes){const a=e.getFloor({currency:"USD",mediaType:"banner",size:i}).floor;(a??1/0)<(t??1/0)&&(t=a)}}return t};#We=e=>{const t=this.#qe[e.auctionId];if(!t)return Da("couldn't find auction accumulator: this should not happen");for(const i of e.bids)t.userIdsByBidId[i.bidId]=i.userId?Object.keys(i.userId):[],t.floorByBidId[i.bidId]=this.#He(i)};#Ve=e=>{for(const t of e){const e=this.#$e[t.bidder];this.#qe[t.auctionId]?.timeouts.push({placementId:t.adUnitCode,bidId:t.bidId,bidder:t.bidder,vendorId:e?gt.b.get(e):void 0,userIdPartners:this.#qe[t.auctionId]?.userIdsByBidId[t.bidId]??[],displayFormat:t.hbvMetadata?.displayFormat,mediaType:t.hbvMetadata?.mediaType,requestSizes:t.hbvMetadata?.requestSizes,requestDealIds:t?.hbvMetadata?.requestDealIds,payloadBidRequestSize:t?.hbvMetadata?.payloadBidRequestSize,payloadBidResponseSize:t?.hbvMetadata?.payloadBidResponseSize,demandSource:"s2s"===t.src?"pbs":"pbjs",floor:this.#qe[t.auctionId]?.floorByBidId[t.bidId]})}};#Le=e=>{const t=this.#$e[e.bidder];this.#qe[e.auctionId]?.noBids.push({placementId:e.adUnitCode,bidId:e.bidId,bidder:e.bidder,vendorId:t?gt.b.get(t):void 0,userIdPartners:this.#qe[e.auctionId]?.userIdsByBidId[e.bidId]??[],displayFormat:e.hbvMetadata?.displayFormat,mediaType:e.hbvMetadata?.mediaType,requestSizes:e.hbvMetadata?.requestSizes,requestDealIds:e?.hbvMetadata?.requestDealIds,payloadBidRequestSize:e?.hbvMetadata?.payloadBidRequestSize,payloadBidResponseSize:e?.hbvMetadata?.payloadBidResponseSize,demandSource:"s2s"===e.src?"pbs":"pbjs",floor:this.#qe[e.auctionId]?.floorByBidId[e.bidId]})};#Ge=e=>{this.#qe[e.auctionId]?.rejectedBids.push(e)};#Xe=e=>e;#Ye=e=>{const t=e.meta;if(!t)return;const i=t.agencyId??e.appnexus?.buyerMemberId;return{networkId:t.networkId?`${t.networkId}`:void 0,networkName:t.networkName,agencyId:i?`${i}`:void 0,agencyName:t.agencyName,advertiserId:t.advertiserId?`${t.advertiserId}`:void 0,advertiserName:t.advertiserName,advertiserDomains:(0,St.a)(t.advertiserDomains).filter((e=>(0,Tt.q)(e)&&""!==e)).slice(0,2),brandId:t.brandId?`${t.brandId}`:void 0,brandName:t.brandName,dchain:t.dchain,primaryCatId:t.primaryCatId,secondaryCatIds:t.secondaryCatIds,mediaType:t.mediaType?this.#Xe(t.mediaType):void 0,dsa:Sa(t.dsa)?t.dsa:void 0}};#Je=(e,t)=>i=>{i.ad=ma(i.ad,i.originalCpm),i.adUrl=ma(i.adUrl,i.originalCpm),i.vastUrl=ma(i.vastUrl,i.originalCpm),i.vastXml=ma(i.vastXml,i.originalCpm);const a=`${i.creativeId}`,n=i.dealId?`${i.dealId}`:void 0,r=this.#$e[i.bidder],o=parseInt(`${i.width}`)||0,s=parseInt(`${i.height}`)||0,d=_.a.index.getBidRequest(i),l=d?.params.deals;return{providerId:ca.a,prebid:i,adMarkup:i.ad,adUrl:i.adUrl,auctionId:e,placementId:i.adUnitCode,bidder:i.bidder,vendorId:r?gt.b.get(r):void 0,bidId:i.adId,dealId:n,width:o,height:s,mediaType:this.#Xe(i.mediaType),creativeId:a,cpm:Number(i.cpm),currency:i.currency,originalCpm:Number(i.originalCpm??i.cpm),originalCurrency:i.originalCurrency??i.currency,isNetRevenue:i.netRevenue,ttl:i.ttl,fetchDuration:i.timeToRespond,targetings:i.adserverTargeting,native:i.native?{prebid:i.native}:void 0,vastUrl:i.vastUrl,vastXml:i.vastXml,meta:this.#Ye(i),displayFormat:xa({bid:i,baseConnector:r??i.bidder,adUnits:t,overrideDisplayFormat:this.#Fe.overrideDisplayFormat,bidRequest:d}),requestSizes:d?.hbvMetadata?.requestSizes,requestDealIds:d?.hbvMetadata?.requestDealIds,deal:n?{name:n,isGuaranteed:l?.some((e=>e.isGuaranteed&&e.name===i.dealId))??!1}:void 0,payloadBidRequestSize:d?.hbvMetadata?.payloadBidRequestSize,payloadBidResponseSize:d?.hbvMetadata?.payloadBidResponseSize,userIdPartners:this.#qe[i.auctionId]?.userIdsByBidId[i.requestId]??[],requestParams:d?.params,demandSource:"s2s"===i.source?"pbs":"pbjs",floor:this.#qe[i.auctionId]?.floorByBidId[i.requestId]}};#Ke=e=>new ha(e);#Ze=()=>!!bt.readConfig("floors")?.endpoint?.url;provideContent=async(e,t)=>{const{placements:i,bidderTimeout:a}=t,n=((e,t)=>i=>{const a=e[i]??i,n=t[a];return a===ft.a.amazon||a===ft.a.backfill||a===ft.a.relay?va.a:n??va.a})(this.#$e,gt.a.items),{adUnits:r,ortb2Params:o}=(0,di.a)(this.#Ke(i),i,{provideFormatter:n},t.context).build();o&&bt.setConfig({ortb2:o}),this.#Fe.exposePbjsAdUnits&&window.Hubvisor&&(window.Hubvisor.adUnits=r),this.#Fe.floors||this.#Ze()||((e,t)=>{const i=ht.remoteConfiguration.currentValue?.publisherConfiguration?.floorMultiplierConfigs?.find((e=>e.enabled)),a=t||i?(e=>{const t=((e,t)=>{if(!t)return e;if(!e)return;const i="adUnitCode",a=e.floorRules,n=e.schema.includes(i)?e.schema:[...e.schema,i],r={},o={},s=n.indexOf(i);if(s===e.schema.length)for(const[e,i]of Object.entries(a)){const a=(0,Tt.l)(i)?i:i.floor,n=!(0,Tt.l)(i)&&i.immutable;for(const i of t){const t=e.split("|");r[`${e}|${i.placement}`]=$t(t,n)?a:a*jt(i.multiplierByHour)}r[`${e}|*`]=a}else for(const[e,t]of Object.entries(a))o[e]=t;const d=Object.entries(o).reduce(((e,[t,i])=>(e[zt(t,s)]={...e[zt(t,s)]??{},[t]:i},e)),{});for(const e of Object.values(d)){const i=Object.entries(e).map((([e,t])=>[e.split("|"),t])),a=i.map((([e])=>e[s]));for(const[e,n]of i)if("*"===e[s]){for(const i of t)if(!a.includes(i.placement)){a.push(i.placement);const t=[...e];t[s]=i.placement;const o=(0,Tt.l)(n)?n:n.floor,d=!(0,Tt.l)(n)&&!0===n.immutable;r[t.join("|")]=$t(t,d)?o:o*jt(i.multiplierByHour)}const i=(0,Tt.l)(n)?n:n.floor;r[e.join("|")]=i}else{const i=t.find((t=>t.placement===e[s]))?.multiplierByHour,a=(0,Tt.l)(n)?n:n.floor,o=!(0,Tt.l)(n)&&!0===n.immutable;r[e.join("|")]=!$t(e,o)&&i?jt(i)*a:a}}return{...e,schema:n,floorRules:r}})(Pt(e.context),(i=(e=>{const t=ht.remoteConfiguration.currentValue?.publisherConfiguration?.floorMultipliers?.[0]?.multipliers.filter((t=>Nt(e.context.pageZone,t.zones)&&((0,Tt.j)(e.context.category)||Nt(e.context.category,t.categories))&&Nt((e=>e.refreshReason===At.b.visibility)(e),t.refresh)));return t})(e),i?.filter((e=>(0,Tt.i)(e.placement)))));var i;return t})(e):Pt(e.context);if(a&&!1!==(0,_t.a)("floors")){const t=Object.entries(a.floorRules).reduce(((e,[t,i])=>(e[t]=(0,Tt.l)(i)?i:i.floor,e)),{});bt.setConfig({floors:{enforcement:{floorDeals:!0},data:{currency:a.currency??"USD",schema:{fields:a.schema},values:t,default:a.defaultFloor},additionalSchemaFields:{device:()=>yt.b,bidder:(e,t)=>e?.bidder??t.bidderCode,videoContext:e=>e?.mediaTypes?.video?.context??"",displayFormat:e=>e?.hbvMetadata?.displayFormat??"",supportCode:()=>e.context.supportCode,country:()=>Dt.currentValue?.geo?.country?.iso??"",pageZone:()=>e.context.pageZone,browser:()=>Dt.currentValue?.ua?.browser?.name??"",category:()=>e.context.category??""}}})}})(t,this.#Fe.shouldUseDynamicFloors),bt.setConfig({outbrain:Jt(this.#Fe)}),(e=>{const t={cattax:1,bcat:e.ortb?.contentBlocklist,badv:e.ortb?.domainBlocklist,at:Ft.a.firstPrice,device:{js:Ft.b.yes}},i=Qe.a.currentValue?.tcData;if(i){t.user={consent:i.tcString,ext:{consent:i.tcString,ConsentedProvidersSettings:{consented_providers:i.addtlConsent}}};const a=i.purpose?.consents,n=[];a?.[3]&&a?.[4]&&n.push(1),a?.[2]&&n.push(2),(0,Rt.b)()||n.push(3);const r=e.ortb?.dsaParams?.enabled?{dsarequired:e.ortb?.dsaParams.dsaRequired??1,pubrender:0,datatopub:1,transparency:[{domain:e.ortb?.siteDomain??e.ortb?.publisherDomain??"",dsaparams:(0,Tt.e)(i.gdprApplies)&&i.gdprApplies?n:[]}]}:void 0;t.regs={ext:{gdpr:(0,Tt.e)(i.gdprApplies)?i.gdprApplies?Ft.b.yes:Ft.b.no:void 0,dsa:r}}}if(!(0,Rt.b)()){const e=Dt.currentValue;t.device.geo={country:e?.geo?.country?.alpha3,lat:e?.geo?.location?.latitude,lon:e?.geo?.location?.longitude,accuracy:e?.geo?.location?.accuracyRadius,ipservice:3,city:e?.geo?.city?.name,zip:e?.geo?.city?.zip}}const a=Vt(bt.readConfig("ortb2")??{},t);bt.setConfig({ortb2:a})})(this.#Fe);const s=1e3*a;Ta(`Starting auction with id #${e}`),this.#qe[e]={noBids:[],timeouts:[],rejectedBids:[],userIdsByBidId:{},floorByBidId:{}};const d={auctionId:e,adUnits:r,timeout:s};this.#Fe.paapiOptions?.enabled&&(d.bidsBackHandler=()=>{Xe.setPAAPIConfigForGPT()});const{bids:l={}}=await bt.requestBids(d),p=this.#qe[e]?.noBids,c=this.#qe[e]?.timeouts,m=this.#qe[e]?.rejectedBids;Aa(`Ended auction with id #${e}`,{responses:l,timeouts:c,noBids:p});const u=[];for(const e of Object.values(l))e&&u.push(...e.bids);return{bids:u?.map(this.#Je(e,r))??[],noBids:p??[],timeouts:c??[],rejectedBids:m?.map(this.#Je(e,r))??[]}}}const{warn:Ra,error:ka}=et.a.tag("module:prebid"),Ea={markBidWon(e){try{const t=_.a.findBidByAdId(e);if(!t)return Ra(`No bid found with id #${e} to mark as won`);t.status=d.a.RENDERED,t.ad=ma(t.ad,t.originalCpm),t.adUrl=ma(t.adUrl,t.originalCpm),_.a.addWinningBid(t),x.emit(d.EVENTS.BID_WON,t)}catch(e){ka("Error setting prebid winning bid",e)}},findPrebidRenderer(e){const t=_.a.findBidByAdId(e);if(!t)return;const i=t.renderer;return i?()=>{i.render(t)}:void 0}};gt.c.add(ca.a,(e=>new Ca(e))),gt.g.provide(Ea);var Ma=i(95);const Oa=e=>!!e.prebid,{table:Ua,debug:Ba,info:Pa,warn:Na,error:ja}=et.a.tag("Prebid");class za{#n;#Qe={};#et=[];#tt=(0,li.a)((()=>{this.#it()}),.5);#at=[];constructor(e){this.#n=e,this.#n.bus.on(ti.a.refresh,this.#nt),this.#n.bus.on(ti.a.impression,this.#te);for(const{name:t,value:i}of gt.c.list())try{this.#et.push(i(e))}catch(e){ja(`Error instantiating content-provider '${t}'`,e)}}#rt=e=>{if(!ei.f)return;const t=e.flatMap((e=>{const t=[];for(const i of e.bids){const a=Object.entries(i.params).map((([e,t])=>`${e}=${t}`)).join(", "),n=(0,di.b)(e.mediaTypes,i),r=n.banner&&`banner=${JSON.stringify(n.banner.sizes)}`,o=n.native&&`native=${JSON.stringify(n.native)}`,s=n.skin&&`skin=${JSON.stringify(n.skin)}`,d=[r,o,n.outstream&&`outstream=${JSON.stringify(n.outstream.playerSize)}`,s,n.instream&&`instream=${JSON.stringify(n.instream.playerSize)}`,n.nativeBanner&&`nativeBanner=${JSON.stringify(n.nativeBanner)}`].filter((e=>e)).join(" / ");t.push({placement:e.code,mediaType:d,bidder:i.bidder,params:a})}return t}));Ua(t)};#ot=e=>{ei.f&&Ua(e.map((({placementId:e,creativeId:t,width:i,height:a,bidder:n,cpm:r,currency:o,fetchDuration:s,mediaType:d})=>({placement:e,bidder:n,size:`${i}x${a}`,mediaType:d,cpm:r,currency:o,latency:s,creativeId:t}))))};#it=()=>{if(0===this.#at.length)return;const e=this.#at;this.#at=[];const t=e.map((e=>{const t=e.content.bidResponse;return{placement:t.placementId,bidder:t.bidder,size:`${t.width}x${t.height}`,dealId:t.dealId,mediaType:t.mediaType,cpm:t.cpm,currency:t.currency,creativeId:t.creativeId}}));Pa("Impressions"),Ua(t)};#st=e=>{if((0,Rt.b)()&&this.#n.globalSettings.sublime?.skipScriptLoadOnNoConsent)return Promise.resolve();if(gt.a.items[ft.a.Sublime]){const i=((e,t)=>{for(const i of e){const e=i.bidRequest.bids.find((e=>e.bidder===ft.a.Sublime||t[e.bidder]===ft.a.Sublime));if(e)return e}})(e.placements,this.#n.globalSettings.bidderAliases);if(i?.params.zoneId)return t=i.params.zoneId,(0,Ma.a)(`//sac.ayads.co/sublime/${t}/prebid`)}var t;return Promise.resolve()};#dt=async e=>{const t=this.#st(e.config),i={shouldAbortAuction:!1},{preAuctionStep:a}=this.#n.globalSettings;try{Object.assign(i,await(a?.(e)))}catch(e){ja("preAuctionStep error",e)}for(const e of await Promise.allSettled([t]))"rejected"===e.status&&ja("vendor preAuctionStep error",e.reason);return i};#lt=async(e,t)=>{const{postAuctionStep:i}=this.#n.globalSettings;try{await(i?.(e,t))}catch(e){ja("postAuctionStep error",e)}};#te=e=>{Oa(e.renderable.content.bidResponse)&&gt.g.value?.markBidWon(e.renderable.content.bidResponse.bidId),this.#at.push(e.renderable),this.#tt()};#pt=e=>{const t=vt(this.#n.globalSettings,e);bt.setConfig({userSync:{filterSettings:t}})};#nt=async e=>{const t=e.auctionId,i=e.refreshConfig,a=performance.now(),{shouldAbortAuction:n}=await this.#dt({config:i,auctionId:t,bus:this.#n.bus}),r=performance.now(),o=pi(r-a);this.#pt(i.placements);const s=Qe.a.currentValue;if(!e.shouldContinueAuction||n)return this.#ct(t,i,s,e.startOrder);const d=this.#n.globalSettings;i.placements.find((e=>e.bidRequest.bids.find((e=>e.bidder===ft.a.ttdDirectPath||d.bidderAliases[e.bidder]===ft.a.ttdDirectPath))))&&await si({consent:d.consent}),((e,t)=>{const i={contentBlocklist:e.ortb?.contentBlocklist,domainBlocklist:e.ortb?.domainBlocklist,assumeRequestSizeForEmptyResponseSize:e.ortb?.assumeRequestSizeForEmptyResponseSize};e.ortb&&(i.context={publisherId:!1===e.ortb?.useLowerCasePublisherId?e.publisherId:e.publisherId.toLowerCase(),publisherName:e.ortb.publisherName,publisherDomain:e.ortb.publisherDomain,siteDomain:e.ortb.siteDomain??e.ortb.publisherDomain,siteId:e.ortb.siteId??t.context.supportCode,supportCode:t.context.supportCode,pageZone:t.context.pageZone,networkCode:t.context.networkCode,iabCategories:e.ortb?.iabCategories,dsaParams:e.ortb?.dsaParams}),bt.setConfig({hubvisor:i})})(d,i),Ba("Bid fetch started");const{placements:l}=i,p=l.map((e=>({...e.bidRequest,code:e.placementId})));if(0===p.reduce(((e,t)=>e+t.bids.length),0))return Pa("No placement found for this page, skipping auction"),this.#ct(t,i,s,e.startOrder);Pa(`Fetching bids for ${p.length} placement(s):`),this.#rt(p),this.#mt(t,i,s,e.startOrder);const c=performance.now(),m=await Promise.all(this.#et.map((e=>e.provideContent(t,i)))),u=pi(performance.now()-c),b=m.reduce(((e,t)=>(e.bids.push(...t.bids),e.noBids.push(...t.noBids),e.timeouts.push(...t.timeouts),e.rejectedBids.push(...t.rejectedBids),e)),{bids:[],noBids:[],timeouts:[],rejectedBids:[]}),f={preAuctionDuration:o,auctionDuration:u};this.#ut(t,b.bids,b.noBids,b.timeouts,b.rejectedBids,f)};#ct=(e,t,i,a)=>{this.#mt(e,t,i,a),this.#ut(e,[],[],[],[],{preAuctionDuration:0,auctionDuration:0})};#mt=(e,t,i,a)=>{this.#Qe[e]={config:t,consent:i,startOrder:a},Pa("Auction started",e,t),this.#bt({auctionId:e,config:t,consent:i,startOrder:a})};#ut=async(e,t,i,a,n,r)=>{const o=this.#Qe[e];if(!o)return Na("An auction finished but no associated metadata was found! This auction has probably not been started by the wrapper and will be ignored");const{config:s,consent:d,startOrder:l}=o,{preAuctionDuration:p,auctionDuration:c}=r;Pa(`${t.length} bid responses after ${c/1e3}s`),this.#ot(t);const m=performance.now();await this.#lt(t,s);const u=performance.now(),b=pi(u-m),f=[...a,...t,...i,...n].reduce(((e,t)=>{for(const i of t.userIdPartners)e.add(i);return e}),new Set);this.#ft({auctionId:e,startOrder:l,duration:c,timeouts:a,bids:t,noBids:i,rejectedBids:n,config:s,consent:d,preAuctionDuration:p,postAuctionDuration:b,userIdPartners:[...f]})};#bt=e=>{this.#n.bus.emit(ti.a.auctionStarted,e)};#ft=e=>{this.#n.bus.emit(ti.a.auctionFinished,e)}}var qa=i(58),$a=i(38),Fa=i(97),Va=i(22);const{error:La}=et.a.tag("Formats"),Ga=async(e,t,i="about:blank")=>{const a=e.createElement("iframe");a.src=i,a.style.overflow="hidden",a.style.display="inline",(0,$a.l)(a,{width:t.width,height:t.height});const n=(0,Va.a)();if(a.onload=()=>{n.resolve()},e.body.append(a),await n.promise,!a.contentDocument)throw new _a.b(_a.a.iframeDocumentNotFound,`iframe contentDocument not found: this should not happen (${t.bidder} on ${t.placementId})`);return a.contentDocument},Wa=async(e,t)=>{const{bid:i,creativeType:a}=t,n=gt.g.value?.findPrebidRenderer(i.bidId);if(n)n();else if(i.adMarkup){const a=t.useInnerFrame?await Ga(e,i):e;a.open(),t.afterDocumentOpen?.(a),a.write(i.adMarkup),a.close()}else if(i.adUrl)try{await Ga(e,i,i.adUrl)}catch{}else La("there was an error displaying a bid",i);(0,Fa.c)(e,i,{creativeType:a})},{warn:Ha}=et.a.tag("Skin"),{debug:Xa,warn:Ya,error:Ja}=et.a.tag("native"),Ka="data-hbv-clk",Za="data-hbv-jstracker",Qa="data-hbv-container-id",en=async e=>{try{const t=e.map((e=>fetch(e).then((e=>{if(!e.ok)throw new Error(`http status: ${e.statusText}`)}))));await Promise.all(t),Xa("click tracking complete")}catch(e){Ya("click tracking failed",e)}},tn=(e,t,i)=>{if(!t.javascriptTrackers)return;const a=(0,Tt.c)(t.javascriptTrackers)?t.javascriptTrackers.join(""):t.javascriptTrackers;e.innerHTML=i?a.replace("%native_dom_id%",i):a;for(const t of e.getElementsByTagName("script")){const i=Object.values(t.attributes).reduce(((e,t)=>((0,Tt.i)(t.nodeValue)&&(e["data-src"===t.nodeName?"src":t.nodeName]=t.nodeValue),e)),{}),a=document.createElement("script");a.innerHTML=t.innerHTML,t.remove(),e.append(Object.assign(a,i))}};var an=i(71),nn=i(98),rn=i(44);const{info:on,error:sn}=et.a.tag("outstream-player"),{debug:dn,error:ln}=et.a.tag("sf:host:intersection"),pn=e=>e?`{ x: ${e.left}, y: ${e.top}, width: ${e.width}, height: ${e.height} }`:"{  }",cn=e=>e.defaultView?.frameElement??null,mn=e=>{if(!e)return null;if((0,$a.e)(e))return cn(e);const t=e.parentNode;return t?(0,$a.j)(t)?t.host:(0,$a.f)(t)&&t.assignedSlot?t.assignedSlot.parentNode:t:null},un=(e,t)=>{const i=e.top+t.top,a=e.left+t.left;return{top:i,left:a,width:t.width,height:t.height,bottom:i+t.height,right:a+t.width}},bn=(e,t)=>{if(!e||!t)return null;const i=Math.max(e.top,t.top),a=Math.min(e.bottom,t.bottom),n=Math.max(e.left,t.left),r=Math.min(e.right,t.right),o=r-n,s=a-i;return o<=0||s<=0?null:{top:i,bottom:a,left:n,right:r,width:o,height:s}},fn=e=>"none"===getComputedStyle(e).display,gn=(e,t)=>(0,$a.e)(e)?((e,t)=>{const i=cn(e);if(e!==document&&i){const e=i.getBoundingClientRect(),a=un(e,t.boundingRect),n=!fn(i),r=t.intersectionRect&&n?bn(e,un(e,t.intersectionRect)):null,{zIndex:o}=t;return pn(e),pn(a),{nextParent:mn(i),measurement:{boundingRect:a,intersectionRect:r,zIndex:o}}}{const i=(e=>{const t=e.documentElement,i=e.body;return{top:0,left:0,right:t.clientWidth??i.clientWidth,width:t.clientWidth??i.clientWidth,bottom:t.clientHeight??i.clientHeight,height:t.clientHeight??i.clientHeight}})(e),{boundingRect:a,zIndex:n}=t,r=bn(i,t.intersectionRect);return pn(a),pn(i),{nextParent:null,measurement:{boundingRect:a,intersectionRect:r,zIndex:n}}}})(e,t):((e,t)=>{const i=mn(e),{zIndex:a,boundingRect:n}=t;if((e=>{const t=e.ownerDocument,i=e===t?.body,a=e===t?.documentElement,n=!(0,$a.f)(e)||"visible"!==getComputedStyle(e).overflow;return!i&&!a&&n})(e)){const r=(e=>{try{return e.getBoundingClientRect()}catch(t){return e.nodeName,null}})(e),o=bn(r,t.intersectionRect);return pn(r),pn(t.intersectionRect),{nextParent:i,measurement:{boundingRect:n,intersectionRect:o,zIndex:a}}}return{nextParent:i,measurement:{boundingRect:n,intersectionRect:t.intersectionRect,zIndex:a}}})(e,t),yn=e=>{const t=(e=>{try{let t=(e=>({measurement:{boundingRect:e.getBoundingClientRect(),intersectionRect:fn(e)?null:e.getBoundingClientRect(),zIndex:0},nextParent:mn(e)}))(e);for(;t.nextParent;)t.nextParent,t=gn(t.nextParent,t.measurement),pn(t.measurement.intersectionRect),pn(t.measurement.boundingRect);return t.measurement}catch(e){return ln("Error measuring visibility:",e),{boundingRect:{top:0,right:0,bottom:0,left:0,width:0,height:0},intersectionRect:null,zIndex:0}}})(e),{top:i,left:a,bottom:n,right:r,width:o,height:s}=t.boundingRect,d=t.intersectionRect?.width??0,l=t.intersectionRect?.height??0,p=o>0?d/o:0,c=s>0?l/s:0,m=p*c;return{t:i,l:a,r,b:n,xiv:pi(p),yiv:pi(c),iv:pi(m),z:t.zIndex,w:o,h:s}},hn=()=>{const e=window,t=e.innerHeight??0,i=e.innerWidth??0,a=e.screenY??e.screenTop??0,n=a+t,r=e.screenX??e.screenLeft??0;return{t:a,r:r+i,b:n,l:r,w:i,h:t}},vn=e=>({win:hn(),self:yn(e),exp:{t:0,l:0,r:0,b:0,xs:!1,ys:!1}}),_n=e=>(0,Tt.m)(e)&&(e=>(0,Tt.m)(e)&&(0,Tt.l)(e.t)&&(0,Tt.l)(e.l)&&(0,Tt.l)(e.r)&&(0,Tt.l)(e.b)&&(0,Tt.l)(e.xiv)&&(0,Tt.l)(e.yiv)&&(0,Tt.l)(e.iv)&&(0,Tt.l)(e.z)&&(0,Tt.l)(e.w)&&(0,Tt.l)(e.h))(e.self)&&(e=>(0,Tt.m)(e)&&(0,Tt.l)(e.t)&&(0,Tt.l)(e.b)&&(0,Tt.l)(e.l)&&(0,Tt.l)(e.r)&&(0,Tt.l)(e.w)&&(0,Tt.l)(e.h))(e.win)&&(e=>(0,Tt.m)(e)&&(0,Tt.l)(e.t)&&(0,Tt.l)(e.l)&&(0,Tt.l)(e.r)&&(0,Tt.l)(e.b)&&((0,Tt.l)(e.xs)||(0,Tt.e)(e.xs))&&((0,Tt.l)(e.ys)||(0,Tt.e)(e.ys)))(e.exp),In={error:e=>(0,Tt.m)(e)&&(0,Tt.l)(e.code)&&(0,Tt.q)(e.message),ready:e=>(0,Tt.m)(e)&&(0,Tt.q)(e.placementId),render:e=>(0,Tt.m)(e)&&(e=>(0,Tt.m)(e)&&(0,Tt.l)(e.cpm)&&((0,Tt.q)(e.adMarkup)||(0,Tt.q)(e.adUrl))&&(0,Tt.q)(e.bidId)&&(0,Tt.l)(e.width)&&(0,Tt.l)(e.height)&&(0,Fa.b)(e))(e.bid)&&(e=>(0,Tt.m)(e)&&(0,Tt.q)(e.url)&&(0,Tt.q)(e.domain))(e.metadata)&&(0,Tt.m)(e.safeFrame)&&(0,Tt.e)(e.safeFrame.hasFocus)&&_n(e.safeFrame.geom)};var wn=i(67);const{debug:xn}=et.a.tag("channel");class Tn{#$=new wn.a;#n;constructor(e){const{source:t,...i}=e;this.#n={...i},this.open(t??window)}close=()=>{this.#n.source&&(this.#$.clear(),this.#n.source.removeEventListener("message",this.#gt),this.#n.source=void 0,xn(`'${this.#n.name}' closed`))};open=e=>{this.close(),this.#n.source=e,this.#n.source.addEventListener("message",this.#gt),xn(`'${this.#n.name}' channel opened with namespace '${this.#n.namespace}'`)};#yt=e=>{const[t,i]=e;if(!(0,Tt.q)(t))return!1;const a=this.#n.validators[t];return!!a?.(i)};#ht=e=>{try{return JSON.parse(e)}catch{}};#gt=e=>{try{if(e.source!==this.#n.target)return;if(!(0,Tt.q)(e.data))return;const t=this.#ht(e.data);if(!t)return;const{event:i,params:a,ns:n}=t;if(n!==this.#n.namespace)return;if(!this.#yt([i,a]))throw new Error("couldn't validate message data");xn(`'${this.#n.name}' received a message '${i}'`,a),this.#$.dispatch(i,a)}catch(e){xn(`'${this.#n.name}' error handling message`,e)}};once=this.#$.once;on=this.#$.on;off=this.#$.off;#vt=(e,t)=>JSON.stringify({ns:this.#n.namespace,event:e,params:t});emit=(e,t)=>{this.#n.target.postMessage(this.#vt(e,t),"*"),xn(`'${this.#n.name}' sent message '${String(e)}'`,t)}}const Dn=(e,t,i)=>{const a=1e3*t,n={lastCallMoment:0},r={leading:!0,trailing:!0,...i},o=()=>{n.lastCall&&(n.result=e.apply(n.lastCall.context,n.lastCall.args),n.lastCall=void 0)},s=()=>{n.timeout&&(clearTimeout(n.timeout),n.timeout=void 0)};function d(...e){const t=Date.now();n.lastCallMoment||r.leading||(n.lastCallMoment=t);const i=t-n.lastCallMoment,d=a-i;return n.lastCall={context:this,args:e},d<=0||d>a?(s(),n.lastCallMoment=t,o()):!n.timeout&&r.trailing&&(n.timeout=window.setTimeout((()=>{n.lastCallMoment=r.leading?Date.now():0,n.timeout=void 0,o()}),d)),n.result}return d.cancel=()=>{s(),n.lastCallMoment=0,n.lastCall=void 0},d},An={register:e=>(0,Tt.m)(e)&&(0,Tt.l)(e.w)&&(0,Tt.l)(e.h),updateGeom:e=>(0,Tt.m)(e)&&(0,Tt.e)(e.hasFocus)&&_n(e.geom)},{debug:Sn}=et.a.tag("safeframe:host");class Cn{#_t=!1;#It=new Set;add=e=>{this.#It.add(e),this.#wt()};remove=e=>{this.#It.delete(e),this.#xt()};#wt=()=>{this.#_t||(this.#_t=!0,document.addEventListener("visibilitychange",this.#Tt),addEventListener("scroll",this.#Dt))};#xt=()=>{this.#It.size>0||this.#_t&&(this.#_t=!1,document.removeEventListener("visibilitychange",this.#Tt),removeEventListener("scroll",this.#Dt))};#At=Dn((()=>{for(const e of this.#It)e.updateGeom()}),1,{leading:!1,trailing:!0});#Tt=()=>{this.#At()};#Dt=()=>{this.#At()};static shared=new Cn}class Rn{#St;#Ct;constructor(e,t){this.#St=e;const i=e.contentWindow;if(!i)throw new _a.b(_a.a.safeframeHostFrameWindowNotAvailable,`couldn't obtain target for safeframe channel for frame #${e.id}`);this.#Ct=new Tn({name:`safeframe:host:${t}`,namespace:"hbv:sf:v1",validators:An,target:i}),this.#Ct.on("register",(()=>{Sn("register")})),Cn.shared.add(this)}updateGeom=()=>{const e="visible"===document.visibilityState,t=vn(this.#St);this.#Ct.emit("updateGeom",{hasFocus:e,geom:t})};dispose=()=>{Cn.shared.remove(this),this.#Ct.close()}}const{error:kn}=et.a.tag("sandbox:host");class En{#Rt;#St;#kt;#Ct;constructor(e){this.#Rt=e}#Et=e=>{this.dispose();try{this.#St=e;const t=this.#St.contentWindow;if(!t)throw new _a.b(_a.a.sandboxHostFrameWindowNotAvailable,`couldn't obtain target for sandbox channel for placement '${this.#Rt.placementId}'`);this.#Ct=new Tn({name:`sandbox:host:${this.#Rt.placementId}`,namespace:"hbv:sandbox",validators:In,target:t}),this.#Ct.on("error",this.#Mt),this.#Ct.on("ready",this.#Ot),this.#kt=new Rn(e,this.#Rt.placementId)}catch(e){throw this.dispose(),e}};#Mt=e=>{(0,Ia.a)(new _a.b(e.code,`sandbox client reported error with code #${e.code}: ${e.message}`)),this.dispose()};#Ot=e=>{this.#Rt.placementId!==e.placementId&&kn(`received 'ready' with wrong placementId; expected '${this.#Rt.placementId}' received '${e.placementId}'`),this.#Ut()};#Ut=()=>{if(!this.#Ct||!this.#St)return(0,Ia.a)(new _a.b(_a.a.sandboxHostRenderWithoutChannel,`cannot render sandbox content without target for placement ${this.#Rt.placementId}`));const{width:e,height:t,cpm:i,adMarkup:a,adUrl:n,bidId:r,bidder:o,creativeId:s,placementId:d}=this.#Rt,l=location.href,p=location.hostname,c="visible"===document.visibilityState,m=vn(this.#St);this.#St.classList.add("hbv-ready"),this.#Ct.emit("render",{bid:{width:e,height:t,cpm:i,adMarkup:a,adUrl:n,bidId:r,bidder:o,creativeId:s,placementId:d},metadata:{url:l,domain:p},safeFrame:{hasFocus:c,geom:m}})};dispose=()=>{this.#kt?.dispose(),this.#kt=void 0,this.#Ct?.close(),this.#Ct=void 0,this.#St?.remove(),this.#St=void 0};static render=(e,{publisherId:t,bidResponse:i})=>{const{width:a,height:n}=i,r=encodeURIComponent(i.placementId),o=new En(i),s=e.createElement("iframe");return(0,$a.l)(s,{width:a,height:n}),s.classList.add("hbv-sandbox"),s.setAttribute("sandbox","allow-forms allow-popups allow-popups-to-escape-sandbox allow-scripts allow-top-navigation-by-user-activation allow-same-origin"),s.src=`https://s.hubvisor.io/wrapper/${t}/sandbox.html?pid=${r}`,e.body.append(s),o.#Et(s),o}}const{error:Mn}=et.a.tag("formats:util:iframe"),{warn:On,error:Un}=et.a.tag("observer"),{error:Bn}=et.a.tag("Parallax"),{debug:Pn}=et.a.tag("rich-media"),Nn=[ft.a.Sublime,ft.a.ogury,ft.a.hbvRichmedia,ft.a.Teads,ft.a.Adyoulike,ft.a.richaudience,ft.a.Invibes,ft.a.visx,ft.a.Freewheel,ft.a.seedtag,ft.a.relaido,ft.a.impactify,ft.a.bliink,ft.a.beop],jn=(e,t)=>{const i=t.bidderAliases;if(Nn.some((t=>i[e.bidder]===t||t===e.bidder)))return!0;const a=i[e.bidder]===ft.a.TripleLift||e.bidder===ft.a.TripleLift;return!(!a||e.displayFormat!==wa.a.nativeBanner)||!(!a||e.displayFormat!==wa.a.outstream)},zn=(e,t)=>({...e,...t,customPosition:{...e?.customPosition,...t?.customPosition},parallax:{enabled:!1,...e?.parallax,...t?.parallax}}),qn=(e,t,i)=>{try{return e.overrideRichMediaSettings?.(t,i)}catch(e){const t=new _a.b(_a.a.overrideRichMediaOptionsFailed,e);(0,Ia.a)(t,"overrideRichMediaSettings error")}},$n=async(e,t)=>{const{resolvedBid:i,placement:a,options:n}=t,{bidResponse:r}=i,{customPosition:o,shouldHideFrame:s=!1,shouldSetupDAP:d=!0,useSandbox:l=!1,parallax:p,customRendering:c}=(({placement:e,options:t,resolvedBid:i})=>{const a=[ft.a.Sublime,ft.a.hbvRichmedia,ft.a.Invibes].some((e=>t.globalSettings.bidderAliases[i.bidResponse.bidder]===e||e===i.bidResponse.bidder)),n=1===i.bidResponse.width&&1===i.bidResponse.height&&(t.globalSettings.bidderAliases[i.bidResponse.bidder]===ft.a.Teads||ft.a.Teads===i.bidResponse.bidder),r="video"===i.bidResponse.mediaType||n||a||!(0,Tt.r)(e.rendering?.richMedia?.customRendering);return[e.rendering?.richMedia,qn(t.globalSettings,e,i.bidResponse)].reduce(zn,{shouldHideFrame:r})})(t),m=!(0,Tt.r)(c)&&"banner"===r.mediaType,u=(({bidResponse:e,parallax:t,globalSettings:i})=>!!t?.enabled&&!jn(e,i)&&"video"!==e.mediaType)({bidResponse:r,parallax:p,globalSettings:n.globalSettings}),b=(n.globalSettings.bidderAliases[r.bidder]===ft.a.Teads||r.bidder===ft.a.Teads)&&1===r.width&&1===r.height&&"banner"===r.mediaType;let f=await(async({initialDocument:e,customPosition:t,parallax:i,renderParams:a})=>{const n=((e,t)=>{const i=t?.selector;if(!i)return e;const a=(e=>{const t=document.querySelector(e);if(!t){const t=new _a.b(_a.a.customInsertionPointNotFound,`Couldn't find insertion point w/ selector ${e}`);return(0,Ia.a)(t),null}const i=document.createElement("iframe");return t.insertBefore(i,t.firstChild),i})(i);if(!a)return e;const n=e?.defaultView?.frameElement;return(0,$a.h)(n)&&(0,$a.d)(n),a.contentWindow?.document??e})(e,t);return i?.enabled?(async(e,t)=>{const{resolvedBid:{bidResponse:i},placement:a}=t,n=a.rendering?.richMedia?.parallax??{enabled:!0};let r;try{r=(({targetHeight:e,targetRatio:t,width:i})=>{if(i<=0)return 0;if((0,Tt.i)(e)&&e<=0)throw new _a.b(_a.a.onParallaxInvalidParameters,`Invalid targetHeight of ${e} on parallax`);if((0,Tt.i)(t)&&t<=0)throw new _a.b(_a.a.onParallaxInvalidParameters,`Invalid targetRatio of ${t} on parallax`);return e||(t?i/t:310)})({targetHeight:n.targetHeight,targetRatio:n.targetRatio,width:i.width})}catch(e){(0,Ia.a)(e,"Fallback to targetHeight = 0"),r=0}if(i.height<=r)return e;const o=e.defaultView?.frameElement;if(!(0,$a.h)(o))return Bn("No outer frame provided for parallax rendering, aborting",e),e;const s=n.topInset??0,d=n.bottomInset??0,l=()=>{(0,$a.l)(o,{width:i.width,height:r}),(0,$a.m)(o,{width:`${i.width}px`,height:`${r}px`}),e.body.style.height=`${r}px`,e.body.style.overflowY="hidden"};l();const p=(0,li.a)(l,.01);new MutationObserver((e=>{for(const t of e)if("attributes"===t.type){const e=t.target;if(!(0,$a.f)(e))continue;const{width:a,height:n}=e.getBoundingClientRect();a===i.width&&n===r||p()}})).observe(o,{attributes:!0});const c=e.createElement("div");c.style.width="100%",c.style.height="100%",c.style.overflowY="hidden";const m=e.createElement("iframe");(0,$a.l)(m,{id:`parallax-inner-${i.placementId}`,width:i.width,height:i.height}),c.append(m),e.body.append(c);const u=()=>{const e=o.getBoundingClientRect(),t=s,a=innerHeight-e.height-d,n=1/(a-t),r=-t*n,l=(1-(Math.max(Math.min(a,e.top),t)*n+r))*(i.height-e.height);c.scrollTop=l},b=await(0,$a.n)(m);if(!b)return Bn("Somehow parallaxDoc is still not usable... Falling back to non-parallax rendering"),e;const{observedElementSelector:f}=n;return((e,{triggerInitially:t=!1,observedElementSelector:i}={})=>{const a=(e=>{let t;return{listener(i){t||(t=window.requestAnimationFrame((()=>{t=void 0,e(i)})))},cancel(){t??=window.cancelAnimationFrame(t)}}})(e);((e,t,i)=>{for(const t of["scroll","resize"])e.addEventListener(t,i)})((e=>{if(e)try{const t=document.querySelector(e);if(t)return t;On(`Couldn't find element w/ selector "${e}", using window instead`)}catch(t){Un(`Failed to find element w/ selector "${e}"`,t)}return window})(i),0,a.listener),t&&a.listener()})(u,{observedElementSelector:f}),u(),b})(n,{...a,...i}):n})({initialDocument:e,customPosition:o,parallax:u?p:void 0,renderParams:t});if(Pn(`rendering '${a.placementId}' { safeframe : ${l}, parallax: ${u}, hidden: ${s}, DAP: ${d} }`),s){const e=f.defaultView?.frameElement;(0,$a.h)(e)&&((0,$a.d)(e),b&&((e,t)=>{document.getElementById(t.placementId)||((e,t)=>{const i=document.createElement("div");i.id=t.placementId;const a=(0,Fa.a)(document,t,{creativeType:"nativeBanner"});i.append(a),e?.parentElement&&e.parentElement.append(i)})(e,t)})(e,r))}else((e,t,i)=>{const{width:a,height:n}=i,r=e.defaultView?.frameElement;(0,$a.h)(r)?(0,$a.l)(r,{width:a,height:n}):Mn("couldn't prepare frame")})(f,0,r);const g=!jn(r,n.globalSettings)&&"banner"===r.mediaType;m&&(f=((e,t,i,a)=>{const{placementId:n,width:r,height:o}=i,s=(0,Tt.i)(t.defaultView?.frameElement)?t.defaultView?.frameElement:void 0;if(a.placement.rendering?.renderer===qa.a.hsc&&s){if((0,$a.l)(s,{width:r,height:o}),e(s,i),!(0,$a.k)(t)){const e=new _a.b(_a.a.customRichMediaNullDocument,"Couldn't render custom richMedia format: iframe document isn't usable");(0,Ia.a)(e)}return t}const d=document.createElement("iframe");if((0,$a.l)(d,{width:r,height:o,id:`hbv-rich-media-render-${n}`}),e(d,i),!(0,$a.k)(d.contentDocument)){const e=new _a.b(_a.a.customRichMediaTargetElementNotUsable,"Couldn't render custom richMedia format: target element document isn't usable");return(0,Ia.a)(e),t}return d.contentDocument})(c,f,r,t));const y=r.meta?.dsa,h=n.globalSettings.dsaRendering;if(y&&!y.adrender&&n.globalSettings.ortb?.dsaParams?.enabled&&h){const t="banner"===r.mediaType?e.getElementsByTagName("body")[0]:document.getElementById(r.placementId);t&&((e,t,i)=>{const a=document.createElement("button");a.classList.add("dsa-button"),a.innerText="i";const n=e.parentElement;n&&(n.style.position="relative"),e?.appendChild(a),a.addEventListener("click",(()=>{const e=i(t),a=document.getElementsByTagName("body");a[0]?.appendChild(e)}),{capture:!0,once:!1,passive:!0}),(0,$a.b)(e.ownerDocument,"dsa-button-style","\n    .dsa-button {\n      position: absolute;\n      top: 1px;\n      left: 1px;\n      background: white;\n      color: #00aecd;;\n      border: none;\n      padding: 0;\n      font: inherit;\n      cursor: pointer;\n      outline: inherit;\n      height: 15px;\n      width: 15px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      z-index: 999;\n    }\n  ")})(t,y,h)}if(!l||!g)return Wa(f,{bid:r,creativeType:"rich-media",useInnerFrame:!0,afterDocumentOpen:e=>{d&&(e=>{e.defaultView&&(e.defaultView.inDapIF=!0)})(e)}});{const{publisherId:e}=n.globalSettings;En.render(f,{publisherId:e,bidResponse:r})}},Fn=(e,t,i,a)=>(e.addEventListener(t,i,a),(0,ct.a)((()=>e.removeEventListener(t,i,a)))),Vn=(e,t,i,a)=>{const n=Fn(e,t,(e=>{n(),i(e)}),a);return n},Ln=e=>{const t=(0,ct.a)((()=>{e.duration&&e.element.style.removeProperty("transition"),e.done?.()}));if(e.duration){const i=Object.keys(e.properties).map((t=>`${t} ${e.duration}s ease`)).join(",");e.element.style.setProperty("transition",i),Vn(e.element,"transitionend",t),Vn(e.element,"transitioncancel",t)}for(const[t,i]of Object.entries(e.properties))e.element.style.setProperty(t,i);e.duration||t()},{error:Gn}=et.a.tag("Amazon"),Wn={"rich-media":$n,native:(e,{options:t,resolvedBid:i})=>{{const{globalSettings:a}=t,{bidResponse:n}=i;return(async({doc:e,globalSettings:t,bidResponse:i})=>{{const{nativeRendering:a}=t;if(!a||!(0,Tt.g)(a)){const e={placementId:i.placementId,bidder:i.bidder,mediaType:i.mediaType,creativeId:i.creativeId},a=new _a.b(_a.a.noNativeRenderer,`Couldn't render native format without providing nativeRendering callback: ${JSON.stringify(e)}`);return(0,Ia.a)(a,t,i)}try{await a(e,{bidResponse:i}),(()=>{for(const e of document.querySelectorAll(`[${Ka}]`))try{const t=e.getAttribute(Ka);if(!t||"undefined"===t)continue;const i=(0,St.a)(JSON.parse(t));e.addEventListener("click",(()=>{en(i)}),!1),e.removeAttribute(Ka)}catch(t){Ja("Couldn't setup click tracking attribute from item",e,t)}})(),(e=>{for(const t of document.querySelectorAll(`[${Za}]`)){const i=t.getAttribute(Za),a=t.getAttribute(Qa)??`hbv-native-${e.placementId}`;if(i&&(0,wa.b)(e.native)){try{const i=e.native.prebid;tn(t,i,a)}catch(e){Ja("Couldn't insert JsTrackers",e)}t.removeAttribute(Za),t.removeAttribute(Qa)}}})(i)}catch(e){(0,Ia.a)(e,`error rendering format native for content with creativeid #${i.creativeId} from ${i.bidder} on placement ${i.placementId}: ${JSON.stringify(i.native)}`)}}})({doc:e,globalSettings:a,bidResponse:n})}},skin:async(e,t)=>{const{options:{globalSettings:i},resolvedBid:{bidResponse:a}}=t,{skinRendering:n}=i;if(!n){const e=new _a.b(_a.a.noSkinRenderer,"can't render skin format without providing skinRendering callback");return(0,Ia.a)(e,i,a)}const r=e.defaultView?.frameElement;(0,$a.h)(r)?(0,$a.d)(r):Ha(`No initial frame found for content with id '${a.bidId}'`);const{width:o,height:s}=a,d=document.createElement("iframe");(0,$a.l)(d,{width:o,height:s,id:"hbv-custom-render"}),(0,$a.m)(d,{position:"absolute",top:"0",left:"50%",transform:"translate(-50%, 0)"});try{await n(d,{bidResponse:a})}catch(e){return(0,Ia.a)(e,`error rendering format skin for content with id #${a.bidId}`)}(0,$a.o)(d,(()=>{if(!(0,$a.k)(d.contentDocument)){const e=new _a.b(_a.a.skinFrameNullDocument,"Couldn't render skin format: skin iframe document isn't usable");return(0,Ia.a)(e)}Wa(d.contentDocument,{bid:a,creativeType:"skin",useInnerFrame:!0})}))},intrastitial:(e,t)=>{{const i=e.defaultView?.top;if(!i)throw new Error("top window couldn't be retrieved");const a=i.document;a.getElementById("hbv-container")?.remove();const n=a.createElement("div");n.id="hbv-container";const r=(0,$a.b)(document,"hbv-intrastitial","\n  html {\n    overflow: hidden;\n  }\n  #hbv-container {\n    background: rgba(0, 0, 0, 0.6);\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    z-index: 90000000;\n    opacity: 0;\n  }\n  "),o=t.resolvedBid.bidResponse,s=`hbv-${t.placement.placementId}`,d=a.createElement("iframe");(0,$a.l)(d,{width:o.width,height:o.height,id:s}),Object.assign(d.style,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"});const l=a.createElement("div");l.id="hbv-interstitial-div",n.append(l);const p=document.createElement("button");p.id="hbv-intrastitial-close",p.innerText="",Object.assign(p.style,{color:"#FFF",position:"absolute",top:"6px",right:"6px",background:"rgba(0, 0, 0, 0.3)",borderRadius:"9999px",width:"26px",height:"26px",display:"flex",justifyContent:"center",alignItems:"center"});const c=(0,ct.a)((()=>{Ln({element:n,properties:{opacity:"0"},duration:.3,done:()=>{n.remove(),r.remove()}})}));p.addEventListener("click",c,{capture:!0,once:!0,passive:!0}),a.body.append(n),Object.assign(l.style,{width:`${o.width}px`,height:`${o.height}px`,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:"100vw"}),l.append(d,p),t.disposables.push((()=>{n.remove(),r.remove()})),(0,$a.o)(d,(()=>{const e=d.contentDocument;if(!(0,$a.k)(e))throw new Error("couldn't render interstitial format: iframe document is not usable");$n(e,t),Ln({element:n,properties:{opacity:"1"},duration:.3})}))}},"outstream-player":(e,t)=>{const{resolvedBid:{bidResponse:i},placement:a}=t,n=e.defaultView?.frameElement;(0,$a.h)(n)&&(0,$a.d)(n),(0,Fa.c)(e,i,{creativeType:"outstream-player"});const r=document.querySelector(a.rendering?.outstream?.selector??`#${a.placementId}`)??e.body;(0,Ma.a)("https://cdn.hubvisor.io/wrapper/common/player.js").then((()=>{(0,an.a)(r,{vastUrl:i.vastUrl,vastXml:i.vastXml,targetWidth:i.width,targetHeight:i.height,renderContext:{document:e,bidResponse:i,context:void 0},...a.rendering?.outstream,onEvent:(e,t)=>{const a=(0,nn.a)(e,t);switch(a.kind){case"impression":case"first-quartile":case"midpoint":case"third-quartile":case"complete":return rn.a.emit("outstream-imp",{adId:i.bidId,kind:"impression"===a.kind?"video-imp":a.kind}),on(`Outstream ${a.kind} pixel triggered for ${i.placementId}`);case"error":return sn("Error playing outstream",JSON.stringify({error:a.value,bidResponse:i}))}}})})).catch((e=>{(0,Ia.a)(new _a.b(_a.a.outstreamPlayerLoadingFailed,`failed to load player: ${e.message} - bid ${i.bidder} ${i.vastUrl} ${i.vastXml}  - ${JSON.stringify(e)}`),e)}))},amazon:async(e,t)=>{if(!window.apstag)return Gn("apstag is not available");const i=t.resolvedBid.bidResponse,a=i.targetings.amzniid;if(!(0,Tt.q)(a))return Gn("No amzniid available to render bid : ",a);(0,Fa.c)(e,i,{creativeType:i.displayFormat??i.mediaType}),t.options.bus.emit(ti.a.amazonRenderRequest,{document:e,amazonBidId:a})}},Hn={},Xn={set(e,t){t?Hn[e]=t:delete Hn[e]},read:e=>Hn[e]},Yn=(e,t)=>{const i={};for(const a of e){const e=t(a);(0,Tt.r)(e)||(i[e]||(i[e]=[]),i[e]?.push(a))}return i},Jn={init:void 0,config:void 0,hubvisorUntilInitDuration:void 0},Kn={},Zn={},Qn={hubvisorUntilInitDuration(e){Jn.hubvisorUntilInitDuration=pi(e)},init(e){Jn.init=pi(e)},config(e){Jn.config=pi(e)},preRender(e,t){Kn[e]=pi(t)},postRender(e,t){Zn[e]=pi(t)}},er=e=>Kn[e];class tr{#Bt=[];#Pt=!1;get disposed(){return this.#Pt}constructor(e=[]){this.#Bt.push(...e)}push=(e,...t)=>{this.#Pt?this.#Nt([e,...t]):this.#Bt.push(e,...t)};dispose=()=>{this.#Pt||(this.#Pt=!0,this.#Nt(this.#Bt),this.#Bt.length=0)};#Nt=e=>{for(let t=e.length-1;t>=0;--t)try{e[t]()}catch{}}}var ir=i(102),ar=i(43),nr=i(61);const rr=new DOMParser,{debug:or,info:sr,warn:dr,error:lr}=et.a.tag("Renderer");class pr{#jt={};#zt=new Set;#n;constructor(e){this.#n=e,gt.h.start({settings:e.globalSettings,bus:e.bus}),this.#n.bus.on(ti.a.renderRequested,this.#qt),this.#n.bus.on(ti.a.backupRenderRequested,this.#$t),this.#n.bus.on(ti.a.amazonImp,this.#Ft)}#Vt=e=>!!this.#zt.has(e)||(this.#zt.add(e),!1);#Lt=(e,t)=>{or(`Sending '${ti.a.impression}' event for renderable`,t);const i={renderable:t,timestamp:Date.now(),doc:e};this.#n.bus.emit(ti.a.impression,i)};#Gt=(e,t)=>{const i={renderable:t,timestamp:Date.now(),doc:e};this.#n.bus.emit(ti.a.renderedImp,i)};#Wt=e=>{const t=this.#jt[e];if(!t)throw new Error(`couldn't resolve renderable for id #${e}`);return t};#Ft=async({doc:e,amzniid:t})=>{const i=Object.values(this.#jt).find((e=>e.content.bidResponse.creativeId===t&&(0,ir.isAmazonBidResponse)(e.content.bidResponse)));if(!i)throw new Error(`couldn't resolve renderable for id #${t}`);this.#n.globalSettings.amazon?.useHbvPlayer&&await this.#Ht(e,i),this.#Lt(e,i),this.#Gt(e,i)};#Xt=(e,t)=>{const i=this.#n.globalSettings.bidderAliases;if(i[t.bidder]===ft.a.amazon||t.bidder===ft.a.amazon)return"amazon";const a=i[t.bidder]===ft.a.Sublime||t.bidder===ft.a.Sublime;if((1800===t.width||1600===t.width)&&1e3===t.height&&!a)return"skin";if("native"===t.mediaType)return"native";const n=e?.rendering?.format;return n||"rich-media"};#Yt=(e,t,i)=>{if(this.#n.globalSettings.overrideRenderFormat)try{return this.#n.globalSettings.overrideRenderFormat(e,t,i)}catch(e){const t=new _a.b(_a.a.overrideRenderFormatFailed,e);(0,Ia.a)(t,"overrideRenderFormat error")}};#Jt=(e,t)=>{const i=this.#Xt(e,t);return this.#Yt(e,t,i)??i};#Kt=async({doc:e,id:t,context:i,disposables:a})=>{const n=this.#Wt(t),r=this.#Vt(t);r||this.#Lt(e,n),Xn.set(n.placement.placementId,{document:e,bidResponse:n.content.bidResponse,context:i});const o=this.#Jt(n.placement,n.content.bidResponse),s=Wn[o];if(r)dr(`Rendering already rendered renderable #${t} using format: '${o}' for placement '${n.placement.placementId}' !\n      This double-render is probably an issue with a double-refresh request sent to the adserver`),(0,Ia.a)(new _a.b(_a.a.doubleRenderError,`Double render for ${n.placement.placementId} and format ${o}`));else{const{creativeId:e,bidder:t}=n.content.bidResponse;sr(`Rendering renderable with id #${e} from ${t} using format: '${o}' for placement '${n.placement.placementId}'`)}const{shouldAbortRender:d}=await this.#Ht(e,n);if(d)return sr(`Abort rendering of placement ${n.placement.placementId}`);await s(e,{options:this.#n,placement:n.placement,resolvedBid:n.content,disposables:a}),await this.#Zt(e,n),r||this.#Gt(e,n)};#Ht=async(e,t)=>{const{preRenderStep:i,isAutoRefreshEnabled:a}=this.#n.globalSettings,n=performance.now(),r=ht.remoteConfiguration.currentValue?.publisherConfiguration?.options?.some((e=>"autorefresh"===e.option));if(a||r){const i=t.content.bidResponse,a=e.defaultView?.frameElement;if((0,$a.h)(a)&&(a.dataset.hbvBidder=i.bidder,a.dataset.hbvPlacementId=i.placementId,a.dataset.hbvDisplayFormat=i.displayFormat,i.displayFormat===wa.a.outstream)){const e=(e=>{if(e)try{const t=rr.parseFromString(e,"text/xml").querySelector("Duration");return t?.textContent?.split(":").reverse().map(((e,t)=>parseInt(e,10)*60**t)).reduce(((e,t)=>e+t))||35}catch{}return 35})(i.vastXml);a.dataset.hbvVastXmlDurationInSeconds=`${e}`}}try{const a=await(i?.(e,t));return Qn.preRender(t.content.bidResponse.bidId,performance.now()-n),Object.assign({shouldAbortAuction:!1},(e=>(0,Tt.m)(e)&&(0,Tt.e)(e.shouldAbortRender))(a)?a:void 0)}catch(e){lr("preRenderStep error",e,t)}return{shouldAbortRender:!1}};#Zt=async(e,t)=>{const{postRenderStep:i}=this.#n.globalSettings,a=performance.now();try{await(i?.(e,t))}catch(e){lr("postRenderStep error",e,t)}Qn.postRender(t.content.bidResponse.bidId,performance.now()-a)};adServerCallback=(e,t,i,a)=>{const n=i||t;or(`Called back for rendering of ${i?"guaranteed":""} content with id #${n}`);const r=new tr;this.#Kt({doc:e,id:n,context:a,disposables:r}).catch((t=>{!(0,Tt.i)(e)&&$a.g||(0,Ia.a)(new _a.b(_a.a.renderingFailed,t),`failed to render content w/ #${n}`),r.dispose()}))};#Qt=e=>{const t=Object.entries(gt.h.registrations).reduce(((t,[i,a])=>(a?.canRender(e)&&t.push(i),t)),[]);if(t.length<=0)dr("No renderer was found for renderable it will be discarded",e);else if(t.length>1){if(this.#n.globalSettings.consent.shouldSkipAdserverOnConsentless&&t.includes(qa.a.hsc))return(0,Rt.b)()&&!ar.a?qa.a.hsc:t.filter((e=>e!==qa.a.hsc))[0];dr("More than one renderer was found for renderable, make sure the configuration is appropriate",e,t)}return t[0]};#ei=async(e,t)=>{const{preAdserverCallStep:i}=this.#n.globalSettings;try{const a=await(i?.(e,t));return Object.assign({shouldAbortCall:!1},(e=>(0,Tt.m)(e)&&(0,Tt.e)(e.shouldAbortCall))(a)?a:void 0)}catch(i){lr("preAdserverCall error",i,e,t)}return{shouldAbortCall:!1}};#ti=async(e,t)=>{const i=gt.h.registrations[e],{shouldAbortCall:a,renderables:n}=await this.#ei(e,t);if(a)return sr(`Abort adcalls for ${e}`,t);const r=n??t;i.render(r)};render=e=>{for(const t of e)for(const e of t.content)this.#jt[e.bidResponse.bidId]={placement:t.placement,content:e};const t=Yn(e,this.#Qt);for(const e of Object.keys(gt.h.registrations)){const i=t[e]??[];this.#ti(e,i).catch((t=>{lr(`Rendering error with '${e}'`,i,t)}))}};#qt=e=>{const t=e.renderRequests.map((e=>e.renderable));this.render(t)};#$t=e=>{const t=e.renderable.content[0];t&&(this.#jt[t.bidResponse.bidId]={placement:e.renderable.placement,content:t},setTimeout((()=>{const i=e.renderContext.document.defaultView?.frameElement;(0,$a.h)(i)&&"none"===i.style.display&&(i.style.display=""),(0,nr.a)("adServerRender",{document:e.renderContext.document,adId:t.bidResponse.bidId})}),0))}}const cr=new Promise((e=>{fetch("https://securepubads.g.doubleclick.net/pagead/ppub_config").then((({ok:t})=>e(!t))).catch((()=>e(!0)))}));let mr=!1;cr.then((e=>{mr=e}));const ur=(e,t,i)=>{const a=ht.remoteConfiguration.currentValue?.publisherConfiguration?.cpmAdjustments?.filter((a=>(0,Tt.l)(a.adjustment)&&a.adjustmentKind===i&&Ot(a.bidders,e.bidder)&&Ot(a.displayFormats,`${e.displayFormat}`)&&Ot(a.layouts,t.layout)&&Ot(a.placementIds,e.placementId)&&Ot(a.supportCodes,t.supportCode)));return a?.[0]?.adjustment},{debug:br,error:fr,warn:gr,info:yr}=et.a.tag("Bidder");class hr{#n;#ii=(0,_t.c)("bidder-priority");#ai={};#ni=0;constructor(e){this.#n=e,this.#n.bus.on(ti.a.auctionFinished,this.#ri),this.#n.bus.on(ti.a.auctionStarted,this.#oi)}#si=e=>{const{placements:t}=e.config,i=t.reduce(((e,t)=>(e[t.placementId]={placement:t,bids:[],noBids:[],timeouts:[],rejectedBids:[]},e)),{});return this.#di(i,e),Object.values(i)};#li=(e,t)=>{const{filterAuctionStep:i}=this.#n.globalSettings;try{return i?.(e,t)??!0}catch(i){fr("filterAuctionStep error: bid won't be filtered",i,e,t)}return!0};#pi=(e,t,i)=>{const a=ht.remoteConfiguration.currentValue?.publisherConfiguration?.blacklistedCreatives;return!!a?.find((e=>e.creativeId===t.bidResponse.creativeId&&e.device===("tablet"===yt.b||"phone"===yt.b?"mobile":yt.b)&&e.support===i.context.supportCode))||!this.#li(e,t)};#ci=(e,t)=>{const{cpmMultiplier:i}=this.#n.globalSettings;try{const a=i?.(e,t);if((0,Tt.i)(a))return a}catch(e){fr("error retrieving cpm adjustment: it won't be applied",e)}return ur(e,t.context,"cpm")??1};#mi=(e,t)=>{const{adserverMultiplier:i}=this.#n.globalSettings;try{const a=i?.(e,t);if((0,Tt.i)(a))return a}catch(e){fr("error retrieving adserver adjustment: it won't be applied",e)}return ur(e,t.context,"adserver")??1};#ui=(e,t)=>{const{cpm:i}=e,a=this.#ci(e,t),n=this.#mi(e,t),r=i*a;if((0,Tt.q)(this.#ii)&&this.#ii===e.bidder){const t=30;return br("Adjusted cpm for",{placement:e.placementId,bidder:e.bidder},`: ${i.toFixed(2)} =>`,{estimatedNetCpm:i.toFixed(2),adjustedCpm:t.toFixed(2),high_prio:!0}),{netCpm:r,adjustedCpm:t}}if(ar.a)return{netCpm:i,adjustedCpm:i};const o=r*n;return br("Adjusted cpm for",{placement:e.placementId,bidder:e.bidder},`: ${i.toFixed(2)} =>`,{estimatedNetCpm:r.toFixed(2),adjustedCpm:o.toFixed(2)}),{netCpm:r,adjustedCpm:o}};#bi=(e,t,i)=>{const a={cpmAdjustment:this.#ui(t,i),bidResponse:t};if(!this.#pi(e,a,i))return a};#di=(e,t)=>{for(const i of t.bids){const a=e[i.placementId];if(a){const e=this.#bi(a.placement,i,t.config);e?a.bids.push(e):a.rejectedBids.push(i)}else gr(`couldn't resolve content for placement id ${i.placementId}, skipped BidResponse`,i)}const i=new Set;for(const a of t.noBids){const t=e[a.placementId];t?(t.noBids.push(a),i.add(a.bidId)):gr(`couldn't resolve content for placement id ${a.placementId}, skipped NoBid`,a)}for(const a of t.rejectedBids){const t=e[a.placementId];t?(t.rejectedBids.push(a),i.add(a.bidId)):gr(`couldn't resolve content for placement id ${a.placementId}, skipped RejectedBid`,a)}for(const a of t.timeouts){const t=e[a.placementId];t?i.has(a.bidId)||t.timeouts.push(a):gr(`couldn't resolve content for placement id ${a.placementId}, skipped Timeout`,a)}};#fi=async e=>{const t=[];return window.ethereum&&t.push("ethereum-wallet=true"),e.refreshReason===At.b.secondChance&&t.push("second-chance=true"),ar.a&&t.push("uplift=true"),await cr&&t.push("adblock=true"),t};#gi=async e=>{try{return(await Promise.all([this.#fi(e.config),this.#n.globalSettings.auctionTags?.({auctionId:e.auctionId,consent:e.consent,config:e.config})])).filter(Tt.i).flat()}catch(e){return fr("failed to retrieve base or custom tags",e),[]}};#yi=async e=>{const t=this.#ai[e.auctionId];if(!t)return[];delete this.#ai[e.auctionId];const i=[],a=await Promise.race([t,(0,Va.b)(this.#ni).then((()=>i))]);return a===i&&gr("tags resolution took too long: tags won't be sent for this auction"),a};#oi=e=>{this.#ai[e.auctionId]=this.#gi(e)};#ri=async e=>{br("Resolving auction");try{const t=await this.#yi(e),i={resolvedPlacements:this.#si(e),timestamp:new Date,auction:e,tags:t};yr("resolved auction",i.resolvedPlacements,i.tags),this.#hi(i)}catch(e){fr("error during content resolution",e)}};#hi=e=>{this.#n.bus.emit(ti.a.auctionResolved,e)};start=e=>{yr("starting auction w/ context",e.refreshConfig.context),this.#n.bus.emit(ti.a.refresh,e)}}var vr=i(100);const{debug:_r,warn:Ir,error:wr,info:xr}=et.a.tag("RenderList");class Tr{#n;#vi=0;#_i;#Ii={};#wi=new Set;#xi;#Ti=new Set;constructor(e){this.#n=e,this.#xi=(0,li.a)((()=>{this.#Di()}),e.globalSettings.renderList.competitionDebounceDelay),this.#n.bus.on(ti.a.refreshRequested,this.#Ai),this.#n.bus.on(ti.a.auctionResolved,this.#Si),this.#n.bus.on(ti.a.renderableRequested,this.#Ci),this.#n.bus.on(ti.a.impression,this.#te),rn.a.on("outstream-error",this.#Ri)}#ki=e=>{_r(`New checkpoint #${e}`),this.#_i={startIndex:e},this.#Ei()};#Ai=e=>{this.#vi=e.startOrder,e.refreshReason===At.b.pageView&&this.#ki(e.startOrder)};#Si=e=>{this.#Mi(e)};#Ci=e=>{for(const t of e.placements)this.#wi.add(t);this.#xi()};#te=e=>{const t=this.#Ii[e.renderable.placement.placementId],i=t?.candidates.find((t=>t.content.bidResponse.bidId===e.renderable.content.bidResponse.bidId));i&&(i.status=2)};#Ri=({renderContext:e})=>{if(ar.a)return;const t=e.bidResponse.placementId,i=this.#Ii[t];if(!i)return;this.#Oi(i);const a=i.candidates.filter((e=>2!==e.status&&(e.content.bidResponse.providerId===ca.a||e.content.bidResponse.providerId===vr.a))).sort(this.#Ui),n=a[a.length-1],r=a[a.length-2];if(this.#Bi(n,r),n){n.status=1,n.content.bidResponse.tags||(n.content.bidResponse.tags=[]),n.content.bidResponse.tags.push("outstream-backup=true");const t={renderable:{placement:i.placement,content:[n.content],config:i.metadata.config,auctionId:i.metadata.auctionId,tags:i.metadata.tags},config:i.metadata.config,auctionId:i.metadata.auctionId,generation:i.metadata.generation,timestamp:Date.now(),competition:{candidates:this.#Pi(i)},renderContext:e};xr(`Using bid as backup impression as outstream failed on placement ${i.placement.placementId} :`,n.content,t),this.#n.bus.emit(ti.a.backupRenderRequested,t)}};#Ni=e=>this.#_i?!(e.auction.startOrder<this.#_i.startIndex&&(_r("The auction started before last checkpoint was resolved after, it will be ignored",this.#_i,e),1)):(Ir("An auction was resolved before any checkpoint is available, that should not happen and it will be ignored",e),!1);#Mi=e=>{if(!this.#Ni(e))return;const t=this.#vi-e.auction.startOrder;for(const i of e.resolvedPlacements)this.#ji(i,t,e.auction,e.tags);this.#Ti.add(e.auction.auctionId),this.#xi()};#zi=e=>{const t=e.bids.reduce(((e,t)=>void 0!==t.bidResponse.floor&&t.bidResponse.floor<(e??1/0)?t.bidResponse.floor:e),1/0),i=e.rejectedBids.reduce(((e,t)=>void 0!==t.floor&&t.floor<(e??1/0)?t.floor:e),1/0),a=e.noBids.reduce(((e,t)=>void 0!==t.floor&&t.floor<(e??1/0)?t.floor:e),1/0),n=e.timeouts.reduce(((e,t)=>void 0!==t.floor&&t.floor<(e??1/0)?t.floor:e),1/0),r=Math.min(t??1/0,i??1/0,a??1/0,n??1/0);return r===1/0?void 0:r};#ji=(e,t,i,a)=>{const{placement:n,bids:r}=e,{auctionId:o,config:s}=i,d={config:s,generation:t,auctionId:o,tags:a,floor:this.#zi(e)},l=this.#qi(n,d);for(const e of r)l.candidates.push({config:s,auctionId:e.bidResponse.auctionId,generationTimestamp:Date.now(),generation:t,status:0,content:e});this.#wi.add(n.placementId)};#qi=(e,t)=>{const i=this.#Ii[e.placementId];if(i)return i.metadata=t,i.placement=e,i;const a={placement:e,candidates:[],metadata:t};return this.#Ii[e.placementId]=a,a};#Di=()=>{const e=this.#wi;this.#wi=new Set,_r("Competition started for placements",e);const t=[];for(const i of e)this.#$i(t,i);const i=new Set(this.#Ti);this.#Ti.clear(),this.#Fi({renderRequests:t,auctionIds:i})};#$i=(e,t)=>{const i=this.#Ii[t];if(!i)return void Ir(`A competition was scheduled for placementId ${t} but content couldn't be found: placement will be ignored`);const a=i.candidates.filter((e=>e.content.bidResponse.deal?.isGuaranteed));this.#Oi(i);const n=this.#Vi(i),r=this.#Pi(i),o=[...n.map((e=>e.content)),...a.map((e=>e.content))];e.push({renderable:{placement:i.placement,content:o,config:i.metadata.config,auctionId:i.metadata.auctionId,tags:i.metadata.tags,floor:i.metadata.floor},config:i.metadata.config,auctionId:i.metadata.auctionId,generation:i.metadata.generation,timestamp:Date.now(),competition:{candidates:r}});for(const e of n)e.status=1;for(const e of a)e.status=1;this.#Li(i)};#Fi=e=>{xr("Sending render request",e),this.#n.bus.emit(ti.a.renderRequested,e)};#Li=e=>{for(const t of e.candidates)t.generation+=1};#I=(e,t)=>{const i=(t-e.generationTimestamp)/1e3;return e.content.bidResponse.ttl>0&&i>=e.content.bidResponse.ttl};#Oi=e=>{const t=Date.now();e.candidates=e.candidates.filter((i=>!this.#I(i,t)&&!(e.placement.rendering?.instream&&0!==i.status||2===i.status||i.content.bidResponse?.deal?.isGuaranteed)))};#Gi=(e,t)=>e.cpmAdjustment.adjustedCpm-t.cpmAdjustment.adjustedCpm;#Ui=(e,t)=>{try{const i=this.#n.globalSettings.overrideBidPriority?.(e.content,t.content);if((0,Tt.l)(i))return i}catch(i){wr("error performing overrideBidPriority for candidates",e,t,i)}return this.#Gi(e.content,t.content)};#Bi=(e,t)=>{if(e){if(!t)return e.content.cpmAdjustment.netUsdIncrementCpm=e.content.cpmAdjustment.netCpm,void(e.content.cpmAdjustment.rawUsdIncrementCpm=e.content.bidResponse.cpm);e.content.cpmAdjustment.netUsdIncrementCpm=e.content.cpmAdjustment.netCpm-t.content.cpmAdjustment.netCpm,e.content.cpmAdjustment.rawUsdIncrementCpm=e.content.bidResponse.cpm-t.content.bidResponse.cpm}};#Wi=e=>{const t=e.content.bidResponse.providerId;return t===vr.a?ca.a:t};#Vi=e=>{const t=e.candidates.filter((e=>2!==e.status)).sort(this.#Ui),i=(a=t,n=this.#Wi,Object.values(Yn(a,n)).filter(Tt.i));var a,n;const r=t[t.length-1],o=t[t.length-2];return this.#Bi(r,o),i.map((e=>e[e.length-1])).filter(Tt.i)};#Pi=e=>e.candidates.map((t=>({placement:e.placement,content:t.content,generation:t.generation})));#Ei=()=>{if(ei.c){const e=Object.values(this.#Ii).reduce(((e,t)=>e+(t?t.candidates.length:0)),0);e>0&&_r(`Discarding ${e} renderables`),this.#wi.size>0&&_r(`Unscheduled rendering for ${this.#wi.size} placements`,this.#wi)}this.#wi=new Set,this.#Ii={}}}const Dr=[];let Ar;gt.d.provide((({errorCode:e,message:t,stack:i,secondaryCode:a})=>{Dr.push({code:e,message:t,stack:i,secondaryCode:a}),Ar&&Ar()}));class Sr{#n;constructor(e){this.#n=e,Ar=(0,li.a)(this.#Hi,1),Ar()}#Hi=()=>{if(0===Dr.length)return;const e=[...Dr];Dr.length=0,this.#n.bus.emit(ti.a.error,{errors:e})}}var Cr=i(45);const Rr=nr.a,{error:kr}=et.a.tag("cmd-queue"),Er=(0,ct.a)((()=>{const e=e=>{try{e()}catch(e){kr("Error executing command",e)}},t=window.Hubvisor?.cmd;if(window.Hubvisor=Rr,Rr.cmd=t??[],Rr.ready=!0,Array.isArray(t))for(let i=0;i<t.length;++i)e(t[i]);Rr.cmd={push:e}})),{info:Mr,error:Or,debug:Ur}=et.a.tag("hubvisor:refresh"),Br={pendingPlacements:new Set,shouldRefreshAll:!1};let Pr;const Nr=(0,li.a)((()=>{Ur("Refresh started");const{shouldRefreshAll:e,pendingPlacements:t,task:i}=Br;Br.pendingPlacements=new Set,Br.shouldRefreshAll=!1,Br.task=void 0;const a=At.b.visibility,n=e?new Set:t;Pr?.(a,n).then((()=>{i?.resolve()})).catch((e=>{i?.reject(e)}))}),.2),jr=e=>{Pr=e},zr=async e=>{const t=(e=>(0,Tt.j)(e)||(0,Tt.d)(e,Tt.q)?(0,St.a)(e):(Or("Can't validate args sent to refresh: refreshing all placements",e),[]))(e),i=0===t.length?"*":t.join(", ");Mr(`Requested refresh for placements: ${i}`),Br.shouldRefreshAll=0===t.length;for(const e of t)Br.pendingPlacements.add(e);return Br.task??=(0,Va.a)(),Nr(),Br.task.promise},{debug:qr,error:$r}=et.a.tag("hubvisor:autorefresh"),Fr=new Set,Vr=new wn.a,Lr=e=>(0,Tt.d)(e,Tt.q)?(0,St.a)(e):($r("Cannot validate args",e),[]),Gr=e=>{const t=Lr(e);qr("excluding placements",t);for(const e of t)Fr.has(e)||(Fr.add(e),Vr.dispatch("didExcludePlacement",e))},Wr=e=>{const t=Lr(e);qr("unexcluding placements",t);for(const e of t)Fr.has(e)&&(Fr.delete(e),Vr.dispatch("didUnexcludePlacement",e))},{debug:Hr}=et.a.tag("connectivity-check"),Xr=()=>{const e=performance.getEntriesByType("resource").filter((e=>!(e=>!(e.transferSize>0)&&(e.decodedBodySize>0||e.duration<30))(e)&&!(e=>0===e.connectEnd&&0===e.connectStart&&0===e.encodedBodySize&&0===e.decodedBodySize&&0===e.domainLookupStart&&0===e.domainLookupEnd&&0===e.requestStart&&0===e.responseStart&&0===e.transferSize&&0===e.redirectEnd&&0===e.redirectStart&&0===e.secureConnectionStart)(e)&&!(e=>e.encodedBodySize>0&&e.transferSize>0&&e.transferSize<e.encodedBodySize)(e))).map((({responseStart:e,responseEnd:t,transferSize:i})=>i/((t-e)/1e3))).sort(((e,t)=>e-t)).filter(Number.isFinite);if(e.length>2&&e.splice(-2),e.splice(0,Math.floor(.25*e.length)),0===e.length)return void Hr("Can't compute avg dl speed");const t=e.reduce(((e,t)=>e+t))/e.length*8/1e6;return Hr(`Avg dl speed: ${t.toFixed(2)} Mbps`),t},Yr=e=>"bid-response"===e.kind,Jr=e=>"winning-bid"===e.kind,Kr=e=>"rejected-bid"===e.kind,Zr=()=>{try{return top.location.href}catch{}},Qr=e=>parseInt(e,10),eo=e=>({code:e.code,message:e.message,stack:e.stack,secondaryCode:e.secondaryCode});var to=i(51);const{debug:io}=et.a.tag("loading-time"),ao=(()=>{let e=!1;return(...t)=>{if(!e)return e=!0,to.a.tryCatch((()=>(e=>{const{cmpLatency:t,consentLatency:i}=e??{},{duration:a,startTime:n}=(()=>{const e=performance.getEntries().find((e=>e.name.match(/cdn.hubvisor\.io\/wrapper\/[a-zA-Z0-9]{26}\/(hubvisor-[a-zA-Z0-9]{1,}\.js|[a-zA-Z0-9]{1,}\.js)/)&&!e.name.includes("hubvisor-child.js")))??{},{duration:t,startTime:i}=e;return(0,Tt.l)(t)&&(0,Tt.l)(i)?(io(`Hubvisor starting time ${i} / loading time ${t} ms`),{duration:pi(t),startTime:pi(i)}):io("Can't retrieve Hubvisor loading and/or starting time")})()??{},r=Jn.hubvisorUntilInitDuration;return{hubvisorLoadDuration:a,cmpLatency:t,consentLatency:i,hubvisorLoadStartDelay:n,hubvisorInitDuration:Jn.init,configurationLoadDuration:Jn.config,hubvisorUntilInitDuration:(0,Tt.l)(a)&&(0,Tt.l)(n)&&(0,Tt.l)(r)?r-a-n:void 0}})(...t))).get()}})(),{error:no,debug:ro,warn:oo}=et.a.tag("beam"),so=(0,ct.a)(Xr),lo=e=>(0,Tt.r)(e)||""===e||(0,Tt.c)(e)&&0===e.length;class po{#n;#Xi=va.a;#Yi={renderRequestByContentId:{},auctions:{},adRequestsByPlacementId:{},auctionsByPlacementId:{}};#Ji={auctions:{},pageViews:{},bids:{},carbonFilteredBids:[]};#Ki={events:{},errors:[]};isPageLoadToImpSent=!1;constructor(e){this.#n=e,this.#n.bus.on(ti.a.auctionStarted,this.#oi),this.#n.bus.on(ti.a.auctionResolved,this.#Si),this.#n.bus.on(ti.a.renderRequested,this.#qt),this.#n.bus.on(ti.a.backupRenderRequested,this.#$t),this.#n.bus.on(ti.a.adrequest,(e=>{for(const t of e)(0,Tt.r)(this.#Yi.adRequestsByPlacementId[t])?this.#Yi.adRequestsByPlacementId[t]=0:this.#Yi.adRequestsByPlacementId[t]+=1})),this.#n.bus.on(ti.a.impression,this.#te.bind(this,"imp")),this.#n.bus.on(ti.a.visibleImp,this.#te.bind(this,"visible-imp")),this.#n.bus.on(ti.a.measuredImp,this.#te.bind(this,"measured-imp")),this.#n.bus.on(ti.a.error,this.#Mt),rn.a.on("outstream-imp",this.#Zi);const{collectDebounceDelay:t}=this.#n.globalSettings.beam;this.#Xi=(0,li.a)((()=>{this.#Qi()}),t),this.#n.bus.on(ti.a.carbonFilteredBid,(e=>{this.#Ji.carbonFilteredBids.push(e)}))}#ea=()=>{const e=this.#Ki.events,t=Object.keys(e),i=[];for(const a of t){const t=this.#Yi.auctions[a];t?i.push({auction:t,events:e[a]??[]}):oo("No auction found with ID ",a)}return((e,t)=>({publisherId:t.publisherId,source:t.source,timezone:t.timezone,version:t.version,connectionSpeed:t.connectionSpeed,auctions:e.auctions.flatMap((e=>e.events.length>0?(e=>{const{pageViewId:t,auctionId:i,refreshConfig:a,consent:n,tags:r}=e.auction,{bidderTimeout:o}=a,{layout:s,networkCode:d,pageZone:l,publisherBrand:p,supportCode:c}=a.context,{cmpStatus:m,tcData:u}=n??{};return{pageViewId:t,auctionId:i,purposeConsents:u?.purpose?.consents?Object.entries(u?.purpose?.consents).filter((([e,t])=>t)).map((([e])=>Qr(e))):void 0,purposeLegitimateInterests:u?.purpose?.legitimateInterests?Object.entries(u?.purpose?.legitimateInterests).filter((([e,t])=>t)).map((([e])=>Qr(e))):void 0,gdprApplies:u?.gdprApplies,cmpStatus:m,network:d,brand:p,support:c,zone:l,layout:s,page:Zr(),auctionTimeout:1e3*o,events:e.events.flatMap((e=>{const t=((e,t)=>"imp"===e.kind||"visible-imp"===e.kind||"measured-imp"===e.kind?((e,t)=>{const{placementId:i,refreshIndex:a,cpmAdjustment:n,bidResponse:r,pageLoadToImpInterval:o,adUnitPath:s}=e,{bidder:d,originalCpm:l,originalCurrency:p,cpm:c,creativeId:m,dealId:u,ttl:b,width:f,height:g,mediaType:y,isNetRevenue:h,vendorId:v,displayFormat:_,bidId:I,userIdPartners:w,demandSource:x,payloadBidRequestSize:T,payloadBidResponseSize:D,tags:A}=r,{agencyId:S,advertiserId:C,advertiserDomains:R=[],primaryCatId:k,secondaryCatIds:E=[]}=r.meta??{},{adjustedCpm:M,netCpm:O,rawUsdIncrementCpm:U,netUsdIncrementCpm:B}=n,P=!!(0,Tt.l)(v)&&!!t?.consents?.[v],N=!!(0,Tt.l)(v)&&!!t?.legitimateInterests?.[v];return{kind:e.kind,latency:"imp"===e.kind?e.timestamp-e.renderTimestamp:void 0,ttl:b,placementId:i,size:`${f}x${g}`,mediaType:y,displayFormat:_,connector:d,hasVendorConsent:P,hasVendorLegitimateInterest:N,demandSource:x,dealId:u,creativeId:m,refreshIndex:a,rawCpm:l,cpmKind:h?"net":"gross",currency:p,adjustedUsdCpm:M,rawUsdCpm:c,netUsdCpm:O,rawUsdIncrementCpm:U,netUsdIncrementCpm:B,campaignId:void 0,seatId:S,advertiserId:C,advertiserDomains:R,categoryIds:k?[k,...E]:[],pageLoadToImpInterval:"imp"===e.kind?o:void 0,preRenderDuration:"imp"===e.kind?er(I):void 0,postRenderDuration:"imp"===e.kind?(j=I,Zn[j]):void 0,userIdPartners:w,payloadBidRequestSize:T,payloadBidResponseSize:D,tags:A,adUnitPath:s};var j})(e,t?.vendor):"auction"===e.kind||"page-view"===e.kind||"carbon-filtered-bid"===e.kind?e:"bid-response"===e.kind||"winning-bid"===e.kind||"rejected-bid"===e.kind?((e,t)=>{const i=Kr(e)?e:e.bidResponse,{bidder:a,originalCpm:n,originalCurrency:r,cpm:o,creativeId:s,dealId:d,ttl:l,width:p,height:c,mediaType:m,displayFormat:u,isNetRevenue:b,vendorId:f,placementId:g,userIdPartners:y,requestSizes:h=[],requestDealIds:v=[],payloadBidRequestSize:_,payloadBidResponseSize:I}=i,{agencyId:w,advertiserId:x,advertiserDomains:T=[],primaryCatId:D,secondaryCatIds:A=[]}=i.meta??{},S=Kr(e)?void 0:e.cpmAdjustment,C=!!(0,Tt.l)(f)&&!!t?.consents?.[f],R=!!(0,Tt.l)(f)&&!!t?.legitimateInterests?.[f];return{kind:e.kind,placementId:g,requestSizes:h.map((([e,t])=>`${e}x${t}`)),requestDealIds:v,connector:a,hasVendorConsent:C,hasVendorLegitimateInterest:R,refreshIndex:e.refreshIndex,demandSource:i.demandSource,latency:i.fetchDuration,ttl:l,size:`${p}x${c}`,dealId:d,creativeId:s,mediaType:m,displayFormat:u,rawCpm:n,cpmKind:b?"net":"gross",currency:r,adjustedUsdCpm:S?.adjustedCpm,rawUsdCpm:o,netUsdCpm:S?.netCpm,rawUsdIncrementCpm:S?.rawUsdIncrementCpm,netUsdIncrementCpm:S?.netUsdIncrementCpm,campaignId:void 0,seatId:w,advertiserId:x,advertiserDomains:T,categoryIds:D?[D,...A]:[],userIdPartners:y,payloadBidRequestSize:_,payloadBidResponseSize:I}})(e,t?.vendor):"no-bid"===e.kind||"timeout"===e.kind?((e,t)=>{const{bidder:i,vendorId:a,placementId:n,refreshIndex:r,userIdPartners:o,displayFormat:s,requestSizes:d=[],requestDealIds:l=[],mediaType:p,demandSource:c,payloadBidRequestSize:m,payloadBidResponseSize:u}=e,b=!!(0,Tt.l)(a)&&!!t?.consents?.[a],f=!!(0,Tt.l)(a)&&!!t?.legitimateInterests?.[a];return{kind:e.kind,placementId:n,requestSizes:d.map((([e,t])=>`${e}x${t}`)),requestDealIds:l,connector:i,displayFormat:s,mediaType:p,hasVendorConsent:b,hasVendorLegitimateInterest:f,refreshIndex:r,demandSource:c,userIdPartners:o,payloadBidRequestSize:m,payloadBidResponseSize:u}})(e,t?.vendor):void 0)(e,u);return t?[t]:[]})),tags:r,samplingRate:e.auction.samplingRate}})(e):[])),errors:e.errors.map(eo)}))({auctions:i,errors:this.#Ki.errors},{publisherId:this.#n.globalSettings.publisherId,source:"wrapper",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,version:ei.g,connectionSpeed:so()})};#Qi=async()=>{const e=this.#ea();this.#Ki={events:{},errors:[]};const{collectRetryCount:t,collectRetryDelay:i,collectUrl:a}=this.#n.globalSettings.beam;if(e.auctions=e.auctions.filter((({events:e})=>e?.length>0)),0===e.auctions.length&&0===e.errors.length)return;ro(`Sending beam payload: ${a}`,e);let n=0,r=!1;do{r=n++<t;try{const t=await fetch(a,{method:"POST",body:JSON.stringify(e)});if(!t.ok)throw new Error(`http status: ${t.statusText}`);ro("Beam payload sent",t);break}catch(t){no("Error sending beam payload",t),r?await(0,Va.b)(i):no("Too much failures, gave up sending beam payload",e)}}while(r)};#Zi=({adId:e,kind:t})=>this.#ta(e,t);#ta=async(e,t)=>{const i=this.#Yi.renderRequestByContentId[e];if(!i)return no("Couldn't find renderRequest for bidResponse",e);const a=i.renderable.content.find((t=>t.bidResponse.bidId===e));if(!a)return no(`Couldn't find content for bidResponse ${e}`);const n=this.#Yi.auctions[i.auctionId];if(!n)return no(`Couldn't find auction for bidResponse ${e} - required for pageviewId`);const r=((e,t,i,a,n,r)=>{const{bidder:o,originalCpm:s,cpm:d,isNetRevenue:l,vendorId:p,userIdPartners:c,demandSource:m,tags:u}=e.bidResponse,{agencyId:b,advertiserId:f,advertiserDomains:g=[]}=e.bidResponse.meta??{},{auctionId:y,config:h}=a,{bidderTimeout:v}=h,{layout:_,networkCode:I,pageZone:w,publisherBrand:x,supportCode:T}=h.context,{cmpStatus:D,tcData:A}=t.consent??{},{adjustedCpm:S,netCpm:C}=e.cpmAdjustment,R=A?.purpose?.consents?Object.entries(A?.purpose?.consents).filter((([e,t])=>t)).map((([e])=>Qr(e))):void 0,k=A?.purpose?.legitimateInterests?Object.entries(A?.purpose?.legitimateInterests).filter((([e,t])=>t)).map((([e])=>Qr(e))):void 0;return{kind:r,publisherId:t.publisherId,pageViewId:i.pageViewId,auctionId:y,purposeConsents:R,purposeLegitimateInterests:k,hasVendorConsent:!!(0,Tt.l)(p)&&!!A?.vendor?.consents?.[p],hasVendorLegitimateInterest:!!(0,Tt.l)(p)&&!!A?.vendor?.legitimateInterests?.[p],gdprApplies:A?.gdprApplies,cmpStatus:D,network:I,brand:x,support:T,zone:w,layout:_,page:Zr(),auctionTimeout:1e3*v,latency:e.bidResponse.fetchDuration,ttl:e.bidResponse.ttl,placementId:e.bidResponse.placementId,size:`${e.bidResponse.width}x${e.bidResponse.height}`,mediaType:"video",displayFormat:"outstream",connector:o,demandSource:m,refreshIndex:n,dealId:e.bidResponse.dealId,creativeId:e.bidResponse.creativeId,rawCpm:s,cpmKind:l?"net":"gross",currency:e.bidResponse.currency,adjustedUsdCpm:S,rawUsdCpm:d,netUsdCpm:C,seatId:b,advertiserId:f,advertiserDomains:g,categoryIds:e.bidResponse.meta?.secondaryCatIds,tags:[...i.tags,...u??[]],userIdPartners:c,source:t.source,version:t.version,connectionSpeed:t.connectionSpeed,timezone:t.timezone,samplingRate:i.samplingRate}})(a,{publisherId:this.#n.globalSettings.publisherId,source:"wrapper",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,version:ei.g,connectionSpeed:so(),consent:this.#Yi.auctions[i.auctionId]?.consent},n,i,this.#Yi.adRequestsByPlacementId[i.renderable.placement.placementId]??0,t),o=this.#n.globalSettings.beam.vimpUrl;try{const e=new URL(o);for(const[t,i]of Object.entries(r))if(!lo(i))if((0,Tt.c)(i))for(const a of i)e.searchParams.append(`${t}[]`,`${a}`);else e.searchParams.append(t,i);await fetch(e),ro("vimp recorded in beam")}catch(e){no("failed to send vimp to beam",e)}};#ia=e=>{const t=e.renderable.placement.rendering;if(t?.renderer){if(t.renderer===qa.a.generic&&t.hsc){const e=document.querySelector(`${t.hsc?.selector?.toString()} iframe`);return e?.id.replace("google_ads_iframe_","").replace(/(_[0-9]+)$/,"")}if(t.renderer===qa.a.dfp&&e.doc?.defaultView?.name)return e.doc.defaultView.name.replace("google_ads_iframe_","").replace(/(_[0-9]+)$/,"")}};#te=(e,t)=>{const i=this.#Yi.renderRequestByContentId[t.renderable.content.bidResponse.bidId];if(!i)return no("couldn't find RenderRequest for impression event",t);const a=t.renderable.content.bidResponse.auctionId;if(!(a in this.#Yi.auctions))return(0,Ia.a)(new _a.b(_a.a.beamError,"received an impression that has an unknown auctionId"));a in this.#Ki.events||(this.#Ki.events[a]=[]);const n=this.#Yi.adRequestsByPlacementId[t.renderable.placement.placementId]??0,r=this.#ia(t),o=0===n&&"imp"===e&&!this.isPageLoadToImpSent;this.#Ki.events[a]?.push({adUnitPath:r,kind:e,timestamp:t.timestamp??Date.now(),renderTimestamp:i.timestamp,refreshIndex:n,placementId:t.renderable.placement.placementId,bidResponse:t.renderable.content.bidResponse,cpmAdjustment:t.renderable.content.cpmAdjustment,pageLoadToImpInterval:o?pi(performance.now()):void 0}),o&&(this.isPageLoadToImpSent=!0),this.#Xi()};#Mt=e=>{const t=e.errors.map((e=>({...e,kind:"error"})));this.#Ki.errors.push(...t),this.#Xi()};#oi=e=>{const{auctionId:t,config:i,consent:a}=e;if(this.#Yi.auctions[t]={pageViewId:st.pageViewId,consent:a,auctionId:t,refreshConfig:i,tags:[],samplingRate:this.#n.globalSettings.beamSampling},i.refreshReason===At.b.pageView&&(this.#Ji.pageViews[t]={kind:"page-view",...ao(a)},this.#Yi.adRequestsByPlacementId={},this.#Yi.auctionsByPlacementId={}),i.refreshReason!==At.b.secondChance)for(const e of i.placements)(0,Tt.r)(this.#Yi.auctionsByPlacementId[e.placementId])?this.#Yi.auctionsByPlacementId[e.placementId]=0:this.#Yi.auctionsByPlacementId[e.placementId]+=1};#Si=e=>{const t=e.auction.auctionId,i=this.#Yi.auctions[t];if(!i)return no("Received resolution of an auction that hasn't been initialized",e);i.tags=e.tags;const a=e.resolvedPlacements.flatMap((e=>{const t=this.#Yi.auctionsByPlacementId[e.placement.placementId]??0,i=[...e.bids.map((e=>({kind:"bid-response",refreshIndex:t,...e}))),...e.noBids.map((e=>({kind:"no-bid",refreshIndex:t,...e}))),...e.timeouts.map((e=>({kind:"timeout",refreshIndex:t,...e}))),...e.rejectedBids.map((e=>({kind:"rejected-bid",refreshIndex:t,...e}))),...this.#Ji.carbonFilteredBids.map((e=>({kind:"carbon-filtered-bid",refreshIndex:t,...e})))];return this.#Ji.carbonFilteredBids=[],i}),{});a.length>0&&(this.#Ji.auctions[t]={kind:"auction",preAuctionDuration:e.auction.preAuctionDuration,auctionDuration:e.auction.duration,postAuctionDuration:e.auction.postAuctionDuration,userIdPartners:e.auction.userIdPartners},this.#Ji.bids[t]=a)};#qt=e=>{const t=new Set;for(const i of e.renderRequests){t.add(i.auctionId);for(const e of i.renderable.content)if(this.#Yi.renderRequestByContentId[e.bidResponse.bidId]=i,e.bidResponse.providerId===ca.a||e.bidResponse.providerId===vr.a){const t=this.#Ji.bids[i.auctionId]?.find((t=>Yr(t)&&t.bidResponse.bidId===e.bidResponse.bidId));t?(t.kind="winning-bid",Jr(t)&&(t.cpmAdjustment=e.cpmAdjustment)):oo("couldn't find bid response to set as winning bid")}}const i=t.size>0?t:new Set([...Object.keys(this.#Ji.auctions),...Object.keys(this.#Ji.pageViews),...Object.keys(this.#Ji.bids)]);for(const e of i){this.#Ki.events[e]||(this.#Ki.events[e]=[]);const t=this.#Ji.bids[e];t&&(delete this.#Ji.bids[e],this.#Ki.events[e]?.push(...t));const i=this.#Ji.auctions[e];i&&(delete this.#Ji.auctions[e],this.#Ki.events[e]?.push(i));const a=this.#Ji.pageViews[e];a&&(delete this.#Ji.pageViews[e],this.#Ki.events[e]?.push(a))}this.#Xi()};#$t=e=>{for(const t of e.renderable.content)this.#Yi.renderRequestByContentId[t.bidResponse.bidId]=e}}class co{#aa;#na;#ra;#oa;#sa;constructor(e,t){this.#aa=e,this.#sa=t,this.#na=1e3*t}get remaining(){const e=this.#ra?Date.now()-this.#ra:0;return Math.max(0,(this.#na-e)/1e3)}get isPaused(){return!this.#oa}pause=()=>{this.#oa&&this.#ra&&(clearTimeout(this.#oa),this.#oa=void 0,this.#na-=Date.now()-this.#ra,this.#ra=void 0)};cancel=()=>{clearTimeout(this.#oa),this.#da(1e3*this.#sa)};resume=()=>{this.#oa||(this.#ra=Date.now(),this.#oa=window.setTimeout((()=>{this.#da(0),this.#aa()}),this.#na))};#da=e=>{this.#na=e,this.#ra=void 0,this.#oa=void 0}}var mo=i(29);const{warn:uo,info:bo,debug:fo}=et.a.tag("visibility");class go{#n;#la=new Map;#pa=[];constructor(e){this.#n=e,this.#n.bus.on(ti.a.renderedImp,(e=>{Oa(e.renderable.content.bidResponse)&&"https://cdn.hubvisor.io/wrapper/common/player.js"===e.renderable.content.bidResponse.prebid.renderer?.url?this.#pa.push(e.renderable):this.#ca(e)})),this.#n.bus.on(ti.a.refresh,this.#ie),rn.a.on("outstream-imp",this.#ma)}#ua=()=>{this.#la.forEach((e=>{e.inView&&"visible"===document.visibilityState?e.timer.resume():e.timer.pause()}))};#ba=(0,ct.a)((()=>{document.addEventListener("visibilitychange",this.#ua)}));#fa=(e,t)=>{for(const i of t){const t=this.#la.get(i.target);t&&(t.inView=i.intersectionRatio>=e,t.inView?t.timer.resume():t.timer.pause())}};#ga=(0,ct.a)((()=>new IntersectionObserver((e=>{this.#fa(.5,e)}),{threshold:[0,.5,1]})));#ya=(0,ct.a)((()=>new IntersectionObserver((e=>{this.#fa(.5,e)}),{threshold:[0,.5,1]})));#ha=(e,t)=>{if(t){const e=document.querySelector(t);if(e)return e}return document.getElementById(e.placementId)??void 0};#va=async({doc:e,frameElement:t},i)=>{const a=i.content.bidResponse,n=this.#n.globalSettings.bidderAliases;if(i.placement.rendering?.viewabilitySelector){const e=document.querySelector(i.placement.rendering.viewabilitySelector);if(e)return e}if(a.displayFormat===wa.a.skin){const e=n[a.bidder]===ft.a.Sublime||a.bidder===ft.a.Sublime?"ayads-html":"hbv-custom-render",t=await(0,mo.b)((0,mo.a)({interval:.1,maxTryCount:10}),(()=>document.getElementById(e)??void 0));if(t)return t}if(a.displayFormat===wa.a.outstream){let e;if(Oa(a)&&"https://cdn.hubvisor.io/wrapper/common/player.js"===a.prebid.renderer?.url){const e=i.placement.rendering?.outstream?.selector,t=await(0,mo.b)((0,mo.a)({interval:.1,maxTryCount:10}),(()=>{if(e){const t=document.querySelector(`${e} .hbv-player`);if(t)return t}return document.querySelector(`#${a.placementId} .hbv-player`)??void 0}))??this.#ha(a,e);if(t)return t}else{const t=(0,ir.isAmazonBidResponse)(a)?a.amazon.slotID:a.placementId;e=await(0,mo.b)((0,mo.a)({interval:.1,maxTryCount:10}),(()=>document.getElementById(t)??void 0))}if(e)return e}if(n[a.bidder]===ft.a.ogury||a.bidder===ft.a.ogury){const e=await(0,mo.b)((0,mo.a)({interval:.1,maxTryCount:10}),(()=>document.querySelector('div[id^="ogy-root-container"]')??void 0));if(e)return e}const r=t??e?.defaultView?.frameElement,o=e?.querySelector(".hbv-sandbox");return o?await(0,mo.b)((0,mo.a)({interval:.1,maxTryCount:300}),(()=>e?.querySelector(".hbv-ready")??void 0))?r?.parentElement??void 0:void 0:r?.parentElement??void 0};#_a=e=>e.content.bidResponse.displayFormat===wa.a.outstream?{duration:2,intersectionObserver:this.#ya()}:{duration:1,intersectionObserver:this.#ga()};#Ia=(e,t,i)=>{this.#ba(),this.#la.set(e,{inView:!1,timer:new co((()=>{bo(`Impression visible for ${t.duration}s for placement ${i.placement.placementId}`,e),this.#n.bus.emit(ti.a.visibleImp,{renderable:i,timestamp:Date.now()});const a=this.#la.get(e);a&&this.#wa(a)}),t.duration),params:t,renderable:i,element:e}),t.intersectionObserver.observe(e),this.#xa().observe(e.parentElement,{childList:!0}),bo(`Measuring visibility for placement ${i.placement.placementId}`,e),this.#n.bus.emit(ti.a.measuredImp,{renderable:i,timestamp:Date.now()})};#ca=async({doc:e,frameElement:t,renderable:i})=>{const a=await this.#va({doc:e,frameElement:t},i);if(!a)return uo(`couldn't measure visibility for ${i.placement.placementId}`);const n=this.#la.get(a);n&&(fo(`Resetting visibility state for ${i.placement.placementId}`),this.#wa(n));const r=this.#_a(i);this.#Ia(a,r,i)};#ma=async({adId:e,kind:t})=>{if("video-imp"!==t)return;const i=this.#pa.find((t=>t.content.bidResponse.bidId===e));if(!i)return uo(`couldn't retrieve renderable for video-imp ${e}`);this.#ca({renderable:i})};#ie=e=>{e.refreshConfig.refreshReason===At.b.pageView&&(this.#la.forEach(this.#wa),this.#la.clear())};#wa=e=>{fo(`Disposing visibility listener for ${e.renderable.placement.placementId}`),this.#la.delete(e.element),e.params.intersectionObserver.unobserve(e.element)};#xa=(0,ct.a)((()=>new MutationObserver((e=>{for(const{removedNodes:t}of e)for(const e of t)if((0,$a.f)(e)){const t=this.#la.get(e);t&&this.#wa(t)}}))))}var yo=i(99);const{warn:ho,info:vo}=et.a.tag("hubvisor"),_o=(0,ct.a)((({options:e,refresh:t})=>{vo(`Hubvisor ${ei.g} (${ei.a}) started`);const i=new Cr.TinyEmitter,a=new pt(e),n={bus:i,globalSettings:a},r=new Sr(n),o=new za(n),s=new pr(n),d=new hr(n),l=new Tr(n),p=(e=>{const t=e.globalSettings.beamSampling;return t?(Number.isInteger(1/t)||(0,tt.a)(void 0,"Beam sampling value doesn't give an integer rate"),(0,yo.a)({value:!0,weight:t},{value:!1,weight:1-t})?new po(e):void vo("Data will not be sent to beam for this session")):new po(e)})(n),c={bus:i,settings:a,prebid:o,renderer:s,bidder:d,renderList:l,errorHandler:r,beam:p,visibility:new go(n)};return((e,t)=>{jr(t),nr.b("ready",(e=>e)),nr.b("refresh",zr),nr.b("adServerRender",(({document:t,adId:i,pgAdId:a,context:n})=>{e.renderer.adServerCallback(t,i,a,n)})),nr.b("autorefresh:exclude-placements",Gr),nr.b("autorefresh:unexclude-placements",Wr),Rr.adServerRender=(e,t,i)=>{ho("DEPRECATED: \"Hubvisor('adServerRender', { document: doc, adId, context })\" is the new way of performing this action"),nr.a("adServerRender",{document:e,adId:t,context:i})}})(c,t),Er(),(e=>{e.settings.amazon?.pubId&&Je.then((()=>{})),e.settings.ias?.anId&&Promise.all([Ke,Ze]).then((([e,t])=>{}))})(c),c}));var Io=i(59),wo=i(68);const xo=[],To=(0,li.a)((async()=>{const e=new Set(xo.map((e=>e.getSlotElementId())));xo.length=0,await Ls(At.b.secondChance,e),(0,Io.b)((t=>t.pubads().refresh([...e])))}),.5),Do=e=>{xo.push(e),(0,wo.c)("slot refreshed:",e.getSlotElementId()),To()},Ao=(0,ct.a)((e=>{(0,Io.b)((t=>{t.pubads().addEventListener("slotRenderEnded",(t=>{if(t.isEmpty){if(!(0,wo.d)(e,t.slot))return;const[i]=t.slot.getTargeting(wo.e);if("boolean"===e.mode)"true"!==i&&(t.slot.setTargeting(wo.e,"true"),Do(t.slot));else{const a=Number(i);isNaN(a)?(t.slot.setTargeting(wo.e,"0"),Do(t.slot)):a+1<e.maxCount&&(t.slot.setTargeting(wo.e,`${a+1}`),Do(t.slot))}}}))}))})),So=new wn.a;(()=>{const e=e=>{So.dispatch("ad",e)};(0,Io.c)((t=>{t.events.on("ad",e)}))})();const Co=(e,t)=>{const i={},a=[];for(const n of e)try{const e=n.data.timestamp,{formats:a,siteId:r,pageId:o,target:s}=n.data.ad;for(const{tagId:n,id:d}of a){if(!t.has(n)&&!t.has(`${d}`))continue;const a=i[n];(!a||a.timestamp<e)&&(i[n]={timestamp:e,siteId:r,pageId:`${o}`,formatId:`${d}`,target:s,tagId:n})}}catch(e){a.push(e)}if(a.length>0)throw new Error(`Failed to retrieve Smart's events history: ${a.join(", ")}`);return Object.values(i).filter(Tt.i)},Ro=e=>Object.entries(e).reduce(((e,[t,i])=>{if((0,Tt.j)(i))return e;const a=(0,St.a)(i);if(0===a.length)return e.push(t),e;for(const i of a)if(""===i)e.push(t);else{const a=`${i}`.replace(/ /g,"_");e.push(`${t}=${a}`)}return e}),[]).join(";"),ko=e=>{const t=Ro(e.strings),i=Ro(e.numbers),a=[t];return i.length>0&&a.push(i),a.join("|")},Eo=e=>{const[t={},i={}]=e.split("|").map((e=>(e??"").split(";").reduce(((e,t)=>{const[i,a]=t.split("=");return i&&(e[i]||(e[i]=[]),(0,Tt.i)(a)&&e[i]?.push(a)),e}),{})));return{strings:t,numbers:i}},Mo=[],Oo=(0,li.a)((async()=>{const e=[...Mo],t=new Set(Mo.map((([{formatId:e}])=>e)));Mo.length=0,await Ls(At.b.secondChance,t),(0,Io.c)((t=>{for(const[{siteId:i,pageId:a,formatId:n},r]of e)t.clean(n),t.call("std",{siteId:i,pageId:parseInt(a,10),formatId:n,target:ko(r)})}))}),.5),Uo=(e,t)=>{Mo.push([e,t]),(0,wo.c)("formatId refreshed:",e.formatId),Oo()},Bo=e=>{for(const t of Object.keys(e.strings).filter((e=>/^hbv?_/.test(e))))delete e.strings[t];for(const t of Object.keys(e.numbers).filter((e=>/^hbv?_/.test(e))))delete e.numbers[t]},Po=(0,ct.a)((e=>{e.enabled&&!ar.a&&((0,wo.c)(`setup started (${e.adserver})`),"dfp"!==e.adserver&&"both"!==e.adserver||Ao(e),"smart"!==e.adserver&&"both"!==e.adserver||(e=>{So.on("noad",(async t=>{const i=[];if(!(0,wo.d)(e,t.tagId))return;try{const e=window.sas?.events.history("call")??[],a=new Set([t.tagId]);i.push(...Co(e,a))}catch(e){return(0,wo.b)("Error related to sas events history usage: aborting",e)}(0,wo.a)("lastCalls:",i);const a=i[0];if(!a)return(0,wo.f)("couldn't match elements to update with calls history");const n=Eo(a.target);if("boolean"===e.mode){const e=n.strings[wo.e]?.[0];"true"!==e&&(Bo(n),n.strings[wo.e]="true",Uo(a,n))}else{const t=parseInt(`${n.numbers[wo.e]?.[0]}`,10);Bo(n),isNaN(t)?(n.numbers[wo.e]="0",Uo(a,n)):t+1<e.maxCount&&(n.numbers[wo.e]=`${t+1}`,Uo(a,n))}}))})(e))}));var No=i(28);const{debug:jo}=et.a.tag("intrastitial"),zo=new No.a(!0);let qo,$o;const Fo=(0,ct.a)((e=>{{if(!e||e.periodicity<0)return;const t=e=>(0,Tt.m)(e)&&(0,Tt.l)(e.visits);$o=new It.a({name:"intrastitial",expirationInterval:e.sessionDuration??2592e3,storageType:()=>(0,wt.a)({name:"intrastitial"}),stream:()=>zo,validator:t}),jo("starting intrastitial"),qo=e,$o.updatedValue()}})),Vo=(e,t=new Map)=>{if(!(0,Tt.m)(e)&&!(0,Tt.c)(e))return e;const i=t.get(e);if(!(0,Tt.r)(i))return i;const a=(e=>{switch(e.constructor){case String:return new String(e);case Number:return new Number(e);case Boolean:return new Boolean(+e);case Date:return new Date(+e);case RegExp:return new RegExp(e.source,/\w*$/.exec(e));case Array:return[];case Set:return new Set;case Map:return new Map;case Object:return{};default:throw new Error(`unsupported type to clone: ${e.constructor}`)}})(e);return t.set(e,a),((e,t,i)=>{switch(t.constructor){case Array:t.forEach((t=>e.push(i(t))));break;case Set:t.forEach((t=>e.add(i(t))));break;case Map:t.forEach(((t,a)=>e.set(a,i(t))));break;case Object:Object.entries(t).forEach((([t,a])=>{e[t]=i(a)}))}})(a,e,(e=>Vo(e,t))),a},Lo=Vo,Go=e=>e.toLowerCase().replace(/ /g,"").replace(/_/g,"-"),Wo=({placement:e,refreshOptions:t})=>{const i=ht.remoteConfiguration?.currentValue?.publisherConfiguration?.cleanr;return i?.filter((i=>!(kt(i.supportCodes)&&!i.supportCodes?.includes(t.context.supportCode)||kt(i.placementIds)&&!i.placementIds?.includes(e.placementId)||kt(i.devices)&&!i.devices?.includes(yt.b)||!Mt(i.customTargeting))))},Ho=e=>{if(!ht.remoteConfiguration.currentValue?.publisherConfiguration?.callRates)return;const{placement:t,refreshOptions:i}=e,{contextDimensions:a,dimensionValues:n,rates:r}=ht.remoteConfiguration.currentValue.publisherConfiguration.callRates,o=((e,t,i,a)=>{const{context:n}=t,r=(new Date).getUTCHours(),o=Go(n.supportCode),s=Go(yt.b),d=Go(Dt.currentValue?.ua?.os?.name??""),l=Go(Dt.currentValue?.ua?.browser?.name?.toLowerCase()??""),p=(0,Rt.a)()?(0,Rt.b)()?"consentless":"consent":"consentless",c=Go(e.placementId),m="page-view"!==t.refreshReason?"true":"false",u={hourOfDay:()=>r,consent:()=>a.consent?.indexOf(p),uaDevice:()=>a.uaDevice?.indexOf(s),uaDeviceOs:()=>a.uaDeviceOs?.indexOf(d),isRefresh:()=>a.isRefresh?.indexOf(m),uaBrowser:()=>a.uaBrowser?.indexOf(l),placementId:()=>a.placementId?.indexOf(c),support:()=>a.support?.indexOf(o)};return i.map((e=>{const t=u[e];return t?t():"-1"})).join("/")})(t,i,a,n);return r[o]},Xo=(e,t,i)=>{const a=t[i.indexOf(e.bidder)];if(!a||0===a)return!0;const n=a/100;return(0,yo.a)({value:!0,weight:n},{value:!1,weight:1-n})},Yo=e=>Object.entries(e).flatMap((([e,t])=>t?[e]:[])),Jo=e=>{try{return new RegExp(e).test(location.href)}catch{return!1}},Ko=({priceFloor:e,currency:t="USD"})=>"USD"!==t&&e?e/(ht.remoteConfiguration.currentValue?.currencies.rates.USD?.[t]??1):e,Zo=e=>{const{pageZones:t,layouts:i,placementIds:a,supportCodes:n,isConsentless:r,urlMatching:o,allowedDisplayFormats:s,allowedSizes:d,allowedCustomFormats:l,viewability:p,countries:c,customTargeting:m}=e;return e.conditions&&0!==e.conditions.length?e:{...e,conditions:[{pageZones:t,layouts:i,placementIds:a,supportCodes:n,isConsentless:r,urlMatching:o,allowedDisplayFormats:s,allowedSizes:d,allowedCustomFormats:l,viewability:p,countries:c,customTargeting:m}]}},Qo=(e,t)=>e.conditions.reduce(((e,i)=>{var a,n;return((e,t)=>!kt(e.placementIds)||(0,St.a)(e.placementIds).includes(t.placementId))(i,t)&&(a=i,n=t.bidRequest.mediaTypes.banner?.sizes,!a.allowedSizes||a.allowedSizes.some((e=>{const[t,i]=e.split("x");return n?.some((([e,a])=>e===Number(t)&&a===Number(i)))})))&&((e,t)=>!e.allowedCustomFormats||e.allowedCustomFormats.some((e=>e===t)))(i,t.rendering?.outstream?.hbvFormat)&&e.push(i),e}),[]),es=(e,t)=>{const i=(0,Tt.r)(e)?1:"btf"===e?2:3;return((0,Tt.r)(t)?1:"btf"===t?2:3)-i},ts=(e,t)=>{if(!e.viewability)return[e];if(!t.position||(0,Tt.q)(t.position))return es(e.viewability,t.position)>=0?[e]:[];let i=e.allowedDisplayFormats??[wa.a.instream,wa.a.outstream,wa.a.banner,wa.a.native,wa.a.skin];const a=i.length;return es(e.viewability,t.position?.banner)<0&&(i=i.filter((e=>e!==wa.a.banner&&e!==wa.a.native&&e!==wa.a.skin))),es(e.viewability,t.position?.video)<0&&(i=i.filter((e=>!(e===wa.a.instream||e===wa.a.outstream)))),i.length===a?[e]:i.length>0?(e.allowedDisplayFormats=i,[e]):[]},is=e=>{const t=new Set;for(const i of e.conditions)i.allowedDisplayFormats?.forEach((e=>t.add(e)));return t.size?[...t]:void 0},as=e=>{const t=e.find((e=>!kt(e.mediaTypes)||(0,St.a)(e.mediaTypes).includes("video"))),i=e.find((e=>!kt(e.mediaTypes)||(0,St.a)(e.mediaTypes).includes("banner")));return{banner:i?.fold,video:t?.fold}},ns=(e,t,i)=>{for(const a of t){if(!kt(a.displayFormats)||!kt(a.displayFormats?.values))return!1;if(e.overrideMediaTypes){if(Yo(e.overrideMediaTypes).some((e=>Ot(a.displayFormats,e))))for(const[t,i]of Object.entries(e.overrideMediaTypes))i&&Ot(a.displayFormats,t)&&delete e.overrideMediaTypes[t]}else if(e.allowedMediaTypes)e.allowedMediaTypes=e.allowedMediaTypes.filter((e=>!Ot(a.displayFormats,e)));else if(i.some((e=>Ot(a.displayFormats,e)))){const t=i.reduce(((e,t)=>(Ot(a.displayFormats,t)||e.push(t),e)),[]);e.allowedMediaTypes=t}}return!0};var rs=i(76);const{info:os,debug:ss,error:ds}=et.a.tag("visibility:refresh"),{info:ls,debug:ps}=et.a.tag("visibility:events:exposition"),cs=new Map,ms=[],us=(()=>{if(window.ontouchstart)return!0;const e=["-webkit-","-moz-","-o-","-ms-",""].map((e=>`(${e}touch-enabled)`)).join(", ");return matchMedia(e).matches})(),{debug:bs}=et.a.tag("visibility:events:focus"),fs=()=>{const e=us?()=>va.a:(e,t,i)=>{bs(`${e.id||e.tagName}: start observing`);const a=t=>{bs(`${e.id||e.tagName}: received '${t.type}'`),i({isFocus:"mouseenter"===t.type})},n=new tr([Fn(e,"mouseenter",a),Fn(e,"mouseleave",a)]);return()=>{bs(`${e.id||e.tagName}: disposing`),n.dispose()}};return(t,i,a)=>(a({canRefresh:!0}),e(t,i,(e=>a({canRefresh:!e.isFocus}))))},{debug:gs,warn:ys}=et.a.tag("autorefresh:triggers:gam"),{debug:hs,warn:vs}=et.a.tag("autorefresh:triggers:sas");var _s=i(77);const{debug:Is}=et.a.tag("autorefresh:triggers:hsc"),ws=(e,t)=>{const i=Eo(e);for(const e of Object.keys(i.strings).filter((e=>/^hbv?_/.test(e))))delete i.strings[e];for(const e of Object.keys(i.numbers).filter((e=>/^hbv?_/.test(e))))delete i.numbers[e];return i.strings.hb_rfs="true",i.numbers.hb_pn=`${t}`,ko(i)},{debug:xs}=et.a.tag("visibility:events:timer"),Ts=new Map,Ds=[],As=(e,t)=>{t.isTimedUp&&t.inView&&t.isVisible&&e({isVisible:!0})},{debug:Ss}=et.a.tag("visibility:events:basic-timer"),Cs=new Map,Rs=[],ks=(e,t)=>{if(t.isTimedUp){try{const e=window.googletag?.pubads().getSlots().find((e=>e.getSlotElementId().endsWith("mpu_3")));e?.setTargeting("hbv_visible_placement_abtest",`${t.isVisible&&t.inView}`)}catch{}e({isVisible:!0})}},{debug:Es,warn:Ms,error:Os,info:Us}=et.a.tag("autorefresh"),Bs=e=>{if((0,_t.a)("no-refresh"))return va.a;const t=e.additionalUnregisterListener??[];!1!==e.withUnregisterListener&&t.push((e=>{const t=t=>{const i=document.getElementById(t);if(!i)return Ms(`${t}: couldn't get element`);e(i)};return Vr.on("didExcludePlacement",t),()=>{Vr.off("didExcludePlacement",t)}}));const i=(0,_t.b)("autorefresh-duration")??e.autorefresh?.duration??30,a=e.autorefresh?.rootMargin,n=[fs()],r=e.autorefresh?.visibleRatio??.5;"timer"===e.refreshListenerKind?n.push((e=>{const t=(e=>{const t=(0,Tt.g)(e.visibleRatio)?void 0:new IntersectionObserver((e=>{for(const t of Ds)t(e)}),{threshold:[0,e.visibleRatio,1],rootMargin:e.rootMargin,root:e.root});return(i,a,n)=>{const r=(0,Tt.g)(e.visibleRatio)?e.visibleRatio(i,a):e.visibleRatio,o=t??new IntersectionObserver((e=>{for(const t of Ds)t(e)}),{threshold:[0,r,1],rootMargin:e.rootMargin,root:e.root}),s={timeoutId:-1,isTimedUp:!1,inView:!1,isVisible:"visible"===document.visibilityState};s.timeoutId=s.timeoutId>=0?s.timeoutId:((e,t,i,a)=>{const n=(0,Tt.g)(a.duration)?a.duration(t):a.duration;return window.setTimeout((()=>{xs(`${t.id||t.tagName}: timer was up for ${n}s`),e.isTimedUp=!0,As(i,e)}),1e3*n)})(s,i,n,e);const d=e=>{const t=e.find((({target:e})=>e===i));if(!t)return;const{intersectionRatio:a,isIntersecting:o}=t;xs(`${i.id||i.tagName}:`,{intersectionRatio:a,isIntersecting:o}),s.inView=o&&a>=r,As(n,s)},l=()=>{const e="visible"===document.visibilityState;e&&xs(`${i.id||i.tagName}: document visible`),s.isVisible=e,As(n,s)};return document.addEventListener("visibilitychange",l),Ds.push(d),Ts.set(i,(Ts.get(i)??0)+1),o.observe(i),xs(`${i.id||i.tagName}: start observing`),()=>{xs(`${i.id||i.tagName}: disposing`),clearTimeout(s.timeoutId),document.removeEventListener("visibilitychange",l);const e=Ds.indexOf(d);e>=0&&Ds.splice(e,1);const t=Ts.get(i)??0;t>1?Ts.set(i,t-1):(Ts.delete(i),o.unobserve(i))}}})(e);return(e,i,a)=>t(e,i,(({isVisible:e})=>a({canRefresh:e})))})({visibleRatio:r,duration:i})):"basic-timer"===e.refreshListenerKind?n.push((e=>{const t=(e=>{const t=(0,Tt.g)(e.visibleRatio)?void 0:new IntersectionObserver((e=>{for(const t of Rs)t(e)}),{threshold:[0,e.visibleRatio,1],rootMargin:e.rootMargin,root:e.root});return(i,a,n)=>{const r=(0,Tt.g)(e.visibleRatio)?e.visibleRatio(i,a):e.visibleRatio,o=t??new IntersectionObserver((e=>{for(const t of Rs)t(e)}),{threshold:[0,r,1],rootMargin:e.rootMargin,root:e.root}),s={timeoutId:-1,isTimedUp:!1,inView:!1,isVisible:"visible"===document.visibilityState};s.timeoutId=s.timeoutId>=0?s.timeoutId:((e,t,i,a)=>{const n=(0,Tt.g)(a.duration)?a.duration(t):a.duration;return window.setTimeout((()=>{Ss(`${t.id||t.tagName}: timer was up for ${n}s`),e.isTimedUp=!0,ks(i,e)}),1e3*n)})(s,i,n,e);const d=e=>{const t=e.find((({target:e})=>e===i));if(!t)return;const{intersectionRatio:a,isIntersecting:o}=t;Ss(`${i.id||i.tagName}:`,{intersectionRatio:a,isIntersecting:o}),s.inView=o&&a>=r,ks(n,s)},l=()=>{const e="visible"===document.visibilityState;e&&Ss(`${i.id||i.tagName}: document visible`),s.isVisible=e,ks(n,s)};return document.addEventListener("visibilitychange",l),Rs.push(d),Cs.set(i,(Cs.get(i)??0)+1),o.observe(i),Ss(`${i.id||i.tagName}: start observing`),()=>{Ss(`${i.id||i.tagName}: disposing`),clearTimeout(s.timeoutId),document.removeEventListener("visibilitychange",l);const e=Rs.indexOf(d);e>=0&&Rs.splice(e,1);const t=Cs.get(i)??0;t>1?Cs.set(i,t-1):(Cs.delete(i),o.unobserve(i))}}})(e);return(e,i,a)=>t(e,i,(({isVisible:e})=>a({canRefresh:e})))})({visibleRatio:r,duration:i})):n.push((e=>{const t=(e=>{const t=(0,Tt.g)(e.visibleRatio)?void 0:new IntersectionObserver((e=>{for(const t of ms)t(e)}),{threshold:[0,e.visibleRatio,1],rootMargin:e.rootMargin,root:e.root});return(i,a,n)=>{const r=(0,Tt.g)(e.visibleRatio)?e.visibleRatio(i,a):e.visibleRatio,o=t??new IntersectionObserver((e=>{for(const t of ms)t(e)}),{threshold:[0,r,1],rootMargin:e.rootMargin,root:e.root});let s;const d=t=>{const o=t.find((e=>e.target===i));if(!o)return;const d=o.isIntersecting??o.intersectionRatio>0;ps(`${i.id||i.tagName}:`,{intersectionRatio:o.intersectionRatio,isIntersecting:d});const l=s?.timer??((e,t,i,a)=>{const n=(0,Tt.g)(a.duration)?a.duration(e,t):a.duration;return new co((()=>{ls(`${e.id||e.tagName}: was visible ${n}s`),i({isVisible:!0})}),n)})(i,a,n,e),p=d&&o.intersectionRatio>=r;p?(ls(`${i.id||i.tagName}: in view -> resuming timer (remaining: ${l.remaining}s)`),l.resume()):(ls(`${i.id||i.tagName}: *not* in view -> pausing timer (remaining: ${l.remaining}s)`),l.pause()),s={timer:l,inView:p}},l=()=>{if(!s)return;const{timer:e,inView:t}=s;"visible"===document.visibilityState&&t?(ps(`${i.id||i.tagName}: document visible && in view -> resuming timer (remaining: ${e.remaining}s)`),e.resume()):(ps(`${i.id||i.tagName}: document *not* visible -> pausing timer (remaining: ${e.remaining}s)`),e.pause())};return document.addEventListener("visibilitychange",l),ms.push(d),cs.set(i,(cs.get(i)??0)+1),o.observe(i),ps(`${i.id||i.tagName}: start observing`),()=>{ps(`${i.id||i.tagName}: disposing`),document.removeEventListener("visibilitychange",l);const e=ms.indexOf(d);e>=0&&ms.splice(e,1);const t=cs.get(i)??0;t>1?cs.set(i,t-1):(cs.delete(i),o.unobserve(i)),s?.timer.pause(),s=void 0}}})(e);return(e,i,a)=>t(e,i,(({isVisible:e})=>a({canRefresh:e})))})({visibleRatio:r,duration:i,rootMargin:a}));const o=[];var s,d;return e.adservers.has("gam")&&o.push((s=e.gamCustom?.watchParent,d=e.autorefresh?.isRefreshAllowedForElement,e=>{let t=t=>{const i=t.slot.getSlotElementId(),a=document.getElementById(i);if(!a)return ys(`${i}: couldn't get element`);if(Fr.has(i))return gs(`${i}: excluded from refresh -> rejecting`);if(!1===d?.({element:a,elementId:i,kind:"gam",event:t}))return gs(`${i}: filtered out -> rejecting`);const n=s&&a.parentElement?a.parentElement:a;e(n,{trigger:"gam",slot:t.slot,advertiserId:t.advertiserId,campaignId:t.campaignId})};return(0,Io.b)((e=>{e.pubads().addEventListener("slotRenderEnded",(e=>{t?.(e)}))})),()=>{t=void 0}})),e.adservers.has("sas")&&o.push((e=>t=>{const i=i=>{const{tagId:a,formatId:n}=i,r=document.getElementById(a);return r?Fr.has(a)?hs(`${a}: excluded from refresh -> rejecting`):!1===e?.({element:r,elementId:a,kind:"sas",event:i})?hs(`${a}: filtered out -> rejecting`):void t(r,{trigger:"sas",formatId:n}):vs(`${a}: couldn't get element`)};return So.on("ad",i),So.on("holisticAd",i),()=>{So.off("ad",i),So.off("holisticAd",i)}})(e.autorefresh?.isRefreshAllowedForElement)),e.adservers.has("hsc")&&o.push((e=>t=>{const i=({placementId:i,bidResponse:a,renderingDiv:n,isGamBypass:r,isSmartNoAd:o})=>{if(!o&&n)return Fr.has(i)||Fr.has(n.id)?Is(`${i}: excluded from refresh -> rejecting`):!1===e?.({placementId:i,element:n,elementId:n.id,kind:"hsc",bidResponse:a,isGamBypass:r})?Is(`${n.id||n.tagName}: filtered out -> rejecting`):void t(n,{trigger:"hsc",bidResponse:a,placementId:i,isGamBypass:r,isSmartNoAd:o})};return _s.a.on("hsc-render",i),_s.a.on("hsc-no-content",i),()=>{_s.a.off("hsc-render",i),_s.a.off("hsc-no-content",i)}})(e.autorefresh?.isRefreshAllowedForElement)),Us("set up auto refresh"),((e,t,i,a,n)=>{if(!(0,ei.b)()||ar.a)return os("autorefresh is disabled"),va.a;const r=n?.throttleDuration??.2,o=new Map,s=(e=0)=>({needsUpdate:!1,states:new Array(i.length).fill(!1),refreshCount:e}),d=Dn((()=>{const e=[];ss("fetching elements to update with observedElements",o);for(const[t,{state:i,context:a,maxRefreshCount:n}]of o){const{needsUpdate:r,states:o,refreshCount:s}=i;r&&(!n||s<n)&&o.every((e=>!0===e))&&e.push({element:t,refreshCount:s,context:a})}if(0===e.length)return ss("no element to update");os("elements to update",e);try{a(e)}catch(e){(0,Ia.a)(e,"error handling autorefresh")}for(const{element:t}of e){const e=o.get(t);if(!e)continue;const{state:i,disposables:a}=e;for(const e of a)e();a.splice(0,a.length),delete e.context;const n=i.refreshCount+1;e.state=s(n),e.maxRefreshCount&&n>=e.maxRefreshCount&&ss(`element '${t.id||t.tagName}' was refreshed ${e.maxRefreshCount} times: this element won't be refreshed anymore`)}}),r,{leading:!1}),l=t.map((e=>e((e=>{const t=o.get(e);if(t){ss("unregistering element",e.id||e.tagName);for(const e of t.disposables)e();t.disposables.splice(0,t.disposables.length),o.delete(e)}else ds("can't unregister element",e.id||e.tagName)})))),p=e.map((e=>e(((e,t)=>{(({element:e,context:t},i)=>{const a=o.get(e);if(a){const n=a.state.refreshCount;if(a.maxRefreshCount&&n>=a.maxRefreshCount)ss(`${e.id||e.tagName}: element already refreshed ${a.maxRefreshCount} times, rejecting`);else{ss(`${e.id||e.tagName}: already observed ${n} times'}, restarting observers`),a.context=t;for(const e of a.disposables)e();a.disposables.push(...i())}}else{ss(`${e.id||e.tagName}: add initial state, starting observers`);const a=(0,Tt.g)(n?.maxRefreshCount)?n?.maxRefreshCount(e):n?.maxRefreshCount,r={state:s(),disposables:[],context:t,maxRefreshCount:a};o.set(e,r),r.disposables.push(...i())}})({element:e,context:t},(()=>i.map(((i,a)=>i(e,t,(({canRefresh:t})=>{((e,t,i)=>{const a=o.get(e);a&&(a.state.needsUpdate=!a.maxRefreshCount||a.state.refreshCount<a.maxRefreshCount,a.state.states[i]=t)})(e,t,a),d()}))))))}))));return()=>{ss("disposing");for(const e of l)e();for(const e of p)e();o.forEach((({disposables:e})=>{for(const t of e)t()})),o.clear()}})(o,t,n,(e=>async t=>{const i=Yn(t,(e=>"hsc"===e.context?.trigger&&e.context.isGamBypass?"gam":e.context?.trigger)),a=new Set;let n;if(i.gam){n=((e,t)=>e.gamCustom?.getElementIdsToRefresh?.(t))(e,i.gam);for(const e of n??i.gam)"gam"===e.context?.trigger?a.add(e.context.slot.getSlotElementId()):a.add(e.element.id)}if(i.hsc)for(const e of i.hsc){const t=e.context;a.add(t.bidResponse?.placementId??t.placementId)}const r=[];if(i.sas)try{const e=window.sas?.events.history("call")??[],t=new Set(i.sas.map((({element:e})=>e.id)));r.push(...Co(e,t));for(const e of r)a.add(e.formatId)}catch(e){reportError(new _a.b(_a.a.unexpected,e))}if(await Ls(At.b.visibility,a),i.sas)for(const e of i.sas){if(Es("lastCalls:",r),0===r.length)return Ms("couldn't match element(s) to update with calls history");const t=r.find((t=>e.element.id===t.tagId));if(!t)return Os(`couldn't get refresh's data from slot ${e.element.id}`);const{siteId:i,formatId:a,pageId:n,target:o,tagId:s}=t,d=e.refreshCount+2;window.sas?.clean(a),window.sas?.call("std",{siteId:i,pageId:Number(n),formatId:a,tagId:s,target:ws(o,d)})}if(i.gam){const t=e.gamCustom?.getGamSlots?.(i.gam)??window.googletag?.pubads().getSlots();for(const a of n??i.gam){const i="gam"===a.context?.trigger&&e.gamCustom?.watchParent?a.context.slot:t?.find((e=>a.element.id===e.getSlotElementId()));if(!i)return;i.setTargeting("hbv_pn",`${a.refreshCount+2}`),i.setTargeting("hbv_rfs","true");const n=e.gamCustom?.additionalTargetings?.(a.refreshCount);if(n)for(const[e,t]of Object.entries(n))(0,Tt.i)(t)?i.setTargeting(e,t):i.clearTargeting(e);e.gamCustom?.beforeRefresh?.(i),window.googletag?.pubads().refresh(i)}}})(e),{maxRefreshCount:e.autorefresh?.maxRefreshCount})},Ps=1/0,Ns=(e,t,i=!1)=>{const a=e.getElementsByTagName("iframe")[0];if(a){const e=a.dataset.hbvBidder??"",n=a.dataset.hbvPlacementId??"",r=a.dataset.hbvDisplayFormat??"",o=a.dataset.hbvVastXmlDurationInSeconds?Number(a.dataset.hbvVastXmlDurationInSeconds):30;for(const a of t)if((!a.bidders||a.bidders.includes(e))&&(!a.placementIds||a.placementIds.includes(n))&&(!a.displayFormats||a.displayFormats.includes(r)))return i?a.value??(r===wa.a.outstream?o+1:30):a.value}},{warn:js,error:zs}=et.a.tag("hubvisor");let qs,$s,Fs,Vs=0;const Ls=async(e,t=new Set)=>{if(!qs)return zs("init must be called before refresh");const{bus:i,bidder:a,settings:n}=qs;e===At.b.pageView&&st.newPageViewId();const r=(()=>{const e=Vs;return Vs+=1,e})();i.emit(ti.a.refreshRequested,{refreshReason:e,startOrder:r});const o=await(async e=>{try{return await(async e=>{const{consent:t}=e;if(!t.enabled)return nt("consent module was disabled in the configuration! the bidders won't be able to obtain user consent");at("started turbocmp");const i=await Qe.a.updatedValue();if(i?.tcData)((e,t)=>{const i=Object.assign({},t.defaults,e,t.overrides);Ae.d.setConsentData(i)})({apiVersion:2,consentString:i.tcData.tcString,vendorData:i.tcData,gdprApplies:i.tcData.gdprApplies,addtlConsent:i.tcData.addtlConsent},t),rt("tcf consent data is ready",i.tcData);else{if(t.shouldSkipAuctionOnConsentFailure)throw new Error("No consent available: auction should be skipped");nt("consent couldn't be retrieved: bidders won't be able to obtain user consent")}if(t.shouldSkipAuctionOnNegativeConsent&&!(0,it.d)(i?.tcData,it.a.storageAccess))throw new Error("No storage purpose available: auction should be skipped")})(e),rs.a.provide(Xe.getUserIdsAsEids),!0}catch(e){return js("Failed retrieving user consent; auction will be aborted",e),!1}})(n),s=await(async(e,t,i)=>{const a=performance.now(),[n,r]=await Promise.allSettled([Dt.updatedValue(),ht.remoteConfiguration.updatedValue()]);if(t===At.b.pageView&&((()=>{{if(!qo)return;const e=($o?.currentValue?.visits??0)+1;jo(`incrementing intrastitial visits to ${e}`),zo.next({visits:e})}})(),Fs?.(),!e.isAutoRefreshEnabled)){const t=ht.remoteConfiguration.currentValue?.publisherConfiguration?.options?.filter((e=>"autorefresh"===e.option));Fs=((e,t)=>{if(t)for(const i of t){if(kt(i.supportCodes)&&!i.supportCodes.includes(e))continue;if(kt(i.devices)&&!i.devices.includes(yt.b))continue;const t=e=>i.params.duration?Ns(e,i.params.duration,!0)??30:30,a=e=>i.params.visibleRatio?Ns(e,i.params.visibleRatio)??.5:.5,n=e=>i.params.maxRefreshCount?Ns(e,i.params.maxRefreshCount)??Ps:Ps,r=e=>{if(!kt(i.params.elementIds))return!0;const t=i.params.elementIds.includes(e.elementId);return i.params.isElementIdsWhiteList?t:!t},o={adservers:new Set(i.params.adservers),autorefresh:{duration:t,visibleRatio:a,isRefreshAllowedForElement:r,maxRefreshCount:n},refreshListenerKind:i.params.refreshListenerKind};return Bs(o)}})(e.support,t)}const o="fulfilled"===n.status?n.value:void 0;Lt();const s=await e.buildRefreshOptions({clientCtx:o,refreshReason:t,requestedPlacements:i});"fulfilled"!==r.status&&(s.placements=s.placements.map((e=>({...e,bidRequest:{...e.bidRequest,bids:[]}}))),"validation failed"===r.reason?.message&&(0,Ia.a)(new _a.b(_a.a.remoteConfigurationNotFound,"Error while validating remote configuration"))),(0,_t.b)("bidder-timeout")&&(s.bidderTimeout=(0,_t.b)("bidder-timeout"));const d=(e=>{if(!qs)return zs("init must be called before the placement customization"),[];const{bus:t}=qs,i=(()=>{{if(!qo||qo.periodicity<0)return!1;let e;if(qo.externalVisitsProvider)try{e=qo.externalVisitsProvider()}catch(t){reportError(new _a.b(_a.a.visitsProviderError,t)),e=$o?.currentValue?.visits}else e=$o?.currentValue?.visits;return!(!e||e<=0)&&e%qo.periodicity==0}})()?e.placements:e.placements.filter((e=>"intrastitial"!==e.rendering?.format));return(e=>{const{placements:t,refreshOptions:i,bus:a}=e,{context:n}=i,r=ht.remoteConfiguration.currentValue?.publisherConfiguration?.bidders?.filter((e=>((e,t)=>Ot(e.pageZones,t.pageZone)&&Ot(e.supportCodes,t.supportCode)&&Ot(e.layouts,t.layout)&&Bt(e.consent,e.consentless)&&Ut(e.countries)&&ei.d)(e,n)))??[],o=ht.remoteConfiguration.currentValue?.publisherConfiguration?.deals?.map(Zo).reduce(((e,t)=>{const i=((e,t)=>e.conditions.filter((i=>(!kt(i.pageZones)||(0,St.a)(i.pageZones).includes(t.pageZone))&&(!kt(i.layouts)||(0,St.a)(i.layouts).includes(t.layout))&&(!kt(i.supportCodes)||(0,St.a)(i.supportCodes).includes(t.supportCode))&&((0,Tt.j)(i.isConsentless)||i.isConsentless===(0,Rt.b)())&&(!kt(i.urlMatching)||(0,St.a)(i.urlMatching).every(Jo))&&Mt(e.customTargeting)&&(e=>{if(!kt(e.countries))return!0;const t=Dt.currentValue?.geo?.country?.iso;return!!t&&(0,St.a)(e.countries).includes(t)})(i))))(t,n);return i&&i.length>0&&e.push({...t,conditions:i}),e}),[])??[],s=ht.remoteConfiguration.currentValue?.publisherConfiguration?.folds?.filter((e=>((e,t)=>(!kt(e.pageZones)||(0,St.a)(e.pageZones).includes(t.pageZone))&&(!kt(e.devices)||(0,St.a)(e.devices).includes(t.layout))&&(!kt(e.supportCodes)||(0,St.a)(e.supportCodes).includes(t.supportCode)))(e,n)))??[];if(0===r.length&&0===o.length&&0===s.length&&!ht.remoteConfiguration?.currentValue?.publisherConfiguration?.callRates)return t;const d=Lo(t);for(const e of d){const t=r.filter((t=>Ot(t.placementIds,e.placementId))),n=Ho({placement:e,refreshOptions:i}),d=o.reduce(((t,i)=>{const a=Qo(i,e);return a&&a.length>0&&t.push({...i,conditions:a}),t}),[]),l=s.filter((t=>!kt(t.placementIds)||(0,St.a)(t.placementIds).includes(e.placementId)));if(e.position||(e.position=as(l)),d.length>0){const t=d.reduce(((t,i)=>(i.conditions=i.conditions?.flatMap((t=>ts(t,e))),i.conditions&&i.conditions.length>0&&t.push(i),t)),[]);t.length>0&&(e.bidRequest.deals=[...e.bidRequest.deals??[],...t.map((e=>({name:e.name,priceFloor:Ko(e),allowedDisplayFormats:is(e)})))])}if(0===t.length&&!n)continue;const p=Wo({placement:e,refreshOptions:i}),c=Yo(e.bidRequest.mediaTypes),m=ht.remoteConfiguration?.currentValue?.publisherConfiguration?.callRates?.bidders;e.bidRequest.bids=e.bidRequest.bids.filter((i=>{const r=t.filter((e=>Ot(e.bidders,i.bidder)));if(!1===(0===r.length||ns(i,r,c)))return!1;if(!n||!m||!p||0===p.length)return!0;if(!p.some((({bidders:e})=>!e||e.type===Ct.a.INCLUDE&&e.values.includes(i.bidder)||Ct.a.EXCLUDE&&!e.values.includes(i.bidder))))return!0;const o=Xo(i,n,m);return!1===o&&a.emit(ti.a.carbonFilteredBid,{connector:i.bidder,placementId:e.placementId}),o}))}return d})({placements:i,refreshOptions:e,bus:t})})(s);((e,t,i)=>{for(const a of i){const{bidRequest:i}=a;if(i.ortb2Imp?.ext?.gpid)continue;const n=`${t}-${e.supportCode}-${e.layout}-${e.pageZone}-${a.placementId}`;i.ortb2Imp={...i.ortb2Imp,ext:{...i.ortb2Imp?.ext,gpid:n}}}})(s.context,e.publisherId,d);const l=s.bidderTimeout??e.bidderTimeout,p=new At.a({...s,placements:d,bidderTimeout:l});return Qn.config(performance.now()-a),p})(n,e,t),d=(0,ot.b)(),l=new Promise((e=>{const t=a=>{a.auctionIds.has(d)&&(e(),i.off(ti.a.renderRequested,t))};i.on(ti.a.renderRequested,t)}));return a.start({refreshConfig:s,shouldContinueAuction:o,auctionId:d,startOrder:r}),l},Gs=new Map;function Ws(e){const t=new Map,i={};return Object.entries(e).forEach((([e,a])=>{const n=a.find((t=>null!=t.idObj?.[e]));n&&(i[e]=n.idObj[e],t.set(e,n.submodule.eids?.[e]))})),function(e,t=Gs){const i={};function a(e){const t=JSON.stringify([e.source?.toLowerCase(),e.ext]);i.hasOwnProperty(t)?i[t].uids.push(...e.uids):i[t]=e}return Object.entries(e).forEach((([e,i])=>{i=Array.isArray(i)?i:[i],("pubProvidedId"===e?(0,n.p)(i):i.map((i=>function(e,t,i){if(i&&e){let t={};t.source=(0,n.Z)(i.getSource)?i.getSource(e):i.source;const a=(0,n.Z)(i.getValue)?i.getValue(e):e;if((0,n.eb)(a)){const r={id:a,atype:i.atype};if((0,n.Z)(i.getUidExt)){const t=i.getUidExt(e);t&&(r.ext=t)}if(t.uids=[r],(0,n.Z)(i.getEidExt)){const a=i.getEidExt(e);a&&(t.ext=a)}return t}}return null}(i,0,t.get(e))))).filter((e=>null!=e)).forEach(a)})),Object.values(i)}(i,t)}const Hs=(0,T.b)("sync",(()=>{})),Xs="User ID",Ys=te.a,Js=te.b,Ks="_pbjs_id_optout",Zs=(0,te.c)("userId"),Qs={isAllowed:fe.a};let ed,td,id,ad,nd,rd=!1,od=[],sd=[],dd={},ld=[];const pd=(()=>{let e;return()=>(null==e&&(e=(0,ae.a)()),e)})();function cd(e){return pd().fork().renameWith((t=>[`userId.mod.${t}`,`userId.mods.${e}.${t}`]))}function md(e,t){t=t||e.storageMgr;const i="function"==typeof e.submodule.domainOverride?e.submodule.domainOverride():null,a=e.config.storage.name;return function(e,n,r){t.setCookie(a+(e||""),n,r,"Lax",i)}}function ud(e,t){const i=e.config.storage;try{const a=new Date(Date.now()+864e5*i.expires).toUTCString(),r=(0,n.bb)(t)?JSON.stringify(t):t;e.enabledStorageTypes.forEach((t=>{switch(t){case Ys:!function(e,t,i){const a=e.config.storage,n=md(e);n(null,t,i),n("_cst",Md(),i),"number"==typeof a.refreshInSeconds&&n("_last",(new Date).toUTCString(),i)}(e,r,a);break;case Js:!function(e,t,i){const a=e.config.storage,n=e.storageMgr;n.setDataInLocalStorage(`${a.name}_exp`,i),n.setDataInLocalStorage(`${a.name}_cst`,Md()),n.setDataInLocalStorage(a.name,encodeURIComponent(t)),"number"==typeof a.refreshInSeconds&&n.setDataInLocalStorage(`${a.name}_last`,(new Date).toUTCString())}(e,r,a)}}))}catch(e){(0,n.gb)(e)}}function bd(e,t){const i=e.config.storage,a=t?`${i.name}_${t}`:i.name;let r;try{e.enabledStorageTypes.find((t=>{switch(t){case Ys:r=function(e,t){return e.storageMgr.getCookie(t)}(e,a);break;case Js:r=function(e,t){const i=e.storageMgr,a=e.config.storage,n=i.getDataFromLocalStorage(`${a.name}_exp`);return""===n?i.getDataFromLocalStorage(t):n&&new Date(n).getTime()-Date.now()>0?decodeURIComponent(i.getDataFromLocalStorage(t)):void 0}(e,a)}return!!r})),"string"==typeof r&&"{"===r.trim().charAt(0)&&(r=JSON.parse(r))}catch(e){(0,n.gb)(e)}return r}function fd(e,t,i){t=pd().fork().startTiming("userId.callbacks.total").stopBefore(t);const a=(0,n.r)((()=>{clearTimeout(void 0),t()}),e.length);e.forEach((function(e){const t=cd(e.submodule.name).startTiming("callback").stopBefore(a);try{e.callback((function(a){a?(e.config.storage&&ud(e,a),e.idObj=e.submodule.decode(a,e.config),i.refresh(),Od(i)):(0,n.hb)(`${Xs}: ${e.submodule.name} - request id responded with an empty value`),t()}),bd.bind(null,e))}catch(i){(0,n.gb)(`Error in userID module '${e.submodule.name}':`,i),t()}e.callback=void 0}))}function gd(e){return Object.fromEntries(Object.entries(e).map((([e,t])=>[e,t.find((t=>null!=t.idObj?.[e]))?.idObj?.[e]])).filter((([e,t])=>null!=t)))}function yd(e,t,i){const a={};return e.forEach((e=>{const n=i(e),r=function(e){if(e.primaryIds)return e.primaryIds;const t=Object.keys(e.eids??{});if(t.length>1)throw new Error(`ID submodule ${e.name} can provide multiple IDs, but does not specify 'primaryIds'`);return t}(n);t(e).forEach((t=>{const i=a[t]=a[t]??[],o=dd[t]?.indexOf(n.name)??(r.includes(t)?0:-1),s=i.findIndex((([e])=>e<o));i.splice(-1===s?i.length:s,0,[o,e])}))})),Object.fromEntries(Object.entries(a).map((([e,t])=>[e,t.map((([e,t])=>t))])))}function hd({adUnits:e,ortb2Fragments:t}){if(function(e){const{global:t,bidder:i}=e,{global:a,bidder:n}=ed,o=Ws(a);o.length>0&&(0,r.a)(t,"user.ext.eids",(t.user?.ext?.eids??[]).concat(o)),Object.entries(n).forEach((([e,t])=>{const a=Ws(t);a.length>0&&(0,r.a)(i,`${e}.user.ext.eids`,(i[e]?.user?.ext?.eids??[]).concat(a))}))}(t=t??{global:{},bidder:{}}),[e].some((e=>!Array.isArray(e)||!e.length)))return;const i=gd(ed.global),a=t.global.user?.ext?.eids||[];e.forEach((e=>{e.bids&&(0,n.V)(e.bids)&&e.bids.forEach((e=>{const n=Object.assign({},i,gd(ed.bidder[e.bidder]??{})),r=a.concat(t.bidder[e.bidder]?.user?.ext?.eids||[]);Object.keys(n).length>0&&(e.userId=n),r.length>0&&(e.userIdAsEids=r)}))}))}const vd={};let _d;function Id(e=Td()||[]){const t=ad&&e.find((e=>e.source===ad));if(t&&"string"==typeof(0,o.a)(t,"uids.0.id")){const e=t.uids[0].id.replace(/[\W_]/g,"");if(e.length>=32&&e.length<=150)return e;(0,n.jb)(`User ID - Googletag Publisher Provided ID for ${ad} is not between 32 and 150 characters - ${e}`)}}const wd=(0,ae.b)("userId",(function(e,t,{delay:i=X.a.timeout,getIds:a=Ed}={}){X.a.race([a().catch((()=>null)),i(id)]).then((()=>{hd(t),pd().join((0,ae.d)(t.metrics),{propagate:!1,includeGroups:!0}),e.call(this,t)}))}));function xd(){return gd(ed.combined)}function Td(){return Ws(ed.combined)}function Dd(e){return Td().filter((t=>t.source===e))[0]}function Ad(e,t,i){return Rd().then((()=>{let a={};if((0,n.Z)(i)){(0,n.hb)(`${Xs} - Getting encrypted signal from custom function : ${i.name} & source : ${e} `);const t=i(e);a[e]=t?Sd(t):null}else{const i=Dd(e);(0,n.hb)(`${Xs} - Getting encrypted signal for eids :${JSON.stringify(i)}`),(0,n.Y)(i)||(a[i.source]=!0===t?Sd(i):i.uids[0].id)}return(0,n.hb)(`${Xs} - Fetching encrypted eids: ${a[e]}`),a[e]}))}function Sd(e,t=1){let i="";return 1===t&&(i="object"==typeof e?window.btoa(JSON.stringify(e)):window.btoa(e)),`${t}||${i}`}function Cd(){if(!(0,n._)())return;window.googletag.secureSignalProviders=window.googletag.secureSignalProviders||[];const e=v.config.getConfig("userSync.encryptedSignalSources");if(e){const t=e.registerDelay||0;setTimeout((()=>{e.sources&&e.sources.forEach((({source:e,encrypt:t,customFunc:i})=>{e.forEach((e=>{window.googletag.secureSignalProviders.push({id:e,collectorFunction:()=>Ad(e,t,i)})}))}))}),t)}else(0,n.jb)(`${Xs} - ESP : encryptedSignalSources config not defined under userSync Object`)}function Rd(e){return _d(e).then((()=>xd()),(e=>e===vd?Promise.resolve().then(Ed):((0,n.gb)("Error initializing userId",e),X.a.reject(e))))}function kd({submoduleNames:e}={},t){return Rd({refresh:!0,submoduleNames:e}).then((e=>(t&&(0,n.Z)(t)&&t(),e)))}function Ed(){return Rd()}function Md(){let e=Number(Ae.c.hash);const t=[];for(;e>0;)t.push(String.fromCharCode(255&e)),e>>>=8;return btoa(t.join())}function Od(e){const t=Ws(e.combined);if(t.length&&ad){const e=Id(t);e&&((0,n._)()?window.googletag.pubads().setPublisherProvidedId(e):(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){window.googletag.pubads().setPublisherProvidedId(e)}))))}}function Ud(e,t,i=!1){return pd().fork().measureTime("userId.init.modules",(function(){if(!t.length)return[];if(t.forEach((e=>Nd(e))),!(t=t.filter((e=>(!e.config.storage||!!e.enabledStorageTypes.length)&&Qs.isAllowed(ye.b,(0,ge.a)(Y.e,e.config.name))))).length)return(0,n.jb)(`${Xs} - no ID module configured`),[];const a=t.reduce(((e,t)=>cd(t.submodule.name).measureTime("init",(()=>{try{(function(e,t){const i=Ae.d.getConsentData();if(e.config.storage){let a,r=bd(e),o=!1;if("number"==typeof e.config.storage.refreshInSeconds){const t=new Date(bd(e,"last"));o=t&&Date.now()-t.getTime()>1e3*e.config.storage.refreshInSeconds}if(!r||o||t||function(e){const t=bd(e,"cst");return!t||t!==Md()}(e)){const t=Object.assign({enabledStorageTypes:e.enabledStorageTypes},e.config);a=e.submodule.getId(t,i,r)}else"function"==typeof e.submodule.extendId&&(a=e.submodule.extendId(e.config,i,r));(0,n.bb)(a)&&(a.id&&(ud(e,a.id),r=a.id),"function"==typeof a.callback&&(e.callback=a.callback)),r&&(e.idObj=e.submodule.decode(r,e.config))}else if(e.config.value)e.idObj=e.config.value;else{const t=e.submodule.getId(e.config,i,void 0);(0,n.bb)(t)&&("function"==typeof t.callback&&(e.callback=t.callback),t.id&&(e.idObj=e.submodule.decode(t.id,e.config)))}})(t,i),e.push(t)}catch(e){(0,n.gb)(`Error in userID module '${t.submodule.name}':`,e)}return e}))),[]);return e.refresh(a),Od(e),a}))}function Bd(e){return e?.storage?.type?.trim().split(/\s*&\s*/)||[]}const Pd=new Set([Js,Ys]);function Nd(e){if(e.enabledStorageTypes)return;const t=Bd(e.config);e.enabledStorageTypes=t.filter((t=>{switch(t){case Js:return function(e){return!(!e.storageMgr.localStorageIsEnabled()||Zs.getDataFromLocalStorage(Ks)&&((0,n.hb)(`${Xs} - opt-out localStorage found, storage disabled`),1))}(e);case Ys:return function(e){return!(!e.storageMgr.cookiesAreEnabled()||Zs.getCookie(Ks)&&((0,n.hb)(`${Xs} - opt-out cookie found, storage disabled`),1))}(e)}return!1}))}function jd(e){Gs.clear(),Object.entries(yd(e,(e=>Object.keys(e.eids||{})),(e=>e))).forEach((([e,t])=>Gs.set(e,t[0].eids[e])))}function zd(){jd(ld);const e=function(e){function t(e,...t){(0,n.jb)(`Invalid userSync.userId config: ${e}`,...t)}return Array.isArray(e)?e.filter((e=>{if(!e?.name)return t('must specify "name"',e);if(e.storage){if(!e.storage.name||!e.storage.type)return t('must specify "storage.name" and "storage.type"',e);if(!function(e){return Bd(e).every((e=>Pd.has(e)))}(e))return t('invalid "storage.type"',e);["expires","refreshInSeconds"].forEach((i=>{let a=e.storage[i];null!=a&&"number"!=typeof a&&(a=Number(a),isNaN(a)?(t(`storage.${i} must be a number and will be ignored`,e),delete e.storage[i]):e.storage[i]=a)}))}return!0})):(null!=e&&t("must be an array",e),[])}(sd);if(!e.length)return;const t=ld.filter((e=>!(0,l.b)(od,(t=>t.name===e.name))));od.splice(0,od.length),t.map((t=>{const i=(0,l.b)(e,(e=>e.name&&(e.name.toLowerCase()===t.name.toLowerCase()||t.aliasName&&e.name.toLowerCase()===t.aliasName.toLowerCase())));return i&&t.name!==i.name&&(i.name=t.name),i?{submodule:t,config:i,callback:void 0,idObj:void 0,storageMgr:(0,te.d)({moduleType:Y.e,moduleName:i.name})}:null})).filter((e=>null!==e)).forEach((e=>od.push(e))),od.length&&(rd||(Le.before(wd,100),ie.a.callDataDeletionRequest.before(qd),Hs.after((e=>e(Id()))),rd=!0),(0,n.hb)(`${Xs} - usersync config updated for ${od.length} submodules: `,od.map((e=>e.submodule.name))))}function qd(e,...t){(0,n.hb)("UserID: received data deletion request; deleting all stored IDs..."),od.forEach((e=>{if("function"==typeof e.submodule.onDataDeletionRequest)try{e.submodule.onDataDeletionRequest(e.config,e.idObj,...t)}catch(t){(0,n.gb)(`Error calling onDataDeletionRequest for ID submodule ${e.submodule.name}`,t)}!function(e){Nd(e),e.enabledStorageTypes.forEach((t=>{switch(t){case Ys:!function(e){const t=md(e,Zs),i=new Date(Date.now()-864e5).toUTCString();["","_last","_cst"].forEach((e=>{try{t(e,"",i)}catch(e){(0,n.gb)(e)}}))}(e);break;case Js:!function(e){["","_last","_exp","_cst"].forEach((t=>{try{Zs.removeDataFromLocalStorage(e.config.storage.name+t)}catch(e){(0,n.gb)(e)}}))}(e)}}))}(e)})),e.apply(this,t)}function $d(e){return function(){return Promise.resolve(e.apply(this,arguments))}}!function(e,{delay:t=X.a.timeout}={}){ad=void 0,od=[],sd=[],ed=function(){const e={submodules:[],global:{},bidder:{},combined:{},refresh(t=[]){const i=new Set(t.map((e=>e.submodule)));e.submodules=e.submodules.filter((e=>!i.has(e.submodule))).concat(t),function(){const t=yd(e.submodules,(e=>Object.keys(e.idObj??{})),(e=>e.submodule)),i={},a={};Object.entries(t).forEach((([e,t])=>{let r=!0;const o=new Set;t.map((e=>e.config.bidders)).forEach((e=>{Array.isArray(e)&&e.length>0?e.forEach((e=>o.add(e))):r=!1})),o.size>0&&!r?(0,n.jb)(`userID modules ${t.map((e=>e.submodule.name)).join(", ")} provide the same ID ('${e}'), but are configured for different bidders. ID will be skipped.`):0===o.size?i[e]=t:o.forEach((i=>{a[i]=a[i]??{},a[i][e]=t}))}));const r=Object.values(a).concat([i]).reduce(((e,t)=>Object.assign(e,t)),{});Object.assign(e,{global:i,bidder:a,combined:r})}()}};return e}(),_d=function({delay:e=X.a.timeout}={}){const t=(0,X.b)(),i=(0,X.b)();let a,r,o=!1;function s(e){return r=pd().fork(),null!=a&&a.reject(vd),a=(0,X.b)(),X.a.race([e,a.promise]).finally(r.startTiming("userId.total"))}let l=ed,p=od;function c(e){return function(...t){if(l===ed&&p===od)return e(...t)}}function m(){return Ae.c.promise.finally(r.startTiming("userId.init.consent"))}let u=s(X.a.all([T.d,t.promise]).then(m).then(c((()=>{Ud(l,p)}))).then((()=>i.promise.finally(r.startTiming("userId.callbacks.pending")))).then(c((()=>{const e=l.submodules.filter((e=>(0,n.Z)(e.callback)));if(e.length)return new X.a((t=>fd(e,t,l)))}))));return function({refresh:a=!1,submoduleNames:n=null,ready:r=!1}={}){return r&&!o&&(o=!0,t.resolve(),id>0?i.resolve():x.on(d.EVENTS.AUCTION_END,(function t(){x.off(d.EVENTS.AUCTION_END,t),e(td).then(i.resolve)}))),a&&o&&(u=s(u.catch((()=>null)).then(m).then(c((()=>{const e=Ud(l,p.filter((e=>null==n||n.includes(e.submodule.name))),!0).filter((e=>null!=e.callback));if(e.length)return new X.a((t=>fd(e,t,l)))}))))),u}}({delay:t}),null!=nd&&nd(),ld=[],nd=e.getConfig("userSync",(e=>{const t=e.userSync;t&&(ad=t.ppid,t.userIds&&(sd=t.userIds,td=(0,n.ab)(t.syncDelay)?t.syncDelay:h.a.syncDelay,id=(0,n.ab)(t.auctionDelay)?t.auctionDelay:h.a.auctionDelay,zd(),function(e,t){if(e){const i={},a=new Map(t.map((e=>e.aliasName?[e.aliasName,e.name]:[])));Object.keys(e).forEach((t=>{const r=(0,n.V)(e[t])?[...e[t]].reverse():[];i[t]=r.map((e=>a.has(e)?a.get(e):e))})),dd=i}else dd={};ed.refresh(),jd(t)}(t.idPriority,ld),_d({ready:!0})))})),(0,a.a)().getUserIds=xd,(0,a.a)().getUserIdsAsEids=Td,(0,a.a)().getEncryptedEidsForSource=$d(Ad),(0,a.a)().registerSignalSources=Cd,(0,a.a)().refreshUserIds=$d(kd),(0,a.a)().getUserIdsAsync=$d(Ed),(0,a.a)().getUserIdsAsEidBySource=Dd}(v.config),(0,T.c)("userId",(function(e){e.findRootDomain=oe,(0,l.b)(ld,(t=>t.name===e.name))||(ld.push(e),Ae.a.register(Y.e,e.name,e.gvlid),zd(),_d({refresh:!0,submoduleNames:[e.name]}))}),{postInstallAllowed:!0});const Fd={name:"pubProvidedId",gvlid:Ae.b,decode(e){const t=e?{pubProvidedId:e}:void 0;return(0,n.hb)("PubProvidedId: Decoded value "+JSON.stringify(t)),t},getId(e){const t=e&&e.params||{};let i=[];return(0,n.V)(t.eids)&&(i=i.concat(t.eids)),"function"==typeof t.eidsFunction&&(i=i.concat(t.eidsFunction())),{id:i}}};(0,T.e)("userId",Fd);const Vd="Invalid schain object found: ",Ld=" should be a string",Gd=" should be an Integer",Wd=" should be an object",Hd={STRICT:"strict",RELAXED:"relaxed",OFF:"off"},Xd=[];(0,n.a)(Hd,(e=>Xd.push(e))),ie.a.makeBidRequests.after((function(e,t){const i=v.config.getConfig("schain"),a=v.config.getBidderConfig();t.forEach((e=>{let t=e.bidderCode,r=function(e){return a[e]&&a[e].schain||i}(t);e.bids.forEach((e=>{let i=function(e,t){let i=Hd.STRICT;if(function(e){return!(void 0===e||!(0,n.bb)(e)&&((0,n.gb)(Vd+"the following schain config will not be used as schain is not an object.",e),1))}(e)){if((0,n.eb)(e.validation)&&-1!=Xd.indexOf(e.validation)&&(i=e.validation),i===Hd.OFF)return e.config;if(function(e,t){let i="Detected something wrong within an schain config:",a="";function r(e){a+="\n"+e}function o(){!0===t?(0,n.gb)(i,e,a):(0,n.jb)(i,e,a)}if(!(0,n.bb)(e)&&(r("schain.config"+Wd),o(),t))return!1;if((0,n.ab)(e.complete)&&(0,n.$)(e.complete)||r("schain.config.complete"+Gd),(0,n.eb)(e.ver)||r("schain.config.ver"+Ld),e.hasOwnProperty("ext")&&((0,n.bb)(e.ext)||r("schain.config.ext"+Wd)),(0,n.V)(e.nodes))e.nodes.forEach(((e,t)=>{(0,n.eb)(e.asi)||r(`schain.config.nodes[${t}].asi`+Ld),(0,n.eb)(e.sid)||r(`schain.config.nodes[${t}].sid`+Ld),(0,n.ab)(e.hp)&&(0,n.$)(e.hp)||r(`schain.config.nodes[${t}].hp`+Gd),e.hasOwnProperty("rid")&&((0,n.eb)(e.rid)||r(`schain.config.nodes[${t}].rid`+Ld)),e.hasOwnProperty("name")&&((0,n.eb)(e.name)||r(`schain.config.nodes[${t}].name`+Ld)),e.hasOwnProperty("domain")&&((0,n.eb)(e.domain)||r(`schain.config.nodes[${t}].domain`+Ld)),e.hasOwnProperty("ext")&&((0,n.bb)(e.ext)||r(`schain.config.nodes[${t}].ext`+Wd))}));else if(r("schain.config.nodes should be an Array"),o(),t)return!1;return!(a.length>0&&(o(),t))}(e.config,!(i!==Hd.STRICT)))return e.config;(0,n.gb)(Vd+`due to the 'strict' validation setting, this schain config will not be passed to bidder '${t}'.  See above error for details.`)}return null}(r,t);i&&(e.schain=(0,n.p)(i))}))})),e(t)})),(0,Li.i)({type:Li.f,name:"sourceExtSchain",fn:function(e,t,i){if(!(0,o.a)(e,"source.ext.schain")){const t=(0,o.a)(i,"bidRequests.0.schain");t&&(0,r.a)(e,"source.ext.schain",t)}}});var Yd=i(55);gt.c.add(Yd.a,(e=>new ir.AmazonContentProvider(e))),i(104);var Jd=i(78);const{info:Kd,debug:Zd,error:Qd}=et.a.tag("instream"),el=new class{#Ta;#Da;#Aa;#$;#Fe;#Sa={};start=e=>{this.#Fe=e.settings,this.#$=e.bus};#Ca=()=>{try{this.#Fe?.instream?.onRegisterBidsHandler?.()}catch{Qd("Error dispatching new bid handler event")}};registerBidsHandler=e=>{Zd("Using new bids Handler"),this.#Ca(),this.#Ta=e,this.#Ra()};#he=e=>{this.#$?.emit(ti.a.adrequest,e)};#Ra=()=>{if(!this.#Ta)return Zd("No instream bids handler has been installed - Rendering delayed until a callback is available");if(!this.#Da)return;const e=this.#Da;this.#Da=void 0;const t=this.#Aa;this.#Aa=void 0,t&&this.#he(t);try{Kd("Sending all targetings for instream placements",e),this.#Ta(e)}catch(e){Qd("Error calling instream bids handler",e)}};#ka=async e=>{for(const t of e)this.#Ea(t.placement.placementId);const{instreamBids:t,placementIds:i}=await this.#Ma(e);if(this.#Da?this.#Da={players:[...this.#Da.players,...t.players]}:this.#Da=t,this.#Aa)for(const e of i)this.#Aa.add(e);else this.#Aa=i;this.#Ra()};#Oa=e=>Object.entries(e).map((([e,t])=>`${e}=${t}`)).join("&");#Ea=e=>{(0,Tt.r)(this.#Sa[e])?this.#Sa[e]=0:this.#Sa[e]+=1};#Ua=(e,t)=>{const i=e.bidResponse,a={latency:i.fetchDuration,ttl:i.ttl,placementId:i.placementId,size:`${i.width}x${i.height}`,connector:i.bidder,vendorId:i.vendorId,adServer:"gam",refreshIndex:this.#Sa[i.placementId]??0,dealId:i.dealId,creativeId:i.creativeId,rawCpm:i.originalCpm,cpmKind:i.isNetRevenue?"net":"gross",currency:i.originalCurrency,adjustedUsdCpm:e.cpmAdjustment.adjustedCpm,rawUsdCpm:i.cpm,netUsdCpm:e.cpmAdjustment.netCpm,rawUsdIncrementCpm:e.cpmAdjustment.rawUsdIncrementCpm,netUsdIncrementCpm:e.cpmAdjustment.netUsdIncrementCpm,seatId:i.meta?.agencyId,advertiserId:i.meta?.advertiserId,advertiserDomains:i.meta?.advertiserDomains,categoryIds:i.meta?.primaryCatId?[i.meta?.primaryCatId,...i.meta?.secondaryCatIds??[]]:void 0,tags:t,demandSource:i.demandSource};return i.vastUrl?{vastUrl:i.vastUrl,metadata:a}:i.vastXml?{vastXml:i.vastXml,metadata:a}:void 0};#Ba=(e,t)=>{const i={};for(const a of e){const e=t[a.placement.placementId],n=a.placement.rendering?.instream?.slotId;if(!n){const e=new _a.b(_a.a.instreamConfigurationError,`No SlotID has been defined for placement: ${a.placement.placementId} - This is a configuration error and it should be fixed`);(0,Ia.a)(e);continue}const r=(0,Jd.b)({renderable:a,settings:this.#Fe,slotId:n,cacheId:e});(0,Jd.a)(i,r)}return{queryFragment:this.#Oa(i),targetings:i}};#Pa=e=>{const[t]=e;if(!t)return;const{creatives:i,auctionId:a}=e.reduce(((e,t)=>{const i=t.content.flatMap((e=>e.bidResponse.providerId===ca.a?this.#Ua(e,t.tags)??[]:[]));return i.length>0&&(e.auctionId=t.content[0]?.bidResponse.auctionId,e.creatives[t.placement.placementId]=i),e}),{creatives:{}});if(a)return{creatives:i,auctionId:a,firstRenderable:t};Object.values(i).length>0&&Zd("couldn't retrieve auctionId")};#Na=async e=>{const t=this.#Pa(e);if(!t||0===Object.values(t.creatives).length)return Zd("no prebid bids for instream: no need to store creatives"),{};try{const e=Qe.a.currentValue,{cmpStatus:i,tcData:a}=e??{},n={publisherId:this.#Fe.publisherId,pageViewId:st.pageViewId,auctionId:t.auctionId,consentString:(0,it.b)(a),gdprApplies:a?.gdprApplies,cmpStatus:i,network:t.firstRenderable.config.context.networkCode,brand:t.firstRenderable.config.context.publisherBrand,support:t.firstRenderable.config.context.supportCode,zone:t.firstRenderable.config.context.pageZone,layout:t.firstRenderable.config.context.layout,page:top?.location.href,auctionTimeout:t.firstRenderable.config.bidderTimeout,source:"wrapper",version:ei.g,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,connectionSpeed:Xr(),samplingRate:this.#Fe?.beamSampling},r=await fetch("https://cache-service.hubvisor.io",{method:"POST",body:JSON.stringify({creatives:t.creatives,metadata:n,shouldAddImpPixel:!(0,Tt.r)(qs?.beam)})});if(!r.ok)throw new Error(`http status: ${r.statusText}`);return(await r.json()).creatives}catch(e){return Qd("Error sending creatives to cache service",e),{}}};#ja=e=>{for(const t of e){const e=t.placement.rendering?.instream?.playerCallback;if(e)return e}};#za=(e,t)=>{try{t(e)}catch(e){Qd("Error while calling player callback",e)}};#Ma=async e=>{const t=await this.#Na(e),i=Yn(e,(e=>e.placement.rendering?.instream?.playerId)),{players:a,placementIds:n}=Object.entries(i).reduce(((e,[i,a])=>{if((0,Tt.j)(a))return e;const n=this.#Ba(a,t),r=this.#ja(a);r?this.#za({playerId:i,...n},r):e.players.push({playerId:i,...n});for(const t of a)e.placementIds.add(t.placement.placementId);return e}),{players:[],placementIds:new Set});return{instreamBids:{players:a},placementIds:n}};canRender=e=>!!e.placement.rendering?.instream;render=e=>{this.#ka(e)}};gt.h.register(qa.a.instream,el),(0,nr.b)("instream:on-bids-ready",(e=>{el.registerBidsHandler(e)})),Se.d.before(((e,t,i,a,n)=>{if((!i||a&&"outstream"!==n)&&t.vastXml)return e.bail(!0);e(t,i,a,n)}));var tl=i(93);const il="USD",al=/^[a-zA-Z0-9_-]{22}$/,nl={SIAB:"siab",INVIEW:"inview",INSTREAM:"instream"},rl=["mimes","minduration","maxduration","placement","plcmt","protocols","startdelay","skip","skipafter","minbitrate","maxbitrate","delivery","playbackmethod","api","linearity"],ol={uniqueSiteIds:[]},sl="nm";function dl(e){return`${e.params.siteId}:${e.params.productId}`}function ll(e){return`${e.bidId}`}function pl({bidRequests:e,gdprConsent:t={},uspConsent:i,gppConsent:a={},pageUrl:r,referer:s,ttxSettings:d,bidderRequest:l}){const p={},c=e[0],{siteId:m,test:u}=c.params,b=v.config.getConfig("coppa");return p.imp=[],e.forEach((e=>{p.imp.push(function(e){const t=(0,o.a)(e,"ortb2Imp.ext.gpid"),i={id:e.bidId,ext:{ttx:{prod:(0,o.a)(e,"params.productId")},...t?{gpid:t}:{}}};return(0,o.a)(e,"mediaTypes.banner")&&(i.banner={...fl(e)}),(0,o.a)(e,"mediaTypes.video")&&(i.video=function(e){const t={...(0,o.a)(e,"mediaTypes.video",{}),...(0,o.a)(e,"params.video",{})},i={},{w:a,h:r}=ml(t.playerSize[0]);i.w=a,i.h=r,rl.forEach((e=>{t.hasOwnProperty(e)&&(i[e]=t[e])}));const s=bl(e);if(i.plcmt??=i.placement?((0,n.jb)("[33Across Adapter] The ORTB field `placement` is deprecated, please use `plcmt` instead"),i.placement):2,s===nl.INSTREAM&&(i.startdelay=i.startdelay||0),"function"==typeof e.getFloor){const t=gl(e,{w:i.w,h:i.h},D.d);t&&Object.assign(i,{ext:{ttx:{bidfloors:[t]}}})}return i}(e)),i}(e))})),p.site={id:m},p.device=function(e={}){const t=(0,n.J)(),i={ext:{ttx:{...hl(),pxr:t.devicePixelRatio,vp:yl(),ah:t.screen.availHeight,mtp:t.navigator.maxTouchPoints}}};return e.sua&&(i.sua=(0,n.rb)(e.sua,["browsers","platform","model","mobile"])),i}(c.ortb2?.device),r&&(p.site.page=r),s&&(p.site.ref=s),p.id=l?.bidderRequestId,t.consentString&&(p.user=cl(p.user,{consent:t.consentString})),Array.isArray(c.userIdAsEids)&&c.userIdAsEids.length>0&&(p.user=cl(p.user,{eids:c.userIdAsEids})),p.regs=cl(p.regs,{gdpr:Number(t.gdprApplies)}),i&&(p.regs=cl(p.regs,{us_privacy:i})),a.gppString&&Object.assign(p.regs,{gpp:a.gppString,gpp_sid:a.applicableSections}),void 0!==b&&(p.regs.coppa=Number(!!b)),p.ext={ttx:{prebidStartedAt:Date.now(),caller:[{name:"prebidjs",version:"9.16.0"}]}},c.schain&&(p.source=cl(p.source,{schain:c.schain})),1===u&&(p.test=1),{method:"POST",url:d&&d.url||`https://ssc.33across.com/api/v1/hb?guid=${m}`,data:JSON.stringify(p),options:{contentType:"text/plain",withCredentials:!0}}}function cl(e={},t){return(0,n.lb)({},e,{ext:t})}function ml(e){return{w:parseInt(e[0],10),h:parseInt(e[1],10)}}function ul(e){return(0,n.lb)({},e,{params:{productId:bl(e)}})}function bl(e){const{params:t,mediaTypes:i}=e,{banner:a,video:n}=i;return n&&!a&&"instream"===n.context?nl.INSTREAM:t.productId===nl.INVIEW?t.productId:nl.SIAB}function fl(e){const t=(0,o.a)(e,"mediaTypes.banner",{}),i=(a=e.adUnitCode,document.getElementById(a)||document.getElementById(function(e){if((0,n._)()){const t=googletag.pubads().getSlots(),i=(0,tl.b)(e);for(let a=0;a<t.length;a++)if(i(t[a])){const i=t[a].getSlotElementId();return(0,n.hb)(`[33Across Adapter] Map ad unit path to HTML element id: '${e}' -> ${i}`),i}}return(0,n.jb)(`[33Across Adapter] Unable to locate element for ad unit code: '${e}'`),null}(a)));var a;const r=function(e){return(0,n.V)(e)&&2===e.length&&!(0,n.V)(e[0])?[ml(e)]:e.map(ml)}(t.sizes);let s;s="function"==typeof e.getFloor?r.map((t=>{const i=gl(e,t,D.b);let a;return i&&(a={ext:{ttx:{bidfloors:[i]}}}),Object.assign({},t,a)})):r;const d=function(e){return e.reduce(((e,t)=>t.h*t.w<e.h*e.w?t:e))}(r),l=function(e){return!function(){try{return(0,n.J)()!==(0,n.K)()}catch(e){return!0}}()&&null!==e}(i)?function(e,t,{w:i,h:a}={}){return"visible"===t.document.visibilityState?function(e,t,{w:i,h:a}={}){const n=function(e,{w:t,h:i}={}){let{width:a,height:n,left:r,top:o,right:s,bottom:d}=e.getBoundingClientRect();return(0===a||0===n)&&t&&i&&(a=t,n=i,s=r+t,d=o+i),{width:a,height:n,left:r,top:o,right:s,bottom:d}}(e,{w:i,h:a}),r=function(e){const t={left:e[0].left,right:e[0].right,top:e[0].top,bottom:e[0].bottom};for(let i=1;i<e.length;++i){if(t.left=Math.max(t.left,e[i].left),t.right=Math.min(t.right,e[i].right),t.left>=t.right)return null;if(t.top=Math.max(t.top,e[i].top),t.bottom=Math.min(t.bottom,e[i].bottom),t.top>=t.bottom)return null}return t.width=t.right-t.left,t.height=t.bottom-t.top,t}([{left:0,top:0,right:t.innerWidth,bottom:t.innerHeight},n]);let o,s;return null!==r?(o=r.width*r.height,s=n.width*n.height,o/s*100):0}(e,t,{w:i,h:a}):0}(i,(0,n.K)(),d):sl,p=function(e){return{ttx:{viewability:{amount:isNaN(e)?e:Math.round(e)}}}}(l);return{format:s,ext:p}}function gl(e,t,i){const a=e.getFloor({currency:il,mediaType:i,size:[t.w,t.h]});if(!isNaN(a.floor)&&a.currency===il)return a.floor}function yl(){const e=function(){let e=(0,n.J)();try{for(;e.parent!==e&&e.parent.document;)e=e.parent}catch(e){}return e}().document.documentElement;return{w:e.clientWidth,h:e.clientHeight}}function hl(){const{innerWidth:e,innerHeight:t,screen:i}=(0,n.J)(),[a,r]=[Math.max(i.width,i.height),Math.min(i.width,i.height)];return t>e?{w:r,h:a}:{w:a,h:r}}const vl={NON_MEASURABLE:sl,code:"33across",aliases:["33across_mgni"],supportedMediaTypes:[D.b,D.d],gvlid:58,isBidRequestValid:function(e){return function(e){return!!e.params&&!!function(e){return null!==((0,o.a)(e,"params.siteId","")||"").trim().match(al)}(e)}(e)&&function(e){const t=(0,o.a)(e,"mediaTypes.banner");return void 0===t||!!Array.isArray(t.sizes)}(e)&&function(e){const t=(0,o.a)(e,"mediaTypes.video"),i=(0,o.a)(e,"params.video",{});if(void 0===t)return!0;if(!Array.isArray(t.playerSize))return!1;if(!t.context)return!1;const a={...t,...i};return!(!Array.isArray(a.mimes)||0===a.mimes.length||!Array.isArray(a.protocols)||0===a.protocols.length||[a.placement,a.plcmt].some((e=>void 0!==e&&"number"!=typeof e))||"instream"===t.context&&void 0!==a.startdelay&&"number"!=typeof a.startdelay)}(e)},buildRequests:function(e,t){const{ttxSettings:i,gdprConsent:a,uspConsent:r,gppConsent:o,pageUrl:s,referer:d}=function(e,t){const i=Object.assign({},v.config.getConfig("ttxSettings")),a=Object.assign({consentString:void 0,gdprApplies:!1},t&&t.gdprConsent);return ol.uniqueSiteIds=e.map((e=>e.params.siteId)).filter(n.Gb),{ttxSettings:i,gdprConsent:a,uspConsent:t?.uspConsent,gppConsent:t?.gppConsent,pageUrl:t?.refererInfo?.page,referer:t?.refererInfo?.ref}}(e,t),l=function(e,t){return function(e,t){const i={};return e.forEach((e=>{const a=t(e);i[a]=i[a]||[],i[a].push(e)})),i}(t.map(ul),!0===(e&&e.enableSRAMode)?dl:ll)}(i,e),p=[];for(const e in l)p.push(pl({bidRequests:l[e],gdprConsent:a,uspConsent:r,gppConsent:o,pageUrl:s,referer:d,ttxSettings:i,bidderRequest:t}));return p},interpretResponse:function(e){const{seatbid:t,cur:i="USD"}=e.body;return(0,n.V)(t)?t.filter((e=>(0,n.V)(e.bid)&&e.bid.length>0)).reduce(((e,t)=>e.concat(t.bid.map((e=>function(e,t){const i=e.adomain&&e.adomain.length,a={requestId:e.impid,cpm:e.price,width:e.w,height:e.h,ad:e.adm,ttl:e.ttl||60,creativeId:e.crid,mediaType:(0,o.a)(e,"ext.ttx.mediaType",D.b),currency:t,netRevenue:!0};return i&&(a.meta={advertiserDomains:e.adomain}),a.mediaType===D.d&&("xml"===(0,o.a)(e,"ext.ttx.vastType","xml")?a.vastXml=a.ad:a.vastUrl=a.ad),a}(e,i))))),[]):[]},getUserSyncs:function(e,t,i,a,n){const r=e.iframeEnabled?ol.uniqueSiteIds.map((e=>function({siteId:e="zzz000000000003zzz",gdprConsent:t={},uspConsent:i,gppConsent:a={}}){const n=v.config.getConfig("ttxSettings"),r=n&&n.syncUrl||"https://ssc-cms.33across.com/ps/?m=xch&rt=html&ru=deb",{consentString:o,gdprApplies:s}=t,{gppString:d="",applicableSections:l=[]}=a,p={type:"iframe",url:`${r}&id=${e}&gdpr_consent=${encodeURIComponent(o)}&us_privacy=${encodeURIComponent(i)}&gpp=${encodeURIComponent(d)}&gpp_sid=${encodeURIComponent(l.join(","))}`};return"boolean"==typeof s&&(p.url+=`&gdpr=${Number(s)}`),p}({gdprConsent:i,uspConsent:a,gppConsent:n,siteId:e}))):[];return ol.uniqueSiteIds=[],r}};(0,Ye.b)(vl);const _l={},Il=e=>({url:"https://cdn.hubvisor.io/wrapper/common/player.js",render(t){const i=((e,t)=>Object.values(_l).map((i=>i.canRender(e,t)?i.createRenderCmd(e,t):void 0)).find(Tt.i))(t,e)??(()=>{const i=Xn.read(t.adUnitCode),a=document.querySelector(e.selector??`#${t.adUnitCode}`)??i?.document.body,n={vastXml:t.vastXml,vastUrl:t.vastUrl,targetWidth:t.width,targetHeight:t.height,renderContext:i,...e,onEvent:(i,a)=>e.onEvent?.(t,i,a)};(0,an.a)(a??`#${t.adUnitCode}`,n)});this.push(i)}}),wl=e=>Il({expand:qa.b.noLazyLoad,onEvent:(e,t)=>{switch(t){case"impression":case"first-quartile":case"midpoint":case"third-quartile":case"complete":rn.a.emit("outstream-imp",{adId:e.adId,kind:"impression"===t?"video-imp":t})}},...e}),xl=e=>(0,Tt.m)(e)&&(0,Tt.n)(e.mimesTypes,(0,Tt.h)(Tt.d,Tt.q))&&(0,Tt.n)(e.minDuration,Tt.l)&&(0,Tt.n)(e.maxDuration,Tt.l)&&(0,Tt.n)(e.startDelay,Tt.l)&&(0,Tt.n)(e.fitHeight,Tt.l)&&(0,Tt.n)(e.maxWidth,Tt.l)&&(0,Tt.n)(e.targetRatio,Tt.l)&&(0,Tt.n)(e.containerSelector,Tt.q)&&(0,Tt.n)(e.placement,Tt.q)&&(0,Tt.n)(e.isReplayable,Tt.e),Tl=e=>{return(0,Tt.m)(e)&&(0,Tt.q)(e.name)&&(0,Tt.n)(e.isGuaranteed,Tt.e)&&((0,Tt.n)(e.priceFloor,Tt.l)||(t=e.priceFloor,(0,Tt.m)(t)&&(e=>{const t=["video","banner","native"];return Object.getOwnPropertyNames(e).every((e=>t.includes(e)))})(t)&&(0,Tt.n)(t.native,Tt.l)&&(0,Tt.n)(t.video,Tt.l)&&(0,Tt.n)(t.banner,Tt.l)));var t};var Dl=i(64),Al=i(65);const Sl={api:[Dl.a.vpaid10,Dl.a.vpaid20,Dl.a.mraid1,Dl.a.mraid2,Dl.a.mraid3,Dl.a.omid1],linearity:2,mimes:["video/mp4","video/ogg","video/webm","application/javascript"],maxduration:30,minduration:1,protocols:[Al.a.vast10,Al.a.vast20,Al.a.vast30,Al.a.vast40,Al.a.vast10Wrapper,Al.a.vast20Wrapper,Al.a.vast30Wrapper,Al.a.vast40Wrapper,Al.a.vast41,Al.a.vast41Wrapper,Al.a.vast42,Al.a.vast42Wrapper],startdelay:0,placement:3,plcmt:4,playbackmethod:[2,3,4],skip:Ft.b.yes,pos:0},Cl={...Sl,linearity:1,placement:1,plcmt:1},Rl=(e,t,i)=>{for(const a of e)a.hbvMetadata={...t,...i}},kl=(e,t)=>Object.fromEntries(Object.entries({...e,...t}).filter((([,e])=>(0,Tt.c)(e)&&e.length||(0,Tt.i)(e)))),El=(e,t,i,a,n)=>{Rl(a,{displayFormat:wa.a.outstream,mediaType:fa,requestSizes:[i.playerSize]},n),e.push({adUnitCode:t,mediaTypes:{video:{...kl(Sl,i.openRtbParams),context:"outstream",playerSize:[i.playerSize]}},renderer:void 0,bids:a})},Ml=(e,t,i,a,n,r)=>{ar.a||(Rl(a,{displayFormat:wa.a.outstream,mediaType:fa,requestSizes:[i.playerSize]},r),e.push({adUnitCode:t,mediaTypes:{video:{...kl(Sl,i.openRtbParams),context:"outstream",playerSize:[i.playerSize]}},playerConfig:{expand:qa.b.noLazyLoad,...n},renderer:wl(n),bids:a}))},Ol=(e,t,i,a,n)=>{Rl(a,{displayFormat:wa.a.instream,mediaType:fa,requestSizes:[i.playerSize]},n),e.push({adUnitCode:t,mediaTypes:{video:{playerSize:[i.playerSize],context:"instream",...kl(Cl,i.openRtbParams)}},bids:a})},Ul=(e,t,i,a,n)=>{Rl(i,{displayFormat:wa.a.native,mediaType:ba},n),e.push({adUnitCode:t,mediaTypes:{native:a&&!(0,Tt.e)(a)?a:{type:"image"}},bids:i})},Bl=e=>1===e.length&&1800===e[0][0]&&1e3===e[0][1],Pl=(e,t,i,a,n)=>{Rl(a,{displayFormat:Bl(i)?wa.a.skin:wa.a.banner,mediaType:ua,requestSizes:i},n),e.push({adUnitCode:t,mediaTypes:{banner:{sizes:i}},bids:a})},Nl=e=>{const t=[];return e.banner&&t.push(...e.banner.sizes),e.skin&&t.push([1800,1e3]),t},jl={url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js",render(e){const t={ad:{video:{content:e.vastXml,player_height:e.height,player_width:e.width}}};this.push((()=>{window.ANOutstreamVideo.renderAd({targetId:e.adUnitCode,adResponse:t})}))}};gt.a.add(ft.a["33across"],((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=Nl(a);Pl(e,t.placementId,n,[{bidder:i.bidder,params:{...i.params,video:void 0}}])}if(a.outstream)if(t.rendering?.outstream?.hbvFormat)Ml(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream);else{const r=(n=i.formatterParams,(0,Tt.m)(n)&&(0,Tt.p)(n.forcedPlayerSize)?i.formatterParams.forcedPlayerSize:a.outstream.playerSize),o={...a.outstream,playerSize:r,renderer:jl};((e,t,i,a)=>{Rl(a,{displayFormat:wa.a.outstream,mediaType:fa,requestSizes:[i.playerSize]},void 0),e.push({adUnitCode:t,mediaTypes:{video:{...kl(Sl,i.openRtbParams),context:"outstream",playerSize:[i.playerSize]}},renderer:i.renderer,bids:a})})(e,t.placementId,o,[{bidder:i.bidder,params:i.params}])}var n})),gt.b.add(ft.a["33across"],vl.gvlid);var zl=i(48);function ql(){return(0,n.f)()?(0,n.K)():(0,n.J)()}const $l=function(){const e=ql();return e.ADAGIO=e.ADAGIO||{},e.ADAGIO.pageviewId=e.ADAGIO.pageviewId||(0,n.w)(),e.ADAGIO.adUnits=e.ADAGIO.adUnits||{},e.ADAGIO.pbjsAdUnits=e.ADAGIO.pbjsAdUnits||[],e.ADAGIO.queue=e.ADAGIO.queue||[],e.ADAGIO.versions=e.ADAGIO.versions||{},e.ADAGIO.versions.pbjs="$prebid.version$",e.ADAGIO.windows=e.ADAGIO.windows||[],e.ADAGIO.isSafeFrameWindow=(0,n.db)(),e.ADAGIO}(),Fl="Adagio:",Vl=[D.b,D.c,D.d],Ll="adagio",Gl=`https://${Ll}.bbvms.com/r/$RENDERER.js`,Wl=(n.f,function(){return $l}),Hl=(ne.a,function(){return(v.config.getConfig("realTimeData.dataProviders")||[]).find((e=>"adagio"===e.name))});function Xl(e,t){if(e.params=e.params||{},e.params[t])return;const i=v.config.getConfig("adagio")||{},a=e.ortb2,n=i[t]||(0,o.a)(a,`site.ext.data.${t}`,null);if(n){if(Array.isArray(n))return void(n.length&&(e.params[t]=n[0].toString()));e.params[t]=n.toString()}}const Yl={bootstrapPlayer:function(e){const t=e.outstreamRendererCode,i={code:e.adUnitCode};if(e.vastXml?i.vastXml=e.vastXml:e.vastUrl&&(i.vastUrl=e.vastUrl),!e.vastXml&&!e.vastUrl)return void(0,n.gb)(`${Fl} no vastXml or vastUrl on bid`);if(!window.bluebillywig||!window.bluebillywig.renderers||!window.bluebillywig.renderers.length)return void(0,n.gb)(`${Fl} no BlueBillywig renderers found!`);const a=this.getRendererId(Ll,t),r={};e.skipOffset&&(r.skipOffset=e.skipOffset.toString());const o=window.bluebillywig.renderers.find((e=>e._id===a));if(!o)return void(0,n.gb)(`${Fl} couldn't find a renderer with ID ${a}`);const s=document.getElementById(e.adUnitCode);o.bootstrap(i,s,r)},newRenderer:function(e,t){const i=Gl.replace("$RENDERER",t),a=zl.a.install({url:i,loaded:!1,adUnitCode:e});try{a.setRender(this.outstreamRender)}catch(e){(0,n.gb)(`${Fl} error trying to setRender`,e)}return a},outstreamRender:function(e){e.renderer.push((()=>{Yl.bootstrapPlayer(e)}))},getRendererId:function(e,t){return`${e}-${t}`}},Jl={code:"adagio",gvlid:617,supportedMediaTypes:Vl,isBidRequestValid:e=>(e.params=e.params||{},function(e){const t=v.config.getConfig("adagio")||{};e.params=e.params||{},t.siteId&&(e.params.organizationId=t.siteId.split(":")[0],e.params.site=t.siteId.split(":")[1]),e.params.placement=(0,o.a)(e,"ortb2Imp.ext.data.placement",e.params.placement),e.params.placement||!0!==t.useAdUnitCodeAsPlacement&&!0!==e.params.useAdUnitCodeAsPlacement||(e.params.placement=e.adUnitCode),e.params.adUnitElementId=(0,o.a)(e,"ortb2Imp.ext.data.divId",e.params.adUnitElementId),e.params.adUnitElementId||(!0===t.useAdUnitCodeAsAdUnitElementId||!0===e.params.useAdUnitCodeAsAdUnitElementId?e.params.adUnitElementId=e.adUnitCode:e.params.adUnitElementId=function(e){const t=(0,tl.a)(e);if(t.divId)return t.divId}(e.adUnitCode)),Xl(e,"pagetype"),Xl(e,"category")}(e),!!(e.params.organizationId&&e.params.site&&e.params.placement)||((0,n.jb)(`${Fl} at least one required param is missing.`),!1)),buildRequests(e,t){e=(0,s.b)(e);const i="https:"===location.protocol?1:0,a=function(){const e=navigator.language?"language":"userLanguage";return{userAgent:navigator.userAgent,language:navigator[e],dnt:(0,n.A)()?1:0,geo:{},js:1}}(),r=function(e){const{refererInfo:t}=e;return{domain:(0,ne.b)(t.topmostLocation)||"",page:t.topmostLocation||"",referrer:t.ref||(0,n.J)().document.referrer||"",top:t.reachedTop}}(t),d=Wl().pageviewId,l=function(e){if(!(0,o.a)(e,"gdprConsent"))return!1;const{apiVersion:t,gdprApplies:i,consentString:a,allowAuctionWithoutConsent:r}=e.gdprConsent;return(0,n.h)({apiVersion:t,consentString:a,consentRequired:i?1:0,allowAuctionWithoutConsent:r?1:0})}(t)||{},p=function(e){return!!(0,o.a)(e,"uspConsent")&&{uspConsent:e.uspConsent}}(t)||{},c={required:!0===v.config.getConfig("coppa")?1:0},{gpp:m,gpp_sid:u}=(0,o.a)(t,"ortb2.regs",{}),b=(f=e[0],(0,o.a)(f,"schain"));var f;const g=function(e){if((0,o.a)(e,"userIdAsEids"))return e.userIdAsEids}(e[0])||[],y=(0,o.a)(v.config.getConfig("userSync"),"syncEnabled")&&h.userSync.canBidderRegisterSync("iframe","adagio"),_=(0,o.a)(t,"ortb2.regs.ext.dsa"),I=(0,o.a)(t,"ortb2.site.ext.data.adg_rtd.session",{});Object.keys(I).length||((0,n.hb)(Fl,"No session data provided. A new session is be generated."),I.new=!0,I.rnd=Math.random());const w=(0,o.a)(t,"ortb2.site.ext.data.adg_rtd.uid")||(0,n.w)(),x=e.map((e=>{const t=(0,n.p)(e);if(t.auctionId=w,t.params.splitKeyword&&((0,n.eb)(t.params.splitKeyword)||(0,n.ab)(t.params.splitKeyword)?t.params.splitKeyword=t.params.splitKeyword.toString():(delete t.params.splitKeyword,(0,n.jb)(Fl,"The splitKeyword param have been removed because the type is invalid, accepted type: number or string."))),t.params.organizationId=t.params.organizationId.toString(),t.params.dataLayer)if((0,n.eb)(t.params.dataLayer)||(0,n.ab)(t.params.dataLayer)||(0,n.V)(t.params.dataLayer)||(0,n.Z)(t.params.dataLayer))(0,n.jb)(Fl,"The dataLayer param is invalid, only object is accepted as a type."),delete t.params.dataLayer;else{let e=!1;t.params.dl=t.params.dataLayer,delete t.params.dataLayer,Object.keys(t.params.dl).forEach((i=>{t.params.dl[i]&&((0,n.eb)(t.params.dl[i])||(0,n.ab)(t.params.dl[i])?t.params.dl[i]=t.params.dl[i].toString():(e=!0,delete t.params.dl[i]))})),e&&(0,n.jb)(Fl,"Some parameters of the dataLayer property have been removed because the type is invalid, accepted type: number or string.")}const i=function(e){if(!(0,n.Z)(e.getFloor))return!1;const t=[],i=(i,a)=>{const r=e.getFloor({currency:"USD",mediaType:i,size:a});t.push((0,n.h)({mt:i,s:(0,n.V)(a)?`${a[0]}x${a[1]}`:void 0,f:isNaN(r.floor)||"USD"!==r.currency?void 0:r.floor}))};return Object.keys(e.mediaTypes).forEach((t=>{if(-1!==Vl.indexOf(t)){const a=t===D.d?"playerSize":"sizes";e.mediaTypes[t][a]&&e.mediaTypes[t][a].length?(0,n.V)(e.mediaTypes[t][a][0])?e.mediaTypes[t][a].forEach((e=>{i(t,[e[0],e[1]])})):i(t,[e.mediaTypes[t][a][0],e.mediaTypes[t][a][1]]):i(t,"*")}})),t}(e);if((0,n.V)(i)&&i.length){if(t.floors=i,(0,o.a)(t,"mediaTypes.banner")){const e=t.mediaTypes.banner,i=(e=[])=>{const i={size:e,floor:null},a=t.floors.filter((e=>e.mt===D.b)),n=a.find((t=>t.s===e.join("x")));return i.floor=a?n?n.f:a[0].f:null,i};t.mediaTypes.banner.bannerSizes=(0,n.V)(e.sizes[0])?e.sizes.map((e=>i(e))):i(e.sizes)}if((0,o.a)(t,"mediaTypes.video")){const e=t.mediaTypes.video,i=t.floors.filter((e=>e.mt===D.d)),a=e.playerSize&&(0,n.V)(e.playerSize[0])?e.playerSize[0]:e.playerSize,r=a?i.find((e=>e.s===a.join("x"))):void 0;t.mediaTypes.video.floor=i?r?r.f:i[0].f:null}if((0,o.a)(t,"mediaTypes.native")){const e=t.floors.filter((e=>e.mt===D.c));e.length&&(t.mediaTypes.native.floor=e[0].f)}}(0,o.a)(t,"mediaTypes.video")&&function(e){const t=(0,o.a)(e,"mediaTypes.video",{}),i=(0,o.a)(e,"params.video",{}),a={};if(Array.isArray(t.playerSize)){const e=Array.isArray(t.playerSize[0])?t.playerSize[0]:t.playerSize;a.w=e[0],a.h=e[1]}const n={...a,...t,...i};n.context&&n.context===Se.c&&(n.playerName=function(e){return function(e){const t=(0,o.a)(e,"renderer"),i=!!(t&&t.url&&t.render),a=(0,o.a)(e,"mediaTypes.video.renderer"),n=!!(a&&a.url&&a.render);return!!(i&&!0!==t.backupOnly||n&&!0!==a.backupOnly)}(e)?"other":"adagio"}(e)),e.mediaTypes.video=n,(0,Se.g)(e)}(t);const a=(0,o.a)(t,"ortb2Imp.ext.gpid")||(0,o.a)(t,"ortb2Imp.ext.data.pbadslot");a&&(t.gpid=a);const r={...(0,o.a)(t,"ortb2.site.ext.data.adg_rtd.features",{}),print_number:(t.bidderRequestsCount||1).toString(),adunit_position:(0,o.a)(t,"ortb2Imp.ext.data.adg_rtd.adunit_position",null)};return t.features=Object.entries(r).reduce(((e,[t,i])=>(null==i||(e[t]=i),e)),{}),delete t.params.siteId,{adUnitCode:t.adUnitCode,auctionId:t.auctionId,bidder:t.bidder,bidId:t.bidId,params:t.params,features:t.features,gpid:t.gpid,mediaTypes:t.mediaTypes,nativeParams:t.nativeParams,score:t.score,transactionId:t.transactionId}})),T=x.reduce(((e,t)=>{const i=t.params.organizationId;return e[i]=e[i]||[],e[i].push(t),e}),{});return e.forEach((e=>{e.params.pageviewId=d})),Object.keys(T).map((e=>({method:"POST",url:"https://mp.4dex.io/prebid",data:{organizationId:e,hasRtd:Hl()?1:0,secure:i,device:a,site:r,pageviewId:d,adUnits:T[e],data:{session:I},regs:{gdpr:l,coppa:c,ccpa:p,gpp:m||"",gppSid:u||[],dsa:_},schain:b,user:{eids:g},prebidVersion:"9.16.0",usIfr:y},options:{contentType:"text/plain"}})))},interpretResponse(e,t){let i=[];try{const a=e.body;a&&(a.data&&Hl()&&Wl().queue.push({action:"ssp-data",ts:Date.now(),data:a.data}),a.bids&&a.bids.forEach((e=>{const a=(0,l.b)(t.data.adUnits,(t=>t.bidId===e.requestId));if(a){if(e.meta=(0,o.a)(e,"meta",{}),e.meta.mediaType=e.mediaType,e.meta.advertiserDomains=Array.isArray(e.aDomain)&&e.aDomain.length?e.aDomain:[],e.mediaType===D.d){const t=(0,o.a)(a,"mediaTypes.video.context");if(!e.vastUrl&&e.vastXml&&(e.vastUrl="data:text/xml;charset=utf-8;base64,"+window.btoa(e.vastXml.replace(/\\"/g,'"'))),t===Se.c){if(e.outstreamRendererCode=(0,o.a)(a,"params.rendererCode","renderer"),(0,o.a)(a,"mediaTypes.video.skip")){const t=(0,o.a)(a,"mediaTypes.video.skipafter",5);e.skipOffset=t}e.renderer=Yl.newRenderer(e.adUnitCode,e.outstreamRendererCode)}}e.mediaType===D.c&&function(e){if(!e.admNative||!Array.isArray(e.admNative.assets))return void(0,n.gb)(`${Fl} Invalid native response`);const t={};e.admNative.assets.forEach((e=>{e.title?t.title=e.title.text:e.data?function(e){const i={1:"sponsoredBy",2:"body",3:"rating",4:"likes",5:"downloads",6:"price",7:"salePrice",8:"phone",9:"address",10:"body2",11:"displayUrl",12:"cta"};i.hasOwnProperty(e.type)&&"string"==typeof e.value&&(t[i[e.type]]=e.value)}(e.data):e.img&&(1===e.img.type?t.icon={url:e.img.url,width:e.img.w,height:e.img.h}:t.image={url:e.img.url,width:e.img.w,height:e.img.h})})),e.admNative.link&&(e.admNative.link.url&&(t.clickUrl=e.admNative.link.url),Array.isArray(e.admNative.link.clicktrackers)&&(t.clickTrackers=e.admNative.link.clicktrackers)),Array.isArray(e.admNative.eventtrackers)?(t.impressionTrackers=[],e.admNative.eventtrackers.forEach((e=>{if(1===e.event)switch(e.method){case 1:t.impressionTrackers.push(e.url);break;case 2:const i=`<script async src="${e.url}"><\/script>`;t.javascriptTrackers?t.javascriptTrackers+=`\n${i}`:t.javascriptTrackers=i}}))):(t.impressionTrackers=Array.isArray(e.admNative.imptrackers)?e.admNative.imptrackers:[],e.admNative.jstracker&&(t.javascriptTrackers=e.admNative.jstracker)),e.admNative.privacy&&(t.privacyLink=e.admNative.privacy),e.admNative.ext&&(t.ext={},e.admNative.ext.bvw&&(t.ext.adagio_bvw=e.admNative.ext.bvw)),e.native=t}(e),e.site=a.params.site,e.placement=a.params.placement,e.pagetype=a.params.pagetype,e.category=a.params.category}i.push(e)})))}catch(e){(0,n.gb)(e)}return i},getUserSyncs:(e,t)=>!(!t.length||""===t[0].body||!t[0].body.userSyncs)&&t[0].body.userSyncs.map((e=>({type:"p"===e.t?"image":"iframe",url:e.u})))};(0,Ye.b)(Jl);var Kl=i(82);function Zl(e){return Object.assign({wp:!0,run(e,t,i,a,s){const d=i&&i.hasOwnProperty(a),l=d?i[a]:void 0,p=d&&null!=l&&"object"==typeof l?(0,n.p)(l):l;return function(){const i=null==t?e:(0,o.a)(e,t),c=i&&(0,Kl.d)(i[a]),m=c?i[a]:void 0;!d&&c&&s()?delete i[a]:d===c&&m===l&&(0,n.q)(m,p)||!s()||(0,r.a)(e,(null==t?[]:[t]).concat(a).join("."),p)}}},e)}const Ql=function(e=fe.a){return function(e){const t={},i=[];e.forEach((e=>{e.wp&&i.push(e),e.get&&e.paths.forEach((i=>{let a=t;i.split(".").forEach((e=>{a.children=a.children||{},a.children[e]=a.children[e]||{},a=a.children[e]})),a.rule=e}))}));const a=(0,Kl.e)(i);function n(e,t,i){return new Proxy(e,{get(e,a,r){const o=Reflect.get(e,a,r);if(t.hasOwnProperty(a)){const{children:e,rule:r}=t[a];if(e&&null!=o&&"object"==typeof o)return n(o,e,i);if(r&&(0,Kl.d)(o)&&i(r))return r.get(o)}return o}})}return function(e,...i){const r={};return{obj:n(e,t.children||{},(0,Kl.h)(r,...i)),verify:(o=a(r,e,...i),function(){o.forEach((e=>e()))})};var o}}((0,Kl.f)(e).concat(function(e=fe.a){return[{name:ye.b,paths:Kl.a,applies:(0,Kl.c)(ye.b,e)},{name:ye.c,paths:Kl.b,applies:(0,Kl.c)(ye.c,e)}].map(Zl)}(e)))}(),ep=function(e=Ql){return function(t,i){t.global=t.global||{},t.bidder=t.bidder||{};const a=new Set(Object.keys(t.bidder)),r=[];function o(t){const a=e(t,i);return r.push(a.verify),a.obj}const s={global:o(t.global),bidder:Object.fromEntries(Object.entries(t.bidder).map((([e,t])=>[e,o(t)])))};return{obj:s,verify(){Object.entries(s.bidder).filter((([e])=>!a.has(e))).forEach((([a,r])=>{const o={},s=e(o,i);(0,n.lb)(s.obj,r),s.verify(),t.bidder[a]=o})),r.forEach((e=>e()))}}}}(),tp=(0,ci.j)((e=>ie.a.resolveAlias(e)));let ip,ap,np=[],rp=[],op=[];const sp=function(){let e=!1;return function(){e||(Object.entries({[d.EVENTS.AUCTION_INIT]:["onAuctionInitEvent"],[d.EVENTS.AUCTION_END]:["onAuctionEndEvent",cp],[d.EVENTS.BID_RESPONSE]:["onBidResponseEvent"],[d.EVENTS.BID_REQUESTED]:["onBidRequestEvent"],[d.EVENTS.BID_ACCEPTED]:["onBidAcceptedEvent"]}).forEach((([e,[t,i]])=>{x.on(e,(e=>{i&&i(e),rp.forEach((i=>{try{i[t]&&i[t](e,i.config,ap)}catch(e){(0,n.gb)(`RTD provider '${i.name}': error in '${t}':`,e)}}))}))})),e=!0)}}();function dp(){return{gdpr:Ae.d.getConsentData(),usp:Ae.f.getConsentData(),gpp:Ae.e.getConsentData(),coppa:!!v.config.getConfig("coppa")}}function lp(){ap=dp();let e=[];op.forEach((t=>{const i=(0,l.b)(np,(e=>e.name===t.name));i&&i.init&&i.init(t,ap)&&e.push(Object.assign(i,{config:t}))})),rp=e,(0,n.hb)(`Real time data module enabled, using submodules: ${rp.map((e=>e.name)).join(", ")}`)}const pp=(0,ae.b)("rtd",(function(e,t){ap=dp();const i=[],a=[];rp.forEach((e=>{if("function"!=typeof e.getBidRequestData)return;i.push(e);const t=e.config;t&&t.waitForIt&&a.push(e)}));const n=a.length&&ip.auctionDelay&&ip.auctionDelay>0;let r,o=a.length,s=!1;const d=[];if(!i.length)return p();function l(){s||(this.config&&this.config.waitForIt&&o--,0===o&&setTimeout(p,0))}function p(){s||(s=!0,clearTimeout(r),d.forEach((e=>e())),e.call(this,t))}r=setTimeout(p,n?ip.auctionDelay:0),i.forEach((e=>{const i=ep(t.ortb2Fragments||{},tp(Y.d,e.name));d.push(i.verify),t.ortb2Fragments=i.obj,e.getBidRequestData(t,l.bind(e),e.config,ap)}))}));function cp(e){const t=rp.filter((e=>"function"==typeof e.getTargetingData));if(!t.length)return;const i=e.adUnitCodes;if(!i)return;let a=[];for(let r=t.length-1;r>=0;r--){const o=t[r].getTargetingData(i,t[r].config,ap,e);o&&"object"==typeof o?a.push(o):(0,n.jb)("invalid getTargetingData response for sub module",t[r].name)}const r=(o=a,Array.isArray(o)&&o.length?o.reduce(((e,t)=>{for(let i in t)if(t.hasOwnProperty(i))if(e.hasOwnProperty(i)){const a=t[i];for(let t in a)a.hasOwnProperty(t)&&(e[i][t]=a[t])}else e[i]=t[i];return e}),{}):{});var o;return e.adUnits.forEach((e=>{const t=e.code&&r[e.code];t&&((0,n.hb)("RTD set ad unit targeting of",t,"for",e),e[d.f.ADSERVER_TARGETING]=Object.assign(e[d.f.ADSERVER_TARGETING]||{},t))})),e.adUnits}function mp(e,...t){rp.forEach((e=>{if("function"==typeof e.onDataDeletionRequest)try{e.onDataDeletionRequest(e.config)}catch(t){(0,n.gb)(`Error executing ${e.name}.onDataDeletionRequest`,t)}})),e.apply(this,t)}(0,T.c)("realTimeData",(function(e){return np.push(e),Ae.a.register(Y.d,e.name,e.gvlid),function(){const t=np.indexOf(e);t>=0&&(np.splice(t,1),lp())}})),function(e){const t=e.getConfig("realTimeData",(({realTimeData:e})=>{e&&e.dataProviders?(t(),ip=e,op=e.dataProviders,sp(),(0,T.a)("startAuction").before(pp,20),ie.a.callDataDeletionRequest.before(mp),lp()):(0,n.gb)("missing parameters for real time module")}))}(v.config);const up="adagio",bp=(0,te.d)({moduleType:Y.d,moduleName:up}),{logError:fp,logWarn:gp}=(0,n.sb)("AdagioRtdProvider:"),yp=new Set,hp=function(){const e={session:{}};return{init:()=>{bp.getDataFromLocalStorage("adagio",(t=>{const{rnd:i,new:a=!1,vwSmplg:r,vwSmplgNxt:o,lastActivityTime:s,id:d,testName:l,testVersion:p,initiator:c}=_p.getSessionFromLocalStorage(t),m="snippet"===c?a:(e=>{const t=Date.now();return!(0,n.ab)(e)||t-e>18e5})(s);e.session={rnd:i,new:m,...void 0!==r&&{vwSmplg:r},...void 0!==o&&{vwSmplgNxt:o},...void 0!==s&&{lastActivityTime:s},...void 0!==d&&{id:d},...void 0!==l&&{testName:l},...void 0!==p&&{testVersion:p},...void 0!==c&&{initiator:c}},"snippet"!==c&&(m||l)&&(e.session.new=!0,e.session.id=(0,n.w)(),e.session.rnd=Math.random(),delete e.session.testName,delete e.session.testVersion),_p.getAdagioNs().queue.push({action:"session",ts:Date.now(),data:{session:{...e.session}}})}))},get:function(){return e.session}}}(),vp=function(){const e={initialized:!1,data:{}};return{reset:function(){e.initialized=!1,e.data={}},get:function(){const t=ql();return e.initialized||(e.data={page_dimensions:xp().toString(),viewport_dimensions:Tp().toString(),user_timestamp:(Math.floor((new Date).getTime()/1e3)-60*(new Date).getTimezoneOffset()).toString(),dom_loading:(0,n.C)(t).toString()},e.initialized=!0),{...e.data}}}}(),_p={getAdagioNs:function(){return $l},getSession:function(){return hp},getFeatures:function(){return vp},getGuard:function(){return yp},isAdagioBidder:function(e){return!!e&&(e+ie.a.aliasRegistry[e]).toLowerCase().includes("adagio")},getSessionFromLocalStorage:function(e){const t={new:!0,rnd:Math.random()},i=JSON.parse(e,(function(e,t){if("_"!==e.charAt(0)||""===e)return t}));return i&&i.session?i.session:t}},Ip={name:up,gvlid:617,init:function(e){return(0,n.eb)(e.params?.organizationId)&&(0,n.eb)(e.params?.site)?(_p.getAdagioNs().hasRtd=!0,_p.getSession().init(),function(e){const t=new Set(["impressionViewable","slotRenderEnded","slotVisibilityChanged"]),i=new Set(["noad","setHeaderBiddingWinner"]),a=new Set(["adLoaded"]),r=(0,n.J)();Array.isArray(_p.getAdagioNs().windows)||(_p.getAdagioNs().windows=[]);let o=_p.getAdagioNs().windows.find((e=>e.self===r));o||(o={self:r},_p.getAdagioNs().windows.push(o));const s=(e,t,i,a,n)=>{try{if(i.adserver===a)return;r[e]=r[e]||{},r[e][t]=r[e][t]||[],n()}catch(e){fp(e)}};s("googletag","cmd",r,"gpt",(()=>{r.googletag.cmd.push((()=>{t.forEach((e=>{r.googletag.pubads().addEventListener(e,(t=>{_p.getAdagioNs().queue.push({action:"gpt-event",data:{eventName:e,args:t,_window:r},ts:Date.now()})}))})),o.adserver="gpt"}))})),s("sas","cmd",r,"sas",(()=>{r.sas.cmd.push((()=>{i.forEach((e=>{r.sas.events.on(e,(t=>{_p.getAdagioNs().queue.push({action:"sas-event",data:{eventName:e,args:t,_window:r},ts:Date.now()})}))})),o.adserver="sas"}))})),s("apntag","anq",r,"ast",(()=>{r.apntag.anq.push((()=>{a.forEach((e=>{r.apntag.onEvent(e,(()=>{_p.getAdagioNs().queue.push({action:"ast-event",data:{eventName:e,args:arguments,_window:r},ts:Date.now()})}))})),o.adserver="ast"}))}))}(e),function(e){bp.localStorageIsEnabled((t=>{t&&(0,H.a)("https://script.4dex.io/a/latest/adagio.js",Y.d,up,void 0,void 0,{id:`adagiojs-${(0,n.G)()}`,"data-pid":e.params.organizationId})}))}(e),!0):(fp("organizationId is required and must be a string."),!1)},getBidRequestData:function(e,t,i){const s=(0,o.a)(i,"params",{}),{site:d}=e.ortb2Fragments.global,l=_p.getFeatures().get(),p={uid:(0,n.w)(),pageviewId:$l.pageviewId,features:{...l},session:{...hp.get()}};(0,r.a)(d,"ext.data.adg_rtd",p),(e.adUnits||(0,a.a)().adUnits||[]).forEach((e=>{e.ortb2Imp=e.ortb2Imp||{};const t=(0,o.a)(e,"ortb2Imp");let i=(0,o.a)(t,"ext.data.divId");i||(i=(0,tl.a)(e.code).divId,(0,r.a)(t,"ext.data.divId",i||e.code));const a=function(e){if(!(0,n.db)()&&!(0,n.f)())return"";const t={x:0,y:0};if((0,n.db)()){const{self:e}=(0,n.F)()||{};if(!e)return"";t.x=Math.round(e.t),t.y=Math.round(e.l)}else try{const i=(0,n.K)(),a=i.document;let r;if(!0===(0,n.N)()){const t=(0,n.J)();r=wp(t.document.getElementById(e),t)}else r=i.document.getElementById(e);if(!r)return"";let o=r.getBoundingClientRect();const s=a.documentElement,d=a.body,l=a.clientTop||d.clientTop||0,p=a.clientLeft||d.clientLeft||0,c=i.pageYOffset||s.scrollTop||d.scrollTop,m=i.pageXOffset||s.scrollLeft||d.scrollLeft;"none"===i.getComputedStyle(r,null).display&&gp("The element is hidden. The slot position cannot be computed."),t.x=Math.round(o.left+m-p),t.y=Math.round(o.top+c-l)}catch(e){return fp(e),""}return`${t.x}x${t.y}`}(i);if((0,r.a)(t,"ext.data.adg_rtd.adunit_position",a),!(0,o.a)(t,"ext.data.placement")){const{placementSource:i=""}=s;switch(i.toLowerCase()){case"code":(0,r.a)(t,"ext.data.placement",e.code);break;case"gpid":(0,r.a)(t,"ext.data.placement",(0,o.a)(t,"ext.gpid"));break;default:gp("`ortb2Imp.ext.data.placement` is missing and `params.definePlacement` is not set in the config.")}}const l=e.bids.find((e=>_p.isAdagioBidder(e.bidder)));if(l){let e=!1;!(0,o.a)(d,"ext.data.pagetype")&&l.params.pagetype&&((0,r.a)(d,"ext.data.pagetype",l.params.pagetype),e=!0),!(0,o.a)(d,"ext.data.category")&&l.params.category&&((0,r.a)(d,"ext.data.category",l.params.category),e=!0);let i=!1;(0,o.a)(t,"ext.data.placement")||l.params.placement&&((0,r.a)(t,"ext.data.placement",l.params.placement),i=!0),e&&gp("`pagetype` and `category` must be defined in the FPD `ortb2.site.ext.data` object. Relying on `adUnits[].bids.adagio.params` is deprecated."),i&&gp("`placement` must be defined in the FPD `adUnits[].ortb2Imp.ext.data` object. Relying on `adUnits[].bids.adagio.params` is deprecated.")}})),t()},onBidRequestEvent:function(e,t){setTimeout((()=>{e.bids.forEach((e=>{const i=(0,o.a)(e,"ortb2.site.ext.data.adg_rtd.uid");if(!i)return void fp("The `uid` is required to store the request in the ADAGIO namespace.");const n=`${e.adUnitCode}-${i}`;_p.getGuard().has(n)||(_p.getGuard().add(n),function(e,t){try{const{bidder:i,adUnitCode:n,mediaTypes:r,params:s,auctionId:d,bidderRequestsCount:l,ortb2:p,ortb2Imp:c}=e,{organizationId:m,site:u}=t.params,b={bidder:i,adUnitCode:n,mediaTypes:r,params:s,auctionId:d,bidderRequestsCount:l,ortb2:(0,o.a)(p,"site.ext.data",{}),ortb2Imp:(0,o.a)(c,"ext.data",{}),localPbjs:"hubjs",localPbjsRef:(0,a.a)(),organizationId:m,site:u};_p.getAdagioNs().queue.push({action:"store",ts:Date.now(),data:b})}catch(e){fp(e)}}(e,t))}))}),1)}};function wp(e,t){try{if((0,n.K)()===t)return e.getAttribute("id")||e.setAttribute("id",`adg-${(0,n.G)()}`),e;{const i=t.frameElement,a=i.getBoundingClientRect(),n=e.getBoundingClientRect();return a.width===n.width&&a.height===n.height&&wp(i,t.parent)}}catch(e){return gp(e),!1}}function xp(){if((0,n.db)()||!(0,n.f)())return"";const e=(0,n.K)(),t=e.document.querySelector("body");if(!t)return"";const i=e.document.documentElement;return`${Math.max(t.scrollWidth,t.offsetWidth,i.clientWidth,i.scrollWidth,i.offsetWidth)}x${Math.max(t.scrollHeight,t.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight)}`}function Tp(){if(!(0,n.db)()&&!(0,n.f)())return"";const e={w:0,h:0};if((0,n.db)()){const{win:t}=(0,n.F)()||{};if(!t)return"";e.w=Math.round(t.w),e.h=Math.round(t.h)}else{const t=(0,n.K)();e.w=t.innerWidth,e.h=t.innerHeight}return`${e.w}x${e.h}`}(0,T.e)("realTimeData",Ip),gt.a.add(ft.a.Adagio,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin||a.outstream||a.native){const n={},r={};let o;if(a.outstream){n.displayFormat=wa.a.outstream,n.mediaType=fa,n.requestSizes=[a.outstream.playerSize];const e={...Sl,...a.outstream.openRtbParams};r.video={...e,context:"outstream",playerSize:[a.outstream.playerSize]},o=t.rendering?.outstream?.hbvFormat?wl():void 0}if(a.native&&(n.displayFormat=wa.a.native,n.mediaType=ba,delete n.requestSizes,r.native={type:"image"}),a.banner||a.skin){const e=Nl(a);r.banner={sizes:e},n.displayFormat=Bl(e)?wa.a.skin:wa.a.banner,n.mediaType=ua,n.requestSizes=r.banner.sizes}const s={adUnitCode:t.placementId,mediaTypes:r,renderer:o,ortb2ImpParams:{ext:{data:{divId:i.params.adUnitElementId,placement:i.params.placement}}},bids:[{bidder:i.bidder,params:i.params,hbvMetadata:n}]};(i.params.pagetype||i.params.category)&&(s.ortb2Params={site:{ext:{data:{pagetype:i.params.pagetype,category:i.params.category}}}}),e.push(s)}})),gt.b.add(ft.a.Adagio,Jl.gvlid);const{getConfig:Dp}=v.config,Ap={code:"adf",aliases:[{code:"adformOpenRTB",gvlid:50},{code:"adform",gvlid:50}],gvlid:50,supportedMediaTypes:[D.c,D.b,D.d],isBidRequestValid:e=>{const t=e.params||{},{mid:i,inv:a,mname:n}=t;return!!(i||a&&n)},buildRequests:(e,t)=>{let i,a;const s=t.ortb2||{};let{user:d}=s;"object"==typeof Dp("app")?(i=Dp("app")||{},s.app&&(0,n.lb)(i,s.app)):(a=Dp("site")||{},s.site&&(0,n.lb)(a,s.site),a.page||(a.page=t.refererInfo.page));const l=Dp("device")||{};l.w=l.w||window.innerWidth,l.h=l.h||window.innerHeight,l.ua=l.ua||navigator.userAgent;const p=(0,n.xb)(e,"params.adxDomain")||"adx.adform.net",c=(0,n.xb)(e,"params.pt")||(0,n.xb)(e,"params.priceType")||"net",m=t.ortb2?.source?.tid,u=(0,n.xb)(e,"params.test"),b=Dp("currency.adServerCurrency"),f=b&&[b],g=(0,n.xb)(e,"userIdAsEids"),y=(0,n.xb)(e,"schain"),h=s.regs?.ext?.dsa,_=e.map(((e,t)=>{e.netRevenue=c;const i=e.getFloor?e.getFloor({currency:b||"USD",size:"*",mediaType:"*"}):{},a=i.floor,r=i.currency,{mid:s,inv:d,mname:l}=e.params,p=e.ortb2Imp?.ext?.data,m={id:t+1,tagid:s,bidfloor:a,bidfloorcur:r,ext:{data:p,bidder:{inv:d,mname:l}}};if(e.nativeOrtbRequest&&e.nativeOrtbRequest.assets){let t=e.nativeOrtbRequest.assets,i=[];for(let e=0;e<t.length;e++){let a=(0,n.p)(t[e]),r=a.img;if(r){let e=r.ext&&r.ext.aspectratios;if(e){let t=parseInt(e[0].split(":")[0],10),i=parseInt(e[0].split(":")[1],10);r.wmin=r.wmin||0,r.hmin=i*r.wmin/t|0}}i.push(a)}m.native={request:{assets:i}}}const u=(0,o.a)(e,"mediaTypes.banner");if(u&&u.sizes){const e=(0,n.pb)(u.sizes).map((e=>{const[t,i]=e.split("x");return{w:parseInt(t,10),h:parseInt(i,10)}}));m.banner={format:e}}const f=(0,o.a)(e,"mediaTypes.video");return f&&(m.video=f),m})),I={id:t.bidderRequestId,site:a,app:i,user:d,device:l,source:{tid:m,fd:1},ext:{pt:c},cur:f,imp:_};return u&&(I.is_debug=!!u,I.test=1),v.config.getConfig("coppa")&&(0,r.a)(I,"regs.coppa",1),void 0!==(0,o.a)(t,"gdprConsent.gdprApplies")&&((0,r.a)(I,"user.ext.consent",t.gdprConsent.consentString),(0,r.a)(I,"regs.ext.gdpr",1&t.gdprConsent.gdprApplies)),t.uspConsent&&(0,r.a)(I,"regs.ext.us_privacy",t.uspConsent),g&&(0,r.a)(I,"user.ext.eids",g),y&&(0,r.a)(I,"source.ext.schain",y),h&&(0,r.a)(I,"regs.ext.dsa",h),{method:"POST",url:"https://"+p+"/adx/openrtb",data:JSON.stringify(I),bids:e}},interpretResponse:function(e,{bids:t}){if(!e.body)return;const{seatbid:i,cur:a}=e.body,n=(r=i.map((e=>e.bid)),[].concat(...r)).reduce(((e,t)=>(e[t.impid-1]=t,e)),[]);var r;return t.map(((e,t)=>{const i=n[t];if(i){const t=(0,o.a)(i,"ext.prebid.type"),n=(0,o.a)(i,"ext.dsa"),r={requestId:e.bidId,cpm:i.price,creativeId:i.crid,ttl:360,netRevenue:"net"===e.netRevenue,currency:a,mediaType:t,width:i.w,height:i.h,dealId:i.dealid,meta:{mediaType:t,advertiserDomains:i.adomain,dsa:n}};return i.native?r.native={ortb:i.native}:t===D.d?(r.vastXml=i.adm,i.nurl&&(r.vastUrl=i.nurl)):r.ad=i.adm,e.renderer||t!==D.d||"outstream"!==(0,o.a)(e,"mediaTypes.video.context")||(r.renderer=zl.a.install({id:e.bidId,url:"https://s2.adform.net/banners/scripts/video/outstream/render.js",adUnitCode:e.adUnitCode}),r.renderer.setRender(Sp)),r}})).filter(Boolean)}};function Sp(e){e.renderer.push((()=>{window.Adform.renderOutstream(e)}))}(0,Ye.b)(Ap),gt.a.add(ft.a.Adform,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner){const n=Nl(a);Pl(e,t.placementId,n,[{bidder:i.bidder,params:{...i.params}}])}a.outstream&&Ml(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream)})),gt.b.add(ft.a.Adform,Ap.gvlid);const Cp=["pos","context","placement","plcmt","api","mimes","protocols","playbackmethod","minduration","maxduration","startdelay","linearity","skip","skipmin","skipafter","minbitrate","maxbitrate","delivery","playbackend","boxingallowed"],Rp=["battr","pos"],kp=["battr","api"],Ep=["pos"],Mp=["btype","battr","pos","api"],Op={1:"iframe",2:"image"},Up="__mf",Bp="b"+Up,Pp="v"+Up,Np="n"+Up,jp={code:"adkernel",gvlid:14,aliases:[{code:"headbidding"},{code:"adsolut"},{code:"oftmediahb"},{code:"audiencemedia"},{code:"waardex_ak"},{code:"roqoon"},{code:"adbite"},{code:"houseofpubs"},{code:"torchad"},{code:"stringads"},{code:"bcm"},{code:"engageadx"},{code:"converge",gvlid:248},{code:"adomega"},{code:"denakop"},{code:"rtbanalytica"},{code:"unibots"},{code:"ergadx"},{code:"turktelekom"},{code:"felixads"},{code:"motionspots"},{code:"sonic_twist"},{code:"displayioads"},{code:"rtbdemand_com"},{code:"bidbuddy"},{code:"didnadisplay"},{code:"qortex"},{code:"adpluto"},{code:"headbidder"},{code:"digiad"},{code:"monetix"},{code:"hyperbrainz"},{code:"voisetech"},{code:"global_sun"},{code:"rxnetwork"}],supportedMediaTypes:[D.b,D.d,D.c],isBidRequestValid:function(e){return"params"in e&&void 0!==e.params.host&&"zoneId"in e.params&&!isNaN(Number(e.params.zoneId))&&e.params.zoneId>0&&e.mediaTypes&&(e.mediaTypes.banner||e.mediaTypes.video||e.mediaTypes.native&&Lp((t=e.mediaTypes.native).image)&&Lp(t.icon)&&!(0,o.a)(t,"privacyLink.required")&&!(0,o.a)(t,"privacyIcon.required"));var t},buildRequests:function(e,t){let i=function(e,t){let i=t&&0===t.page?.indexOf("https:");return Object.values(e.map((e=>function(e,t){let i={id:e.bidId,tagid:e.adUnitCode};t&&(i.secure=1);var a=[];let r,o=e.mediaTypes,s=~~!!o?.banner+~~!!o?.video+~~!!o?.native>1,d=[];if(o?.banner){s?(r={...i},r.id=i.id+Bp):r=i,a=function(e){if(!e)return;let t=[];if(e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)){let i=e.mediaTypes.banner.sizes;Array.isArray(i[0])?t=i:t.push(i)}else Array.isArray(e.sizes)&&(Array.isArray(e.sizes[0])?t=e.sizes:t.push(e.sizes));return t}(e);let t=o.banner;r.banner={...qp(e.ortb2Imp,Mp),...qp(t,Ep),format:a.map((e=>(0,n.mb)(e))),topframe:0},zp(r,e,a,s?"*":D.b),d.push(r)}if(o?.video){s?(r={...i},r.id=r.id+Pp):r=i;let t=o.video;r.video={...qp(e.ortb2Imp,Rp),...qp(t,Cp)},t.playerSize?(a=t.playerSize[0],r.video=Object.assign(r.video,(0,n.mb)(a)||{})):t.w&&t.h&&(r.video.w=t.w,r.video.h=t.h),zp(r,e,a,s?"*":D.d),d.push(r)}return o?.native&&(s?(r={...i},r.id=r.id+Np):r=i,r.native={...qp(e.ortb2Imp,kp),request:JSON.stringify(e.nativeOrtbRequest)},zp(r,e,a,s?"*":D.c),d.push(r)),d}(e,i))).reduce(((t,i,a)=>{let n=e[a],{zoneId:r,host:o}=n.params,s=`${o}_${r}`;return t[s]=t[s]||{host:o,zoneId:r,imps:[]},t[s].imps.push(...i),t}),{}))}(e,t.refererInfo),a=[],s=e[0].schain;return(0,n.a)(i,(e=>{let{host:i,zoneId:d,imps:l}=e;const p=function(e,t,i){let a=t.ortb2||{},s=(0,n.lb)(function(e,t,i){let a={id:e.bidderRequestId,imp:t,at:1,tmax:parseInt(e.timeout)};return(0,n.Y)(i.bcat)||(a.bcat=i.bcat),(0,n.Y)(i.badv)||(a.badv=i.badv),a}(t,e,a),function(e){let t=(0,n.lb)({ip:"caller",ipv6:"caller",ua:"caller",js:1,language:Fp()},e.device||{});return(0,n.A)()&&(t.dnt=1),{device:t}}(a),function(e,t){let{refererInfo:i}=e,a=v.config.getConfig("app");return(0,n.Y)(a)?{site:Vp(i,t)}:{app:a}}(t,a),function(e,t){let{gdprConsent:i}=e,a=t.user||{};i&&void 0!==i.consentString&&(0,r.a)(a,"ext.consent",i.consentString);let s=function(e){let t=(0,o.a)(e,"bids.0.userIdAsEids");if((0,n.V)(t))return t}(e);if(s&&(0,r.a)(a,"ext.eids",s),!(0,n.Y)(a))return{user:a}}(t,a),function(e){let{gdprConsent:t,uspConsent:i,gppConsent:a}=e,o={};if(t&&void 0!==t.gdprApplies&&(0,r.a)(o,"regs.ext.gdpr",~~t.gdprApplies),a&&((0,r.a)(o,"regs.gpp",a.gppString),(0,r.a)(o,"regs.gpp_sid",a.applicableSections)),i&&(0,r.a)(o,"regs.ext.us_privacy",i),v.config.getConfig("coppa")&&(0,r.a)(o,"regs.coppa",1),!(0,n.Y)(o))return o}(t),function(e){let{bidderCode:t}=e,i=function(e){if(!v.config.getConfig("userSync.syncEnabled"))return;let t=v.config.getConfig("userSync.filterSettings");return $p(t.all,e)||$p(t.iframe,e)?1:$p(t.image,e)?2:void 0}(t);if(i){let e={};return(0,r.a)(e,"ext.adk_usersync",i),e}}(t));return i&&(0,r.a)(s,"source.ext.schain",i),s}(l,t,s);a.push({method:"POST",url:`https://${i}/hb?zone=${d}&v=1.7`,data:JSON.stringify(p)})})),a},interpretResponse:function(e,t){let i=e.body;if(!i.seatbid)return[];let a=JSON.parse(t.data);return i.seatbid.map((e=>e.bid)).reduce(((e,t)=>e.concat(t)),[]).map((e=>{let t=(0,l.b)(a.imp,(t=>t.id===e.impid)),o={requestId:e.impid,cpm:e.price,creativeId:e.crid,currency:i.cur||"USD",ttl:360,netRevenue:!0};var s;return o.requestId.endsWith(Up)&&(o.requestId=(s=o.requestId).substr(0,s.length-4-1)),1===e.mtype?(o.mediaType=D.b,o.width=e.w,o.height=e.h,o.ad=function(e){let t=e.adm;return"nurl"in e&&(t+=(0,n.m)(`${e.nurl}&px=1`)),t}(e)):2===e.mtype?(o.mediaType=D.d,o.vastUrl=e.nurl,o.width=t.video.w,o.height=t.video.h):4===e.mtype&&(o.mediaType=D.c,o.native={ortb:Gp(e.adm)}),(0,n.eb)(e.dealid)&&(o.dealId=e.dealid),(0,n.V)(e.adomain)&&(0,r.a)(o,"meta.advertiserDomains",e.adomain),(0,n.V)(e.cat)&&(0,r.a)(o,"meta.secondaryCatIds",e.cat),(0,n.bb)(e.ext)&&((0,n.ab)(e.ext.advertiser_id)&&(0,r.a)(o,"meta.advertiserId",e.ext.advertiser_id),(0,n.eb)(e.ext.advertiser_name)&&(0,r.a)(o,"meta.advertiserName",e.ext.advertiser_name),(0,n.eb)(e.ext.agency_name)&&(0,r.a)(o,"meta.agencyName",e.ext.agency_name)),o}))},getUserSyncs:function(e,t){return t&&0!==t.length&&(e.iframeEnabled||e.pixelEnabled)?t.filter((e=>e.body&&e.body.ext&&e.body.ext.adk_usersync)).map((e=>e.body.ext.adk_usersync)).reduce(((e,t)=>e.concat(t)),[]).map((({url:e,type:t})=>({type:Op[t],url:e}))):[]}};function zp(e,t,i,a){let n=function(e,t,i){var a,n=1===i.length?i[0]:"*";if("function"==typeof e.getFloor){const i=e.getFloor({currency:"USD",mediaType:t,size:n});"object"!=typeof i||"USD"!==i.currency||isNaN(parseFloat(i.floor))||(a=parseFloat(i.floor))}return a}(t,a,i);n&&(e.bidfloor=n)}function qp(e,t){return void 0===e?{}:(0,n.B)(e,t)}function $p(e,t){if(!e)return!1;let i=(0,n.V)(e.bidders)?e.bidders:[t],a="include"===e.filter;return(0,n.j)(i,t)===a}function Fp(){const e=navigator.language?"language":"userLanguage";return navigator[e].split("-")[0]}function Vp(e,t){let i={domain:e.domain,page:e.page};return(0,n.lb)(i,t.site),null!=e.ref?i.ref=e.ref:delete i.ref,i}function Lp(e){return!e||(e.sizes?(0,n.U)(e.sizes,2):!(0,n.V)(e.aspect_ratios)||e.aspect_ratios.length>0&&e.aspect_ratios[0].min_height&&e.aspect_ratios[0].min_width)}function Gp(e){let t=JSON.parse(e);return"native"in t&&(t=t.native),t}(0,Ye.b)(jp),gt.a.add(ft.a.adkernel,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=Nl(a);Pl(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}if(a.native&&Ul(e,t.placementId,[{bidder:i.bidder,params:{...i.params,video:void 0}}],a.native),a.outstream){const n={...a.outstream,openRtbParams:{...Sl,linearity:1}};Ml(e,t.placementId,n,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream)}})),gt.b.add(ft.a.adkernel,jp.gvlid);const Wp=(0,te.d)({bidderCode:"amx"}),Hp=/\.com?\.\w{2,4}$/,Xp=/^\s*<\??(?:vast|xml)/i,Yp="https://1x1.a-mo.net/",Jp=Yp+"hbx/",Kp=Yp+"e",Zp="__amuidpb";function Qp(e,t){return null==e?[]:e.map(t).reduce(((e,t)=>null!=t&&e.concat(t)),[])}const ec=(e,t)=>null==e||typeof e===t;function tc(e){const t=e.hostname.split("."),i=t.slice(t.length-(Hp.test(e.hostname)?3:2)).join(".");return btoa(i).replace(/=+$/,"")}const ic=encodeURIComponent;function ac(){try{return Wp.getDataFromLocalStorage(Zp)}catch(e){return null}}function nc(e){const t=[];return Object.keys(e||{}).forEach((i=>{t.push(ic(i)+"="+ic(String(e[i])))})),ic(t.join("&"))}function rc(e){const t={};return(0,n.a)(e,(e=>{t[e.bidId]=function(e){const t=(p=e.sizes,c=e.mediaTypes,p.concat((0,o.a)(c,`${D.b}.sizes`,[])||[]).concat((0,o.a)(c,`${D.d}.sizes`,[])||[]).sort(((e,t)=>t[0]*t[1]-e[0]*e[1]))[0]||[0,0]),i=e.mediaType===D.d||D.d in e.mediaTypes,a=i||t[1]>100,n=(0,o.a)(e,"params.tagId"),r=null!=e.params&&"string"==typeof e.params.adUnitId&&""!==e.params.adUnitId?e.params.adUnitId:e.adUnitCode,s=[e.sizes,(0,o.a)(e,`mediaTypes.${D.b}.sizes`,[])||[],(0,o.a)(e,`mediaTypes.${D.d}.sizes`,[])||[]],d={au:r,av:a,vd:(0,o.a)(e,`mediaTypes.${D.d}`,{})||{},vr:i,ms:s,aw:t[0],ah:t[1],tf:0,sc:e.schain||{},f:(l=dc(e),"number"==typeof l&&isFinite(l)&&l>0?l:sc),rtb:e.ortb2Imp};var l,p,c;return"string"==typeof n&&n.length>0&&(d.i=n),d}(e)})),t}const oc=(e,t)=>(0,n.Fb)(`${Jp}g_${e}?${(0,n.v)({...t,ts:Date.now(),eid:(0,n.G)()})}`),sc=0;function dc(e){if(!(0,n.Z)(e.getFloor))return(0,o.a)(e,"params.floor",sc);try{return e.getFloor({currency:"USD",mediaType:"*",size:"*",bidRequest:e}).floor}catch(e){return(0,n.gb)("call to getFloor failed: ",e),sc}}function lc(e,t,i){return(0,o.a)(e,"refererInfo."+t,i)}function pc(e,t){if(null==e)return!1;const i=e[t];return null!=i&&!!("*"===i.bidders||(0,n.V)(i.bidders)&&-1!==i.bidders.indexOf("amx"))&&(null==i.filter||"include"===i.filter)}function cc(){const e=v.config.getConfig("userSync");if(null==e)return{d:0,l:0,t:0,e:!0};const t={d:e.syncDelay,l:e.syncsPerBidder,t:0,e:e.syncEnabled};return pc(e.filterSettings,"all")?(t.t=0,t):(pc(e.filterSettings,"iframe")&&(t.t|=2),pc(e.filterSettings,"image")&&(t.t|=1),t)}function mc(e){return null!=e?.gppConsent?e.gppConsent:e?.ortb2?.regs?.gpp??{gppString:"",applicableSections:""}}function uc(e){if(null==e.refererInfo)return{r:"",t:!1,c:"",l:0,s:[]};const t=e.refererInfo;return{r:t.topmostLocation,t:t.reachedTop,l:t.numIframes,s:t.stack,c:t.canonicalUrl}}const bc={code:"amx",gvlid:737,supportedMediaTypes:[D.b,D.d],isBidRequestValid:e=>ec((0,o.a)(e,"params.endpoint",null),"string")&&ec((0,o.a)(e,"params.tagId",null),"string"),buildRequests(e,t){const i=(d=t,(0,n.qb)(d.refererInfo?.topmostLocation||window.location.href)),a=(0,o.a)(e[0],"params.tagId",null),r=(0,o.a)(e[0],"params.testMode",0),s=null!=e[0]?e[0]:{bidderRequestsCount:0,bidderWinsCount:0,bidRequestsCount:0};var d,l,p;return{data:{a:(0,n.w)(),B:0,b:i.host,brc:s.bidderRequestsCount||0,bwc:s.bidderWinsCount||0,trc:s.bidRequestsCount||0,tm:(p=r,!0===p||1===p||"true"===p),V:"9.16.0",vg:"hubjs",i:r&&null!=a?a:tc(i),l:{},f:.01,cv:"pba1.3.4",st:"prebid",h:screen.height,w:screen.width,gs:(0,o.a)(t,"gdprConsent.gdprApplies",""),gc:(0,o.a)(t,"gdprConsent.consentString",""),gpp:mc(t),u:lc(t,"page",i.href),do:lc(t,"site",i.hostname),re:lc(t,"ref"),am:ac(),usp:t.uspConsent||"1---",smt:1,d:"",m:rc(e),cpp:v.config.getConfig("coppa")?1:0,fpd2:t.ortb2,tmax:t.timeout,amp:lc(t,"isAmp",null),ri:uc(t),sync:cc(),eids:(l=e.reduce(((e,t)=>(null==t||null==t.userIdAsEids||(0,n.a)(t.userIdAsEids,(t=>{null!=t&&(e[t.source]=t)})),e)),{}),null!=Object.values?Object.values(l):Object.keys(l).map((e=>l[e])))},method:"POST",browsingTopics:!0,url:(0,o.a)(e[0],"params.endpoint","https://prebid.a-mo.net/a/c"),withCredentials:!0}},getUserSyncs(e,t,i,a,r){const o={gdpr_consent:ic(i?.consentString||""),gdpr:ic(i?.gdprApplies?1:0),us_privacy:ic(a||""),gpp:ic(r?.gppString||""),gpp_sid:ic(r?.applicableSections||"")},s={url:`https://prebid.a-mo.net/isyn?${(0,n.v)(o)}`,type:"iframe"};if(null==t||0===t.length)return e.iframeEnabled?[s]:[];const d=[];let l=!1;return(0,n.a)(t,(function({body:t}){null!=t&&null!=t.p&&t.p.hreq&&(0,n.a)(t.p.hreq,(function(t){const i=-1!==t.indexOf("__st=iframe")?"iframe":"image";(e.iframeEnabled||"image"===i)&&(l=l||"iframe"===i||-1!==t.indexOf("cchain"),d.push({url:t,type:i}))}))})),!l&&d.length<2&&d.push(s),d},interpretResponse(e,t){const i=e.body;if(null==i||"string"==typeof i)return[];i.am&&"string"==typeof i.am&&function(e){try{Wp.setDataInLocalStorage(Zp,e)}catch(e){}}(i.am);const a=v.config.getConfig("bidderSettings"),n=!!(a?.amx??a?.standard??{}).allowAlternateBidderCodes;return Qp(Object.keys(i.r),(e=>Qp(i.r[e],(i=>i.b.map((i=>{const a=function(e){return null!=(t=e.adm)&&Xp.test(t)?D.d:D.b;var t}(i),r=i.adm;if(null==r)return null;const o=function(e,t,i){if(null!=e.w&&e.w>1&&null!=e.h&&e.h>1)return[e.w,e.h];const a=t.m[i];return null==a?[0,0]:[a.aw,a.ah]}(i,t.data,e),s=a===D.b?240:300,{bc:d,ds:l}=i.ext??{};return{...null!=d&&n?{bidderCode:d}:{},requestId:e,cpm:i.price,width:o[0],height:o[1],creativeId:i.crid,currency:"USD",netRevenue:!0,[a===D.d?"vastXml":"ad"]:r,meta:{advertiserDomains:i.adomain,mediaType:a,...null!=l?{demandSource:l}:{}},mediaType:a,ttl:"number"==typeof i.exp?i.exp:s}})))).filter((e=>null!=e))))},onSetTargeting(e){null!=e&&oc("pbst",{A:e.bidder,w:e.width,h:e.height,bid:e.adId,c1:e.mediaType,np:e.cpm,aud:e.requestId,a:e.adUnitCode,c2:nc(e.adserverTargeting),cn3:e.timeToRespond})},onTimeout(e){if(null==e||!e.length)return;let t=null;const i=e.map((e=>{const i=e.params||{},a=function(e){return null==e.sizes||0===e.sizes.length?[0,0]:e.sizes[0]}(e),{domain:n,page:r,ref:o}=null!=e.ortb2&&null!=e.ortb2.site?e.ortb2.site:{};return null==t&&(t={do:n,u:r,U:ac(),re:o,V:"9.16.0",vg:"hubjs"}),{A:e.bidder,mid:i.tagId,a:i.adunitId||e.adUnitCode,bid:e.bidId,n:"g_pbto",aud:e.transactionId,w:a[0],h:a[1],cn:e.timeout,cn2:e.bidderRequestsCount,cn3:e.bidderWinsCount}})),a=JSON.stringify({c:t,e:i});(0,Vi.c)(Kp,{body:a,keepalive:!0,withCredentials:!0,method:"POST"}).catch((()=>{}))},onBidWon(e){null!=e&&oc("pbwin",{A:e.bidder,w:e.width,h:e.height,bid:e.adId,C:e.mediaType===D.b?0:1,np:e.cpm,a:e.adUnitCode})}};function fc(e){return!e?.gdprApplies||!0===(0,o.a)(e,"vendorData.purpose.consents.1")}(0,Ye.b)(bc),gt.a.add(ft.a.amx,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=Nl(a);Pl(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}a.outstream&&Ml(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream)})),gt.b.add(ft.a.amx,bc.gvlid);const gc={1:"IAB20-3",2:"IAB18-5",3:"IAB10-1",4:"IAB2-3",5:"IAB19-8",6:"IAB22-1",7:"IAB18-1",8:"IAB12-3",9:"IAB5-1",10:"IAB4-5",11:"IAB13-4",12:"IAB8-7",13:"IAB9-7",14:"IAB7-1",15:"IAB20-18",16:"IAB10-7",17:"IAB19-18",18:"IAB13-6",19:"IAB18-4",20:"IAB1-5",21:"IAB1-6",22:"IAB3-4",23:"IAB19-13",24:"IAB22-2",25:"IAB3-9",26:"IAB17-18",27:"IAB19-6",28:"IAB1-7",29:"IAB9-30",30:"IAB20-7",31:"IAB20-17",32:"IAB7-32",33:"IAB16-5",34:"IAB19-34",35:"IAB11-5",36:"IAB12-3",37:"IAB11-4",38:"IAB12-3",39:"IAB9-30",41:"IAB7-44",42:"IAB7-1",43:"IAB7-30",50:"IAB19-30",51:"IAB17-12",52:"IAB19-30",53:"IAB3-1",55:"IAB13-2",56:"IAB19-30",57:"IAB19-30",58:"IAB7-39",59:"IAB22-1",60:"IAB7-39",61:"IAB21-3",62:"IAB5-1",63:"IAB12-3",64:"IAB20-18",65:"IAB11-2",66:"IAB17-18",67:"IAB9-9",68:"IAB9-5",69:"IAB7-44",71:"IAB22-3",73:"IAB19-30",74:"IAB8-5",78:"IAB22-1",85:"IAB12-2",86:"IAB22-3",87:"IAB11-3",112:"IAB7-32",113:"IAB7-32",114:"IAB7-32",115:"IAB7-32",118:"IAB9-5",119:"IAB9-5",120:"IAB9-5",121:"IAB9-5",122:"IAB9-5",123:"IAB9-5",124:"IAB9-5",125:"IAB9-5",126:"IAB9-5",127:"IAB22-1",132:"IAB1-2",133:"IAB19-30",137:"IAB3-9",138:"IAB19-3",140:"IAB2-3",141:"IAB2-1",142:"IAB2-3",143:"IAB17-13",166:"IAB11-4",175:"IAB3-1",176:"IAB13-4",182:"IAB8-9",183:"IAB3-5"},yc=["user.keywords"].concat(me.flatMap((e=>["keywords","content.keywords"].map((t=>`${e}.${t}`)))));function hc(e,...t){return function(...e){const t=new Set;return e.filter((e=>e)).flatMap((e=>Array.isArray(e)?e:e.split(","))).map((e=>e.replace(/^\s*/,"").replace(/\s*$/,""))).filter((e=>e)).forEach((e=>t.add(e))),Array.from(t.keys())}(...yc.map((t=>(0,o.a)(e,t))),...t)}const vc={526:"1plusX",527:"1plusX",541:"captify_segments",540:"perid"},_c=["user.data"].concat(me.map((e=>`${e}.content.data`)));function Ic(e,t,i){return null==t?i:(0,n.eb)(t)?t:(0,n.ab)(t)?t.toString():void(0,n.jb)("Unsuported type for param: "+e+" required type: String")}function wc(e){const t={};return e.forEach((e=>{if(-1!==e.indexOf("=")){let i=e.split("="),a=i[0],n=i[1];t.hasOwnProperty(a)?t[a].push(n):t[a]=[n]}else t.hasOwnProperty(e)||(t[e]=[])})),t}function xc(...e){return function(e,t="keywords"){const i=[];return(0,n.a)(e,((e,a)=>{if((0,n.V)(e)){let i=[];(0,n.a)(e,(e=>{((e=Ic(t+"."+a,e))||""===e)&&i.push(e)})),e=i}else{if(e=Ic(t+"."+a,e),!(0,n.eb)(e))return;e=[e]}e=e.filter((e=>""!==e));const r={key:a};e.length>0&&(r.value=e),i.push(r)})),i}((0,n.lb)(...e.map((e=>Object.fromEntries(Object.entries(e||{}).map((([e,t])=>[e,(0,n.ab)(t)||(0,n.eb)(t)?[t]:t])))))))}function Tc(e,...t){return xc(function(e){return wc(hc(e))}(e),function(e){let t={};return _c.forEach((i=>{((0,o.a)(e,i)||[]).forEach((e=>{const i=vc[(0,o.a)(e,"ext.segtax")];i&&e.segment.forEach((e=>{t[i]?t[i].push(e.id):t[i]=[e.id]}))}))})),t}(e),...t)}function Dc(e){return e.replace(/(?:^|\.?)([A-Z])/g,(function(e,t){return"_"+t.toLowerCase()})).replace(/^_/,"")}function Ac(e,t){let i=[];for(let a=0;a<t;a++){let t=(0,n.bb)(e)?(0,n.p)(e):e;i.push(t)}return i}function Sc(e,t){let i=[];for(let a=0;a<Math.ceil(e.length/t);a++){let n=a*t,r=n+t;i.push(e.slice(n,r))}return i}const Cc="appnexus",Rc=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],kc=["minduration","maxduration","skip","skipafter","playbackmethod","api","startdelay","placement","plcmt"],Ec=["age","externalUid","external_uid","segments","gender","dnt","language"],Mc=["geo","device_id"],Oc=["enabled","dongle","member_id","debug_timeout"],Uc={apn_debug_dongle:"dongle",apn_debug_member_id:"member_id",apn_debug_timeout:"debug_timeout"},Bc={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5,"in-feed":6,interstitial:7,accompanying_content_pre_roll:8,accompanying_content_mid_roll:9,accompanying_content_post_roll:10}},Pc={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},Nc=/\/\/cdn\.adnxs\.com\/v|\/\/cdn\.adnxs\-simple\.com\/v/,jc=(0,te.d)({bidderCode:Cc}),zc=new Map([[1,"Mobile/Tablet - General"],[2,"Personal Computer"],[3,"Connected TV"],[4,"Phone"],[5,"Tablet"],[6,"Connected Device"],[7,"Set Top Box"],[8,"OOH Device"]]),qc={code:Cc,gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"emxdigital",gvlid:183},{code:"emetriq",gvlid:213},{code:"pagescience",gvlid:32},{code:"gourmetads",gvlid:32},{code:"matomy",gvlid:32},{code:"featureforward",gvlid:32},{code:"oftmedia",gvlid:32},{code:"adasta",gvlid:32},{code:"beintoo",gvlid:618},{code:"projectagora",gvlid:1032},{code:"stailamedia",gvlid:32},{code:"uol",gvlid:32},{code:"adzymic",gvlid:723}],supportedMediaTypes:[D.b,D.d,D.c],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.placement_id||e.params.member&&(e.params.invCode||e.params.inv_code))},buildRequests:function(e,t){const i=(e=(0,s.b)(e)).map($c),a=(0,l.b)(e,Vc);let r={};!0===v.config.getConfig("coppa")&&(r={coppa:!0}),a&&Object.keys(a.params.user).filter((e=>(0,l.c)(Ec,e))).forEach((e=>{let t=Dc(e);if("segments"===e&&(0,n.V)(a.params.user[e])){let i=[];a.params.user[e].forEach((e=>{(0,n.ab)(e)?i.push({id:e}):(0,n.bb)(e)&&i.push(e)})),r[t]=i}else"segments"!==e&&(r[t]=a.params.user[e])}));const o=(0,l.b)(e,Gc);let d;o&&o.params&&o.params.app&&(d={},Object.keys(o.params.app).filter((e=>(0,l.c)(Mc,e))).forEach((e=>d[e]=o.params.app[e])));const p=(0,l.b)(e,Wc);let c;p&&p.params&&o.params.app&&o.params.app.id&&(c={appid:p.params.app.id});let m={},u={};const b=jc.getCookie("apn_prebid_debug")||null;if(b)try{m=JSON.parse(b)}catch(e){(0,n.gb)("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{Object.keys(Uc).forEach((e=>{let t=(0,n.D)(e);(0,n.eb)(t)&&""!==t&&(m[Uc[e]]=t,m.enabled=!0)})),m=function(e,t){return Object.keys(e).forEach((i=>{var a,r;t[i]&&((0,n.Z)(e[i])?t[i]=e[i](t[i]):t[i]=(a=e[i],r=t[i],"string"===a?r&&r.toString():"number"===a?Number(r):r),isNaN(t[i])&&delete t.key)})),t}({member_id:"number",debug_timeout:"number"},m);const t=(0,l.b)(e,Hc);t&&t.debug&&(m=t.debug)}m&&m.enabled&&Object.keys(m).filter((e=>(0,l.c)(Oc,e))).forEach((e=>{u[e]=m[e]}));const f=(0,l.b)(e,Lc),g=f?parseInt(f.params.member,10):0,y=e[0].schain,h=(0,l.b)(e,Yc),_={tags:[...i],user:r,sdk:{source:"pbjs",version:"9.16.0"},schain:y};h&&(_.iab_support={omidpn:"Appnexus",omidpv:"9.16.0"}),g>0&&(_.member_id=g),o&&(_.device=d),p&&(_.app=c),t?.ortb2?.device&&(_.device=_.device||{},(0,n.lb)(_.device,function(e){const t={useragent:e.ua,devicetype:zc.get(e.devicetype),make:e.make,model:e.model,os:e.os,os_version:e.osv,w:e.w,h:e.h,ppi:e.ppi,pxratio:e.pxratio};return Object.keys(t).reduce(((e,i)=>(t[i]&&(e[i]=t[i]),e)),{})}(t.ortb2.device)));let I=Tc((0,n.p)(t&&t.ortb2),(0,n.p)(v.config.getConfig("appnexusAuctionKeywords"))||{});if(I.length>0&&(_.keywords=I),v.config.getConfig("adpod.brandCategoryExclusion")&&(_.brand_category_uniqueness=!0),u.enabled&&(_.debug=u,(0,n.hb)("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(u,null,4))),t&&t.gdprConsent&&(_.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies},t.gdprConsent.addtlConsent&&-1!==t.gdprConsent.addtlConsent.indexOf("~"))){let e=t.gdprConsent.addtlConsent,i=e.substring(e.indexOf("~")+1);_.gdpr_consent.addtl_consent=i.split(".").map((e=>parseInt(e,10)))}if(t&&t.uspConsent&&(_.us_privacy=t.uspConsent),t?.gppConsent?_.privacy={gpp:t.gppConsent.gppString,gpp_sid:t.gppConsent.applicableSections}:t?.ortb2?.regs?.gpp&&(_.privacy={gpp:t.ortb2.regs.gpp,gpp_sid:t.ortb2.regs.gpp_sid}),t&&t.refererInfo){let e={rd_ref:encodeURIComponent(t.refererInfo.topmostLocation),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map((e=>encodeURIComponent(e))).join(",")},i=t.refererInfo.canonicalUrl;(0,n.eb)(i)&&""!==i&&(e.rd_can=i),_.referrer_detection=e}if((0,l.b)(e,Xc)&&e.filter(Xc).forEach((e=>{const t=function(e,t){const{durationRangeSec:i,requireExactDuration:a}=t.mediaTypes.video,n=function(e){const{adPodDurationSec:t,durationRangeSec:i,requireExactDuration:a}=e,n=Math.min(...i),r=Math.floor(t/n);return a?Math.max(r,i.length):r}(t.mediaTypes.video),r=Math.max(...i);let o=Ac(...e.filter((e=>e.uuid===t.bidId)),n);if(a){const e=Sc(o,Math.ceil(n/i.length));i.forEach(((t,i)=>{e[i].map((e=>{Jc(e,"minduration",t),Jc(e,"maxduration",t)}))}))}else o.map((e=>Jc(e,"maxduration",r)));return o}(i,e),a=_.tags.filter((t=>t.uuid!==e.bidId));_.tags=[...a,...t]})),e[0].userId){let t=[];e[0].userIdAsEids.forEach((e=>{!e||!e.uids||e.uids.length<1||e.uids.forEach((i=>{let a={source:e.source,id:i.id};"adserver.org"==e.source?a.rti_partner="TDID":"uidapi.com"==e.source&&(a.rti_partner="UID2"),t.push(a)}))})),t.length&&(_.eids=t)}if(t?.ortb2?.regs?.ext?.dsa){const e=t.ortb2.regs.ext.dsa,i={};if(["dsarequired","pubrender","datatopub"].forEach((t=>{(0,n.ab)(e[t])&&(i[t]=e[t])})),(0,n.V)(e.transparency)&&e.transparency.every((e=>(0,n.bb)(e)))){const t=[];e.transparency.forEach((e=>{(0,n.eb)(e.domain)&&""!=e.domain&&(0,n.V)(e.dsaparams)&&e.dsaparams.every((e=>(0,n.ab)(e)))&&t.push(e)})),t.length>0&&(i.transparency=t)}(0,n.Y)(i)||(_.dsa=i)}i[0].publisher_id&&(_.publisher_id=i[0].publisher_id);const w=function(e,t){let i=[],a={withCredentials:!0},r="https://ib.adnxs.com/ut/v3/prebid";if(fc(t?.gdprConsent)||(r="https://ib.adnxs-simple.com/ut/v3/prebid"),"TRUE"!==(0,n.D)("apn_test").toUpperCase()&&!0!==v.config.getConfig("apn_test")||(a.customHeaders={"X-Is-Test":1}),e.tags.length>15){const o=(0,n.p)(e);Sc(e.tags,15).forEach((e=>{o.tags=e;const n=JSON.stringify(o);i.push({method:"POST",url:r,data:n,bidderRequest:t,options:a})}))}else{const n=JSON.stringify(e);i={method:"POST",url:r,data:n,bidderRequest:t,options:a}}return i}(_,t);return w},interpretResponse:function(e,{bidderRequest:t}){e=e.body;const i=[];if(!e||e.error){let a=`in response for ${t.bidderCode} adapter`;return e&&e.error&&(a+=`: ${e.error}`),(0,n.gb)(a),i}if(e.tags&&e.tags.forEach((e=>{const a=(r=e)&&r.ads&&r.ads.length&&(0,l.b)(r.ads,(e=>e.rtb));var r;if(a&&(!0===w.a.get(t.bidderCode,"allowZeroCpmBids")?a.cpm>=0:a.cpm>0)&&(0,l.c)(this.supportedMediaTypes,a.ad_type)){const r=function(e,t,i){const a=(0,n.y)(e.uuid,[i]),r=(0,n.G)(),s={adId:r,requestId:e.uuid,cpm:t.cpm,creativeId:t.creative_id,dealId:t.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:a.adUnitCode,appnexus:{buyerMemberId:t.buyer_member_id,dealPriority:t.deal_priority,dealCode:t.deal_code}};if(t.adomain&&(s.meta=Object.assign({},s.meta,{advertiserDomains:[t.adomain]})),t.advertiser_id&&(s.meta=Object.assign({},s.meta,{advertiserId:t.advertiser_id})),t.dsa&&(s.meta=Object.assign({},s.meta,{dsa:t.dsa})),t.buyer_member_id&&(s.meta=Object.assign({},s.meta,{dchain:function(e){return{ver:"1.0",complete:0,nodes:[{bsid:e.buyer_member_id.toString()}]}}(t)})),t.brand_id&&(s.meta=Object.assign({},s.meta,{brandId:t.brand_id})),t.rtb.video)switch(Object.assign(s,{width:t.rtb.video.player_width,height:t.rtb.video.player_height,vastImpUrl:t.notify_url,ttl:3600}),(0,o.a)(a,"mediaTypes.video.context")){case D.a:const a=gc[t.brand_category_id]?gc[t.brand_category_id]:null;s.meta=Object.assign({},s.meta,{primaryCatId:a});const r=t.deal_priority;s.video={context:D.a,durationSeconds:Math.floor(t.rtb.video.duration_ms/1e3),dealTier:r},s.vastUrl=t.rtb.video.asset_url;break;case Se.c:if(s.adResponse=e,s.adResponse.ad=s.adResponse.ads[0],s.adResponse.ad.video=s.adResponse.ad.rtb.video,s.vastXml=t.rtb.video.content,t.renderer_url){const a=(0,l.b)(i.bids,(t=>t.bidId===e.uuid));let r=(0,o.a)(a,"mediaTypes.video.renderer.options");r||(r=(0,o.a)(a,"renderer.options")),s.renderer=function(e,t,i={}){const a=zl.a.install({id:t.renderer_id,url:t.renderer_url,config:i,loaded:!1,adUnitCode:e});try{a.setRender(Kc)}catch(e){(0,n.jb)("Prebid Error calling setRender on renderer",e)}return a.setEventHandlers({impression:()=>(0,n.ib)("AppNexus outstream video impression event"),loaded:()=>(0,n.ib)("AppNexus outstream video loaded event"),ended:()=>{(0,n.ib)("AppNexus outstream renderer video event"),document.querySelector(`#${e}`).style.display="none"}}),a}(s.adUnitCode,t,r)}break;case Se.a:s.vastUrl=t.notify_url+"&redir="+encodeURIComponent(t.rtb.video.asset_url)}else if(t.rtb[D.c]){const e=t.rtb[D.c];let i;if(function(e){if(!e||""===e)return!1;let t=e.match(Nc),i=null!=t&&t.length>=1,a=e.match("trk.js"),n=null!=a&&a.length>=1;return e.startsWith("<script")&&n&&i}(t.viewability.config)){let e="pbjs_adid="+r+";pbjs_auc="+a.adUnitCode;i=t.viewability.config.replace("dom_id=%native_dom_id%",e)}let o=e.javascript_trackers;null==o?o=i:(0,n.eb)(o)?o=[o,i]:o.push(i),s[D.c]={title:e.title,body:e.desc,body2:e.desc2,cta:e.ctatext,rating:e.rating,sponsoredBy:e.sponsored,privacyLink:e.privacy_link,address:e.address,downloads:e.downloads,likes:e.likes,phone:e.phone,price:e.price,salePrice:e.saleprice,clickUrl:e.link.url,displayUrl:e.displayurl,clickTrackers:e.link.click_trackers,impressionTrackers:e.impression_trackers,video:e.video,javascriptTrackers:o},e.main_img&&(s[D.c].image={url:e.main_img.url,height:e.main_img.height,width:e.main_img.width}),e.icon&&(s[D.c].icon={url:e.icon.url,height:e.icon.height,width:e.icon.width}),s[D.c].ext={customImage1:e.image1&&{url:e.image1.url,height:e.image1.height,width:e.image1.width},customImage2:e.image2&&{url:e.image2.url,height:e.image2.height,width:e.image2.width},customImage3:e.image3&&{url:e.image3.url,height:e.image3.height,width:e.image3.width},customImage4:e.image4&&{url:e.image4.url,height:e.image4.height,width:e.image4.width},customImage5:e.image5&&{url:e.image5.url,height:e.image5.height,width:e.image5.width},customIcon1:e.icon1&&{url:e.icon1.url,height:e.icon1.height,width:e.icon1.width},customIcon2:e.icon2&&{url:e.icon2.url,height:e.icon2.height,width:e.icon2.width},customIcon3:e.icon3&&{url:e.icon3.url,height:e.icon3.height,width:e.icon3.width},customIcon4:e.icon4&&{url:e.icon4.url,height:e.icon4.height,width:e.icon4.width},customIcon5:e.icon5&&{url:e.icon5.url,height:e.icon5.height,width:e.icon5.width},customSocialIcon1:e.socialicon1&&{url:e.socialicon1.url,height:e.socialicon1.height,width:e.socialicon1.width},customSocialIcon2:e.socialicon2&&{url:e.socialicon2.url,height:e.socialicon2.height,width:e.socialicon2.width},customSocialIcon3:e.socialicon3&&{url:e.socialicon3.url,height:e.socialicon3.height,width:e.socialicon3.width},customSocialIcon4:e.socialicon4&&{url:e.socialicon4.url,height:e.socialicon4.height,width:e.socialicon4.width},customSocialIcon5:e.socialicon5&&{url:e.socialicon5.url,height:e.socialicon5.height,width:e.socialicon5.width},customTitle1:e.title1,customTitle2:e.title2,customTitle3:e.title3,customTitle4:e.title4,customTitle5:e.title5,customBody1:e.body1,customBody2:e.body2,customBody3:e.body3,customBody4:e.body4,customBody5:e.body5,customCta1:e.ctatext1,customCta2:e.ctatext2,customCta3:e.ctatext3,customCta4:e.ctatext4,customCta5:e.ctatext5,customDisplayUrl1:e.displayurl1,customDisplayUrl2:e.displayurl2,customDisplayUrl3:e.displayurl3,customDisplayUrl4:e.displayurl4,customDisplayUrl5:e.displayurl5,customSocialUrl1:e.socialurl1,customSocialUrl2:e.socialurl2,customSocialUrl3:e.socialurl3,customSocialUrl4:e.socialurl4,customSocialUrl5:e.socialurl5}}else{Object.assign(s,{width:t.rtb.banner.width,height:t.rtb.banner.height,ad:t.rtb.banner.content});try{if(t.rtb.trackers)for(let e=0;e<t.rtb.trackers[0].impression_urls.length;e++){const i=t.rtb.trackers[0].impression_urls[e],a=(0,n.m)(i);s.ad+=a}}catch(e){(0,n.gb)("Error appending tracking pixel",e)}}return s}(e,a,t);r.mediaType=function(e){const t=e.ad_type;return t===D.d?D.d:t===D.c?D.c:D.b}(a),i.push(r)}})),e.debug&&e.debug.debug_info){let t="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info;t=t.replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),(0,n.ib)("https://console.appnexus.com/docs/understanding-the-debug-auction"),(0,n.ib)(t)}return i},getUserSyncs:function(e,t,i){return e.iframeEnabled&&fc(i)?[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]:e.pixelEnabled?["https://px.ads.linkedin.com/setuid?partner=appNexus"].map((e=>({type:"image",url:e}))):void 0}};function $c(e){const t={};Object.keys(e.params).forEach((t=>{let i=Dc(t);i!==t&&(e.params[i]=e.params[t],delete e.params[t])})),t.sizes=Fc(e.sizes),t.primary_size=t.sizes[0],t.ad_types=[],t.uuid=e.bidId,e.params.placement_id?t.id=parseInt(e.params.placement_id,10):t.code=e.params.inv_code;const i=(0,n.D)("ast_override_div");if((0,n.eb)(i)&&""!==i){const a=decodeURIComponent(i).split(",").find((t=>t.startsWith(`${e.adUnitCode}:`)));if(a){const e=a.split(":")[1];e&&(t.force_creative_id=parseInt(e,10))}}t.allow_smaller_sizes=e.params.allow_smaller_sizes||!1,t.use_pmt_rule="boolean"==typeof e.params.use_payment_rule?e.params.use_payment_rule:"boolean"==typeof e.params.use_pmt_rule&&e.params.use_pmt_rule,t.prebid=!0,t.disable_psa=!0;let a=function(e){if(!(0,n.Z)(e.getFloor))return e.params.reserve?e.params.reserve:null;let t=e.getFloor({currency:"USD",mediaType:"*",size:"*"});return(0,n.bb)(t)&&!isNaN(t.floor)&&"USD"===t.currency?t.floor:null}(e);if(a&&(t.reserve=a),e.params.position)t.position={above:1,below:2}[e.params.position]||0;else{let i=(0,o.a)(e,"mediaTypes.banner.pos")||(0,o.a)(e,"mediaTypes.video.pos");0!==i&&1!==i&&3!==i||(t.position=3===i?2:i)}e.params.traffic_source_code&&(t.traffic_source_code=e.params.traffic_source_code),e.params.private_sizes&&(t.private_sizes=Fc(e.params.private_sizes)),e.params.supply_type&&(t.supply_type=e.params.supply_type),e.params.pub_click&&(t.pubclick=e.params.pub_click),e.params.ext_inv_code&&(t.ext_inv_code=e.params.ext_inv_code),e.params.publisher_id&&(t.publisher_id=parseInt(e.params.publisher_id,10)),e.params.external_imp_id&&(t.external_imp_id=e.params.external_imp_id);const r=xc((s=(0,o.a)(e,"ortb2Imp.ext.data.keywords"),(0,n.eb)(s)&&""!==s?wc(s.split(/\s*(?:,)\s*/)):{}),e.params?.keywords);var s;r.length>0&&(t.keywords=r);let d=(0,o.a)(e,"ortb2Imp.ext.gpid")||(0,o.a)(e,"ortb2Imp.ext.data.pbadslot");if(d&&(t.gpid=d),(e.mediaType===D.c||(0,o.a)(e,`mediaTypes.${D.c}`))&&(t.ad_types.push(D.c),0===t.sizes.length&&(t.sizes=Fc([1,1])),e.nativeParams)){const i=function(e){const t={};return Object.keys(e).forEach((i=>{const a=Pc[i]&&Pc[i].serverName||Pc[i]||i,r=Pc[i]&&Pc[i].requiredParams;if(t[a]=Object.assign({},r,e[i]),(a===Pc.image.serverName||a===Pc.icon.serverName)&&t[a].sizes){let e=t[a].sizes;((0,n.U)(e)||(0,n.V)(e)&&e.length>0&&e.every((e=>(0,n.U)(e))))&&(t[a].sizes=Fc(t[a].sizes))}a===Pc.privacyLink&&(t.privacy_supported=!0)})),t}(e.nativeParams);t[D.c]={layouts:[i]}}{const i=(0,o.a)(e,`mediaTypes.${D.d}`),a=(0,o.a)(e,"mediaTypes.video.context");t.hb_source=i&&"adpod"===a?7:1,(e.mediaType===D.d||i)&&t.ad_types.push(D.d),(e.mediaType===D.d||i&&"outstream"!==a)&&(t.require_asset_url=!0),e.params.video&&(t.video={},Object.keys(e.params.video).filter((e=>(0,l.c)(Rc,e))).forEach((i=>{switch(i){case"context":case"playback_method":let a=e.params.video[i];a=(0,n.V)(a)?a[0]:a,t.video[i]=Bc[i][a];break;case"frameworks":break;default:t.video[i]=e.params.video[i]}})),e.params.video.frameworks&&(0,n.V)(e.params.video.frameworks)&&(t.video_frameworks=e.params.video.frameworks)),i&&(t.video=t.video||{},Object.keys(i).filter((e=>(0,l.c)(kc,e))).forEach((e=>{switch(e){case"minduration":case"maxduration":"number"!=typeof t.video[e]&&(t.video[e]=i[e]);break;case"skip":"boolean"!=typeof t.video.skippable&&(t.video.skippable=1===i[e]);break;case"skipafter":"number"!=typeof t.video.skipoffset&&(t.video.skippoffset=i[e]);break;case"playbackmethod":if("number"!=typeof t.video.playback_method){let a=i[e];a=(0,n.V)(a)?a[0]:a,a>=1&&a<=4&&(t.video.playback_method=a)}break;case"api":if(!t.video_frameworks&&(0,n.V)(i[e])){let a=i[e].map((e=>{let t=4===e?5:5===e?4:e;if(t>=1&&t<=5)return t})).filter((e=>e));t.video_frameworks=a}break;case"startdelay":case"plcmt":case"placement":if("number"!=typeof t.video.context){const e=i.plcmt,a=i.placement,n=i.startdelay,r=function(e,t){if(e)if(2===e){if(void 0===t)return;if(0===t)return"accompanying_content_pre_roll";if(-1===t)return"accompanying_content_mid_roll";if(-2===t)return"accompanying_content_post_roll"}else{if(3===e)return"interstitial";if(4===e)return"outstream"}}(e,n)||function(e){if(e)return 2===e?"in-banner":3===e?"outstream":4===e?"in-feed":5===e?"intersitial":void 0}(a)||function(e){if(e)return 0===e?"pre_roll":-1===e?"mid_roll":-2===e?"post_roll":void 0}(n);t.video.context=Bc.context[r]}}}))),e.renderer&&(t.video=Object.assign({},t.video,{custom_renderer_present:!0}))}return e.params.frameworks&&(0,n.V)(e.params.frameworks)&&(t.banner_frameworks=e.params.frameworks),(0,o.a)(e,`mediaTypes.${D.b}`)&&t.ad_types.push(D.b),0===t.ad_types.length&&delete t.ad_types,t}function Fc(e){let t=[],i={};if((0,n.V)(e)&&2===e.length&&!(0,n.V)(e[0]))i.width=parseInt(e[0],10),i.height=parseInt(e[1],10),t.push(i);else if("object"==typeof e)for(let a=0;a<e.length;a++){let n=e[a];i={},i.width=parseInt(n[0],10),i.height=parseInt(n[1],10),t.push(i)}return t}function Vc(e){return!!e.params.user}function Lc(e){return!!parseInt(e.params.member,10)}function Gc(e){if(e.params)return!!e.params.app}function Wc(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function Hc(e){return!!e.debug}function Xc(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===D.a}function Yc(e){let t=!1;const i=e.params,a=e.params.video;return i.frameworks&&(0,n.V)(i.frameworks)&&(t=(0,l.c)(e.params.frameworks,6)),!t&&a&&a.frameworks&&(0,n.V)(a.frameworks)&&(t=(0,l.c)(e.params.video.frameworks,6)),t}function Jc(e,t,i){(0,n.Y)(e.video)&&(e.video={}),e.video[t]=i}function Kc(e,t){!function(e){try{const t=document.getElementById(e).querySelectorAll("div[id^='google_ads']");t[0]&&t[0].style.setProperty("display","none")}catch(e){}}(e.adUnitCode),function(e){try{const t=document.getElementById(e).querySelectorAll("script[id^='sas_script']");t[0].nextSibling&&"iframe"===t[0].nextSibling.localName&&t[0].nextSibling.style.setProperty("display","none")}catch(e){}}(e.adUnitCode),e.renderer.push((()=>{(t?.defaultView||window).ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},Zc.bind(null,e))}))}function Zc(e,t,i){e.renderer.handleVideoEvent({id:t,eventName:i})}(0,Ye.b)(qc),gt.a.add(ft.a.AppNexus,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=Nl(a),r={...i.params,video:void 0};Pl(e,t.placementId,n,[{bidder:i.bidder,params:r}])}if(a.native&&Ul(e,t.placementId,[{bidder:i.bidder,params:{...i.params,video:void 0}}],a.native),a.outstream&&(t.rendering?.outstream?.hbvFormat?Ml(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream):El(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}])),a.instream){const n={frameworks:Sl.api,...i.params.video};Ol(e,t.placementId,a.instream,[{bidder:i.bidder,params:{...i.params,video:n}}])}})),gt.b.add(ft.a.AppNexus,qc.gvlid);const Qc=new WeakMap,em={1:D.b,2:D.d,4:D.c},tm={[Li.f]:{fpd:{priority:99,fn(e,t){(0,n.lb)(e,t.ortb2)}},onlyOneClient:{priority:-99,fn:ue("ORTB request")},props:{fn(e,t){Object.assign(e,{id:e.id||(0,n.w)(),test:e.test||0});const i=parseInt(t.timeout,10);isNaN(i)||(e.tmax=i)}}},[Li.c]:{fpd:{priority:99,fn(e,t){(0,n.lb)(e,t.ortb2Imp)}},id:{fn(e,t){e.id=t.bidId}},banner:{fn:function(e,t,i){if(i.mediaType&&i.mediaType!==D.b)return;const a=(0,o.a)(t,"mediaTypes.banner");if(a){const t={topframe:!0===(0,n.N)()?0:1};a.sizes&&(t.format=(0,n.Bb)(a.sizes).map(n.Ab)),a.hasOwnProperty("pos")&&(t.pos=a.pos),e.banner=(0,n.lb)(t,e.banner)}}},pbadslot:{fn(e){const t=e.ext?.data?.pbadslot;t&&"string"==typeof t||delete e.ext?.data?.pbadslot}}},[Li.a]:{mediaType:{priority:99,fn:function(e,t,i){if(e.mediaType)return;const a=i.mediaType;if(!a&&!em.hasOwnProperty(t.mtype))throw new Error("Cannot determine mediaType for response");e.mediaType=a||em[t.mtype]}},banner:{fn:function({createPixel:e=(e=>(0,n.m)(decodeURIComponent(e),n.s))}={}){return function(t,i){t.mediaType===D.b&&(i.adm&&i.nurl?(t.ad=i.adm,t.ad+=e(i.nurl)):i.adm?t.ad=i.adm:i.nurl&&(t.adUrl=i.nurl))}}()},props:{fn(e,t,i){Object.entries({requestId:i.bidRequest?.bidId,seatBidId:t.id,cpm:t.price,currency:i.ortbResponse.cur||i.currency,width:t.w,height:t.h,dealId:t.dealid,creative_id:t.crid,creativeId:t.crid,burl:t.burl,ttl:t.exp||i.ttl,netRevenue:i.netRevenue}).filter((([e,t])=>void 0!==t)).forEach((([t,i])=>e[t]=i)),e.meta||(e.meta={}),t.adomain&&(e.meta.advertiserDomains=t.adomain),t.ext?.dsa&&(e.meta.dsa=t.ext.dsa),t.cat&&(e.meta.primaryCatId=t.cat[0],e.meta.secondaryCatIds=t.cat.slice(1)),t.attr&&(e.meta.attr=t.attr)}}}};function im(...e){const t=e.shift(),i=e.length>1?im(...e):e[0];return Object.fromEntries(Li.e.map((e=>[e,Object.assign({},t[e],i[e])])))}function am({context:e={},processors:t=nm,overrides:i={},imp:a,request:r,bidResponse:o,response:s}={}){const d=new WeakMap;function l(e,a,n,r){let o;return function(){return null==o&&(o=function(){let o=n.bind(this,function(e,t={}){if(!Qc.has(e)){const t=Object.entries(e);t.sort(((e,t)=>(e=e[1].priority||0)===(t=t[1].priority||0)?0:e>t?-1:1)),Qc.set(e,t.map((([e,t])=>[e,t.fn])))}const i=Qc.get(e).filter((([e])=>!t.hasOwnProperty(e)||t[e])).map((function([e,i]){return t.hasOwnProperty(e)?t[e].bind(this,i):i}));return function(){const e=Array.from(arguments);i.forEach((t=>{t.apply(this,e)}))}}(t()[e]||{},i[e]||{}));return a&&(o=a.bind(this,o)),function(){try{return o.apply(this,arguments)}catch(e){r.call(this,e,...arguments)}}}()),o.apply(this,arguments)}}const p=l(Li.c,a,(function(e,t,i){const a={};return e(a,t,i),a}),(function(e,t,i){(0,n.gb)("Error while converting bidRequest to ORTB imp; request skipped.",{error:e,bidRequest:t,context:i})})),c=l(Li.f,r,(function(e,t,i,a){const n={imp:t};return e(n,i,a),n}),(function(e,t,i,a){throw(0,n.gb)("Error while converting to ORTB request",{error:e,imps:t,bidderRequest:i,context:a}),e})),m=l(Li.a,o,(function(e,t,i){const a={};return e(a,t,i),a}),(function(e,t,i){(0,n.gb)("Error while converting ORTB seatbid.bid to bidResponse; bid skipped.",{error:e,bid:t,context:i})})),u=l(Li.g,s,(function(e,t,i,a){const n={bids:t};return e(n,i,a),n}),(function(e,t,i,a){throw(0,n.gb)("Error while converting from ORTB response",{error:e,bidResponses:t,ortbResponse:i,context:a}),e}));return{toORTB({bidderRequest:t,bidRequests:i,context:a={}}){i=i||t.bids;const r={req:Object.assign({bidRequests:i},e,a),imp:{}};r.req.impContext=r.imp;const o=i.map((i=>{const o=Object.assign({bidderRequest:t,reqContext:r.req},e,a),s=p(i,o);if(null!=s){if(s.hasOwnProperty("id"))return Object.assign(o,{bidRequest:i,imp:s}),r.imp[s.id]=o,s;(0,n.gb)("Converted ORTB imp does not specify an id, ignoring bid request",i,s)}})).filter(Boolean),s=c(o,t,r.req);return r.req.bidderRequest=t,null!=s&&d.set(s,r),s},fromORTB({request:e,response:t}){const i=d.get(e);if(null==i)throw new Error("ortbRequest passed to `fromORTB` must be the same object returned by `toORTB`");function a(t,i={}){return Object.assign(t,{ortbRequest:e},i)}const r=Object.fromEntries((e.imp||[]).map((e=>[e.id,e]))),o=(t.seatbid||[]).flatMap((e=>(e.bid||[]).map((o=>{if(r.hasOwnProperty(o.impid)&&i.imp.hasOwnProperty(o.impid))return m(o,a(i.imp[o.impid],{imp:r[o.impid],seatbid:e,ortbResponse:t}));(0,n.gb)("ORTB response seatbid[].bid[].impid does not match any imp in request; ignoring bid",o)})))).filter(Boolean);return u(o,t,a(i.req))}}}tm[Li.c].native={fn:function(e,t,i){if(i.mediaType&&i.mediaType!==D.c)return;let a=t.nativeOrtbRequest;a&&(a=Object.assign({},i.nativeRequest,a),a.assets?.length?e.native=(0,n.lb)({},{request:JSON.stringify(a),ver:a.ver},e.native):(0,n.jb)("mediaTypes.native is set, but no assets were specified. Native request skipped.",t))}},tm[Li.a].native={fn:function(e,t){if(e.mediaType===D.c){let i;if(i="string"==typeof t.adm?JSON.parse(t.adm):t.adm,!(0,n.bb)(i)||!Array.isArray(i.assets))throw new Error("ORTB native response contained no assets");e.native={ortb:i}}}},tm[Li.c].video={fn:function(e,t,i){if(i.mediaType&&i.mediaType!==D.d)return;const a=(0,o.a)(t,"mediaTypes.video");if(!(0,n.Y)(a)){const t=Object.fromEntries(Object.entries(a).filter((([e])=>Se.b.has(e))));if(a.playerSize){const e=(0,n.Bb)(a.playerSize).map(n.Ab);e.length>1&&(0,n.jb)("video request specifies more than one playerSize; all but the first will be ignored"),Object.assign(t,e[0])}e.video=(0,n.lb)(t,e.video)}}},tm[Li.a].video={fn:function(e,t,i){e.mediaType===D.d&&((0,o.a)(i.imp,"video.w")&&(0,o.a)(i.imp,"video.h")&&([e.playerWidth,e.playerHeight]=[i.imp.video.w,i.imp.video.h]),t.adm&&(e.vastXml=t.adm),t.nurl&&(e.vastUrl=t.nurl))}};const nm=(0,n.kb)((()=>im(tm,(0,Li.h)(Li.b)))),rm=Object.freeze([...["device.sua","source.schain","regs.gdpr","regs.us_privacy","regs.gpp","regs.gpp_sid","user.consent","user.eids"].map((e=>function(e,t=((e,t)=>`${e}.ext.${t}`)){const[i,a]=function(e){const t=e.split(".");return[t.slice(0,t.length-1).join("."),t[t.length-1]]}(e);return t=t(i,a),e=>{const n=(0,o.a)(e,i);if(null!=n?.[a])return(0,r.a)(e,t,n[a]),()=>delete n[a]}}(e))),...["app","content","site","user"].map((function(e){return t=>{const i=t[e]?.kwarray;if(null!=i){let a=(t[e].keywords||"").split(",");return Array.isArray(i)&&a.push(...i),t[e].keywords=a.join(","),()=>delete t[e].kwarray}}}))]);function om(e=!0,t=rm){return function(i){return t.forEach((t=>{try{const a=t(i);"function"==typeof a&&e&&a()}catch(e){(0,n.gb)("Error translating request to ORTB 2.5",e)}})),i}}om();const sm="criteo",dm=(0,te.d)({bidderCode:sm}),lm="Criteo: ",pm=om(),cm="cto_optout",mm="cto_bundle",um=am({context:{netRevenue:!0,ttl:60},imp:function(e,t,i){let a=e(t,i);const n=t.params;if(a.tagid=t.adUnitCode,(0,r.a)(a,"ext",{...t.params.ext,...a.ext,rwdd:a.rwdd,floors:Im(t),bidder:{publishersubid:n?.publisherSubId,zoneid:n?.zoneId,uid:n?.uid}}),delete a.rwdd,!i.fledgeEnabled&&a.ext.igs?.ae&&delete a.ext.igs.ae,_m(t)){const e=t.params.video;void 0!==e&&(0,r.a)(a,"video",{...a.video,skip:a.video.skip||e.skip||0,placement:a.video.placement||e.placement,minduration:a.video.minduration||e.minduration,playbackmethod:a.video.playbackmethod||e.playbackmethod,startdelay:a.video.startdelay||e.startdelay||0}),(0,r.a)(a,"video.ext",{context:t.mediaTypes.video.context,playersizes:hm((0,o.a)(t,"mediaTypes.video.playerSize"),vm),plcmt:t.mediaTypes.video.plcmt,poddur:t.mediaTypes.video.adPodDurationSec,rqddurs:t.mediaTypes.video.durationRangeSec})}if(a.native&&void 0!==a.native.request){let e=JSON.parse(a.native.request);e.assets&&(1!==e.assets.length||Object.keys(e.assets[0]).length)||delete e.assets,(0,r.a)(a,"native.request_native",e),delete a.native.request}return a},request:function(e,t,i,a){let n=e(t,i,a);return void 0!==a.publisherId&&(void 0!==n.app?(0,r.a)(n,"app.publisher.id",a.publisherId):(0,r.a)(n,"site.publisher.id",a.publisherId)),i&&i.gdprConsent&&(0,r.a)(n,"regs.ext.gdprversion",i.gdprConsent.apiVersion),n=pm(n),n},bidResponse:function(e,t,i){i.mediaType=(0,o.a)(t,"ext.mediatype"),i.mediaType===D.c&&void 0!==t.adm_native&&(t.adm=t.adm_native,delete t.adm_native);let a=e(t,i);const{bidRequest:n}=i;return a.currency=(0,o.a)(t,"ext.cur"),void 0!==(0,o.a)(t,"ext.meta")&&(0,r.a)(a,"meta",{...a.meta,...t.ext.meta}),void 0!==(0,o.a)(t,"ext.paf.content_id")&&(0,r.a)(a,"meta.paf.content_id",t.ext.paf.content_id),a.mediaType===D.d&&(a.vastUrl=t.ext?.displayurl,(0,o.a)(n,"mediaTypes.video.context")===Se.c&&(a.renderer=function(e){if(void 0===e.ext?.videoPlayerConfig||void 0===e.ext?.videoPlayerType)return;const t=zl.a.install({url:"https://static.criteo.net/js/ld/publishertag.renderer.js",config:{documentResolver:(e,t,i)=>i??t}});return t.setRender(((t,i)=>{let a={slotid:e.id,vastUrl:e.ext?.displayurl,vastXml:e.adm,documentContext:i},n=e.ext.videoPlayerConfig;window.CriteoOutStream[e.ext.videoPlayerType].play(a,n)})),t}(t))),a},response:function(e,t,i,a){let n=e(t,i,a);const s=(0,o.a)(i,"ext.paf.transmission");return n.bids.forEach((e=>{void 0!==s&&void 0!==(0,o.a)(e,"meta.paf.content_id")?(0,r.a)(e,"meta.paf.transmission",s):delete e.meta.paf})),n}}),bm={code:sm,gvlid:91,supportedMediaTypes:[D.b,D.d,D.c],getUserSyncs:function(e,t,i,a,r={}){let{gppString:o="",applicableSections:s=[]}=r;const d=(0,ne.a)(),l="criteoPrebidAdapter";if(e.iframeEnabled&&fc(i)){const e=[];if(e.push(`origin=${l}`),e.push(`topUrl=${d.domain}`),i&&(i.gdprApplies&&e.push("gdpr="+(1==i.gdprApplies?1:0)),i.consentString&&e.push(`gdpr_consent=${i.consentString}`)),a&&e.push(`us_privacy=${a}`),e.push(`gpp=${o}`),Array.isArray(s))for(const t of s)e.push(`gpp_sid=${t}`);const t=Math.random().toString(),r={bundle:fm(mm),cw:dm.cookiesAreEnabled(),lsw:dm.localStorageIsEnabled(),optoutCookie:fm(cm),origin:l,requestId:t,tld:d.domain,topUrl:d.domain,version:"9.16.0".replace(/\./g,"_")};window.addEventListener("message",(function e(i){if(!i.data||"https://gum.criteo.com"!=i.origin)return;if(i.data.requestId!==t)return;this.removeEventListener("message",e),i.stopImmediatePropagation();const a=i.data;a.optout?(ym(mm),gm(cm,!0,43200)):(a.bundle&&gm(mm,a.bundle,9360),a.callbacks&&a.callbacks.forEach(n.Fb))}),!0);const p=JSON.stringify(r).replace(/"/g,"%22");return[{type:"iframe",url:`https://gum.criteo.com/syncframe?${e.join("&")}#${p}`}]}if(e.pixelEnabled&&fc(i)){const e=[];if(e.push("profile=207"),i&&(!0===i.gdprApplies&&e.push("gdprapplies=true"),i.consentString&&e.push(`gdpr=${i.consentString}`)),a&&e.push(`ccpa=${a}`),e.push(`gpp=${o}`),Array.isArray(s))for(const t of s)e.push(`gpp_sid=${t}`);return[{type:"image",url:`https://ssp-sync.criteo.com/user-sync/redirect?${e.join("&")}`}]}return[]},isBidRequestValid:e=>!(!e||!e.params||!e.params.zoneId&&!e.params.networkId||_m(e)&&!function(e){let t=!0;return["mimes","playerSize","maxduration","protocols","api","skip","placement","playbackmethod"].forEach((function(i){"placement"===i?void 0===(0,o.a)(e,"mediaTypes.video."+i)&&void 0===(0,o.a)(e,"params.video."+i)&&void 0===(0,o.a)(e,"mediaTypes.video.plcmt")&&void 0===(0,o.a)(e,"params.video.plcmt")&&(t=!1,(0,n.gb)("Criteo Bid Adapter: mediaTypes.video."+i+" or mediaTypes.video.plcmt is required")):void 0===(0,o.a)(e,"mediaTypes.video."+i)&&void 0===(0,o.a)(e,"params.video."+i)&&(t=!1,(0,n.gb)("Criteo Bid Adapter: mediaTypes.video."+i+" is required"))})),t}(e)),buildRequests:(e,t)=>{e.forEach((e=>{(function(e){return void 0!==(0,o.a)(e,"mediaTypes.native")})(e)&&(function(e){return!(e.nativeParams&&(e.nativeParams.image&&(!0!==e.nativeParams.image.sendId||!0===e.nativeParams.image.sendTargetingKeys)||e.nativeParams.icon&&(!0!==e.nativeParams.icon.sendId||!0===e.nativeParams.icon.sendTargetingKeys)||e.nativeParams.clickUrl&&(!0!==e.nativeParams.clickUrl.sendId||!0===e.nativeParams.clickUrl.sendTargetingKeys)||e.nativeParams.displayUrl&&(!0!==e.nativeParams.displayUrl.sendId||!0===e.nativeParams.displayUrl.sendTargetingKeys)||e.nativeParams.privacyLink&&(!0!==e.nativeParams.privacyLink.sendId||!0===e.nativeParams.privacyLink.sendTargetingKeys)||e.nativeParams.privacyIcon&&(!0!==e.nativeParams.privacyIcon.sendId||!0===e.nativeParams.privacyIcon.sendTargetingKeys)))}(e)||(0,n.jb)(lm+"all native assets containing URL should be sent as placeholders with sendId(icon, image, clickUrl, displayUrl, privacyLink, privacyIcon)"),null==(0,o.a)(e,"nativeOrtbRequest.assets")&&((0,n.jb)(lm+"native asset requirements are missing"),(0,r.a)(e,"nativeOrtbRequest.assets",[{}])))}));const i=function(e,t){const i=(0,n.qb)(t?.refererInfo?.topmostLocation).search;return{url:t?.refererInfo?.page||"",debug:"1"===i.pbt_debug,noLog:"1"===i.pbt_nolog,fledgeEnabled:t.paapi?.enabled,amp:e.some((e=>"amp"===e.params.integrationMode)),networkId:e.find((e=>e.params?.networkId))?.params.networkId,publisherId:e.find((e=>e.params?.pubid))?.params.pubid}}(e,t),a=function(e){let t="https://grid-bidder.criteo.com/openrtb_2_5/pbjs/auction/request";t+="?profileId=207",t+="&av="+String(37),t+="&wv="+encodeURIComponent("9.16.0"),t+="&cb="+String(Math.floor(99999999999*Math.random())),dm.localStorageIsEnabled()?t+="&lsavail=1":t+="&lsavail=0",e.amp&&(t+="&im=1"),e.debug&&(t+="&debug=1"),e.noLog&&(t+="&nolog=1");const i=fm(mm);return i&&(t+=`&bundle=${i}`),fm(cm)&&(t+="&optout=1"),e.networkId&&(t+="&networkId="+e.networkId),t}(i),s=um.toORTB({bidderRequest:t,bidRequests:e,context:i});if(s)return{method:"POST",url:a,data:s,bidRequests:e}},interpretResponse:(e,t)=>{if(void 0===e?.body)return[];const i=um.fromORTB({response:e.body,request:t.data}).bids||[],a=(0,o.a)(e.body,"ext.igi")?.filter((e=>(0,n.V)(e?.igs))).flatMap((e=>e.igs));return a?.length?{bids:i,paapi:a}:i},onDataDeletionRequest:()=>{const e=fm(mm);e&&(ym(mm),(0,Vi.b)("https://privacy.criteo.com/api/privacy/datadeletionrequest",null,JSON.stringify({publisherUserId:e}),{contentType:"application/json",method:"POST"}))}};function fm(e){const t=dm.getCookie(e),i=dm.getDataFromLocalStorage(e);return t||i||void 0}function gm(e,t,i){const a=new Date;a.setTime(a.getTime()+60*i*60*1e3);const n=`expires=${a.toUTCString()}`;dm.setCookie(e,t,n),dm.setDataInLocalStorage(e,t)}function ym(e){dm.setCookie(e,"",0),dm.removeDataFromLocalStorage(e)}function hm(e,t=(e=>e)){return null==e?[]:Array.isArray(e[0])?e.map((e=>t(e))):[t(e)]}function vm(e){return e[0]+"x"+e[1]}function _m(e){return void 0!==(0,o.a)(e,"mediaTypes.video")}function Im(e){try{const t={},i=function(e){if(e.getFloor)return e.getFloor;if(e.params.bidFloor&&e.params.bidFloorCur)try{const t=parseFloat(e.params.bidFloor);return()=>({currency:e.params.bidFloorCur,floor:t})}catch{}}(e);if(i)return e.mediaTypes?.banner&&(t.banner={},hm((0,o.a)(e,"mediaTypes.banner.sizes")).forEach((a=>t.banner[vm(a).toString()]=i.call(e,{size:a,mediaType:D.b})))),e.mediaTypes?.video&&(t.video={},hm((0,o.a)(e,"mediaTypes.video.playerSize")).forEach((a=>t.video[vm(a).toString()]=i.call(e,{size:a,mediaType:D.d})))),e.mediaTypes?.native&&(t.native={},t.native["*"]=i.call(e,{size:"*",mediaType:D.c})),t}catch(e){(0,n.gb)("Could not parse floors from Prebid: "+e)}}(0,Ye.b)(bm);const wm="criteo",xm=(0,te.d)({moduleType:Y.e,moduleName:wm}),Tm="cto_bidid",Dm="cto_bundle",Am="html5",Sm="cookie",Cm=new Date(0).toString(),Rm=new Date((0,n.Db)()+33696e6).toString();function km(e,t=!1){const i=(0,n.qb)(e,{noDecodeWholeURL:!0});return t?`${i.hostname}`:`${i.protocol}://${i.hostname}${i.port?":"+i.port:""}/`}function Em(e,t){return e?.storage?.type===Am?xm.getDataFromLocalStorage(t):e?.storage?.type===Sm?xm.getCookie(t):xm.getCookie(t)||xm.getDataFromLocalStorage(t)}function Mm(e,t,i,a){t&&i&&(e?.storage?.type===Am?xm.setDataInLocalStorage(t,i):(e?.storage?.type===Sm||xm.setDataInLocalStorage(t,i),Om(t,i,Rm,a,!0)))}function Om(e,t,i,a,n){const r=a.split(".");for(let a=0;a<r.length;++a){const o=r.slice(r.length-a-1,r.length).join(".");try{if(xm.setCookie(e,t,i,null,"."+o),n){const i=xm.getCookie(e);if(i&&i===t)break}}catch(e){}}}const Um={name:wm,gvlid:91,decode:e=>e,getId(e){let t=function(e){return{bundle:Em(e,Dm),dnaBundle:Em(e,"cto_dna_bundle"),bidId:Em(e,Tm)}}(e);return{id:t.bidId?{criteoId:t.bidId}:void 0,callback:i=>function(e,t,i){const a=(void 0===e?.storage?.type||e?.storage?.type===Sm)&&xm.cookiesAreEnabled(),r=(void 0===e?.storage?.type||e?.storage?.type===Am)&&xm.localStorageIsEnabled(),o=km((0,ne.a)().page),s=km(document.location.href,!0),d="undefined"!=typeof criteo_pubtag,l=function(e,t,i,a,n,r,o){let s="https://gum.criteo.com/sid/json?origin=prebid"+(e?"&topUrl="+encodeURIComponent(e):"")+(t?"&domain="+encodeURIComponent(t):"")+(i?"&bundle="+encodeURIComponent(i):"")+(a?"&info="+encodeURIComponent(a):"")+(n?"&cw=1":"")+(o?"&pbt=1":"")+(r?"&lsw=1":"");const d=Ae.f.getConsentData();d&&(s+=`&us_privacy=${encodeURIComponent(d)}`);const l=Ae.d.getConsentData();l&&(s=s+""+(l.consentString?"&gdprString="+encodeURIComponent(l.consentString):""),s=s+"&gdpr="+(!0===l.gdprApplies?1:0));const p=Ae.e.getConsentData();return p&&(s=s+""+(p.gppString?"&gpp="+encodeURIComponent(p.gppString):""),s=s+""+(p.applicableSections?"&gpp_sid="+encodeURIComponent(p.applicableSections):"")),s}(o,s,t.bundle,t.dnaBundle,a,r,d),p={success:t=>{const a=JSON.parse(t);if(a.pixels&&a.pixels.forEach((t=>function(e,t,i){i.writeBundleInStorage&&i.bundlePropertyName&&i.storageKeyName?(0,Vi.b)(i.pixelUrl,{success:a=>{if(a){const n=JSON.parse(a);n&&n[i.bundlePropertyName]&&Mm(e,i.storageKeyName,n[i.bundlePropertyName],t)}},error:e=>{(0,n.gb)("criteoIdSystem: unable to sync user id",e)}},void 0,{method:"GET",withCredentials:!0}):(0,n.Fb)(i.pixelUrl)}(e,s,t))),a.acwsUrl?("string"==typeof a.acwsUrl?[a.acwsUrl]:a.acwsUrl).forEach((e=>(0,n.Fb)(e))):a.bundle&&Mm(e,Dm,a.bundle,s),a.bidId){Mm(e,Tm,a.bidId,s);const t={criteoId:a.bidId};i(t)}else Om(r=Tm,"",Cm,s,!0),xm.removeDataFromLocalStorage(r),i();var r},error:e=>{(0,n.gb)("criteoIdSystem: unable to sync user id",e),i()}};(0,Vi.b)(l,p,void 0,{method:"GET",contentType:"application/json",withCredentials:!0})}(e,t,i)}},eids:{criteoId:{source:"criteo.com",atype:1}}};(0,T.e)("userId",Um);const{warn:Bm}=et.a.tag("criteo-formatter");gt.a.add(ft.a.Criteo,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(i.params.nativeCallback&&(Bm("Please remove all nativeCallback params from configuration"),delete i.params.nativeCallback),a.banner||a.skin||a.outstream||a.native){const n={},r={};let o,s;if(a.outstream){n.displayFormat=wa.a.outstream,n.mediaType=fa,n.requestSizes=[a.outstream.playerSize];const e={...Sl,playbackmethod:[2],placement:2,skip:1,...a.outstream.openRtbParams};r.video={...e,context:"outstream",playerSize:[a.outstream.playerSize]},o=wl()}if(a.native&&(n.displayFormat=wa.a.native,n.mediaType=ba,delete n.requestSizes,r.native={type:"image"}),a.banner||a.skin){const e=Nl(a);r.banner||(r.banner={sizes:[]}),r.banner.sizes.push(...e),n.displayFormat=Bl(e)?wa.a.skin:wa.a.banner,n.mediaType=ua,n.requestSizes=r.banner.sizes}e.push({adUnitCode:t.placementId,mediaTypes:r,renderer:o,bids:[{bidder:i.bidder,params:{...i.params,nativeCallback:s},hbvMetadata:n}]})}if(a.instream){const n={...a.instream,openRtbParams:{playbackmethod:[2],placement:1,skip:1,...a.instream.openRtbParams}};Ol(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}})),gt.b.add(ft.a.Criteo,bm.gvlid);const Pm={code:"dailymotion",gvlid:573,supportedMediaTypes:[D.d],isBidRequestValid:function(){const e=v.config.getConfig("dailymotion");return!!e?.api_key&&!!e?.position},buildRequests:function(e,t){return e.map((function(e){const i=v.config.getConfig("dailymotion");return{method:"POST",url:"https://pb.dmxleo.com",data:{bidder_request:t,config:i,coppa:v.config.getConfig("coppa"),request:e},options:{withCredentials:!0,crossOrigin:!0}}}))},interpretResponse:function(e){return e&&e.body?[e.body]:[]}};(0,Ye.b)(Pm),gt.a.add(ft.a.dailymotion,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{a.instream&&Ol(e,t.placementId,a.instream,[{bidder:i.bidder,params:i.params}])})),gt.b.add(ft.a.dailymotion,Pm.gvlid);const Nm=["mimes","minduration","maxduration","plcmt","protocols","startdelay","skip","skipafter","minbitrate","maxbitrate","delivery","playbackmethod","api","linearity","battr"],jm=["battr"],zm={EU:"",US:"-us-e",APAC:"-asia"},qm={code:"eskimi",gvlid:814,supportedMediaTypes:[D.b,D.d],isBidRequestValid:function(e){return function(e){return!!parseInt(e.params.placementId)}(e)&&(function(e){const t=o.a(e,`mediaTypes.${D.b}.sizes`);return n.V(t)&&t.length>0&&t.every((e=>n.ab(e[0])&&n.ab(e[1])))}(e)||function(e){const t=o.a(e,`mediaTypes.${D.d}.playerSize`);return n.V(t)&&t.length>0&&t.every((e=>n.ab(e[0])&&n.ab(e[1])))}(e))},buildRequests:function(e,t){let i=e.filter((e=>Vm(e))),a=e.filter((e=>function(e){return o.a(e,"mediaTypes.banner")||!Vm(e)}(e))),n=[];return a.forEach((e=>{n.push(Fm([e],t,D.b))})),i.forEach((e=>{n.push(Fm([e],t,D.d))})),n},interpretResponse:function(e,t){return $m.fromORTB({request:t.data,response:e.body}).bids},getUserSyncs:function(e,t,i,a,n){if(e.iframeEnabled||e.pixelEnabled){let t=e.iframeEnabled?"iframe":"image",r=[],o=`https://ittpx${Lm()}.eskimi.com/sync?sp_id=137`;return i&&(r.push("gdpr="+(1&i.gdprApplies)),r.push("gdpr_consent="+encodeURIComponent(i.consentString||""))),a&&r.push("us_privacy="+encodeURIComponent(a)),n?.gppString&&n?.applicableSections?.length&&(r.push("gpp="+encodeURIComponent(n.gppString)),r.push("gpp_sid="+encodeURIComponent(n.applicableSections.join(",")))),[{type:t,url:`${o}${r.length>0?"&"+r.join("&"):""}`}]}},onBidWon:function(e){(0,n.hb)("Bid won: ",e),e.burl&&n.Fb(e.burl)},onTimeout:function(e){(0,n.hb)("Timeout: ",e)},onBidderError:function({error:e,bidderRequest:t}){(0,n.hb)("Error: ",e,t)}};(0,Ye.b)(qm);const $m=am({context:{netRevenue:!0,ttl:30,currency:"USD"},imp(e,t,i){let a=e(t,i);return a.secure=Number("https:"===window.location.protocol),!a.bidfloor&&t.params.bidFloor&&(a.bidfloor=t.params.bidFloor,a.bidfloorcur=(0,n.x)("bidFloorCur",t.params).toUpperCase()||"USD"),t.mediaTypes[D.d]?a=function(e,t){const i=o.a(e,`mediaTypes.${D.d}`,{}),a=o.a(e,`params.${D.d}`,{}),n={...i,...a},s=i&&i.playerSize||[];return s&&s.length>0&&(r.a(t,"video.w",s[0][0]),r.a(t,"video.h",s[0][1])),Nm.forEach((e=>{n.hasOwnProperty(e)&&r.a(t,`video.${e}`,n[e])})),t.video&&"outstream"===n?.context&&(t.video.plcmt=t.video.plcmt||4),{...t}}(t,a):t.mediaTypes[D.b]&&(a=function(e,t){const i={...o.a(e,`mediaTypes.${D.b}`,{}),...o.a(e,`params.${D.b}`,{})};let a=e.mediaTypes.banner.sizes;return a&&(r.a(t,"banner.w",a[0][0]),r.a(t,"banner.h",a[0][1])),jm.forEach((e=>{i.hasOwnProperty(e)&&r.a(t,`banner.${e}`,i[e])})),{...t}}(t,a)),a},request(e,t,i,a){const o=e(t,i,a);(0,n.lb)(o,{at:1,ext:{pv:"9.16.0"}});const s=a.bidRequests[0];return s.params.coppa&&r.a(o,"regs.coppa",1),s.params.test&&(o.test=1),o}});function Fm(e,t,i){const a=$m.toORTB({bidRequests:e,bidderRequest:t,context:{mediaType:i}}),n=e.find((e=>e.params.placementId));return a.site||(a.site={}),a.site.ext={placementId:parseInt(n.params.placementId)},t.gdprConsent&&(a.user||(a.user={}),a.user.ext||(a.user.ext={}),a.regs||(a.regs={}),a.regs.ext||(a.regs.ext={}),a.user.ext.consent=t.gdprConsent.consentString,a.regs.ext.gdpr=t.gdprConsent.gdprApplies?1:0),n.params.bcat&&(a.bcat=n.params.bcat),n.params.badv&&(a.badv=n.params.badv),n.params.bapp&&(a.bapp=n.params.bapp),{method:"POST",url:`https://ittr${Lm()}.eskimi.com/prebidjs`,data:a,options:{contentType:"application/json;charset=UTF-8",withCredentials:!1}}}function Vm(e){return o.a(e,"mediaTypes.video")}function Lm(){try{switch(Intl.DateTimeFormat().resolvedOptions().timeZone.split("/")[0]){case"Europe":case"Africa":case"Atlantic":case"Arctic":default:return zm.EU;case"Asia":case"Australia":case"Antarctica":case"Pacific":case"Indian":return zm.APAC;case"America":return zm.US}}catch(e){return zm.EU}}gt.a.add(ft.a.eskimi,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=Nl(a),r={...i.params,video:void 0};Pl(e,t.placementId,n,[{bidder:i.bidder,params:r}])}a.native&&Ul(e,t.placementId,[{bidder:i.bidder,params:{...i.params,video:void 0}}],a.native),a.outstream&&El(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}])})),gt.b.add(ft.a.eskimi,qm.gvlid);const Gm="freewheel-ssp",Wm="https",Hm=Wm+"://ads.stickyadstv.com/www/delivery/swfIndex.php",Xm=Wm+"://cdn.stickyadstv.com/mustang/mustang.min.js",Ym=Wm+"://cdn.stickyadstv.com/prime-time/",Jm=Wm+"://ads.stickyadstv.com/auto-user-sync";function Km(e){for(var t=[0,0],i=0;i<e.length;i++)e[i][0]*e[i][1]>t[0]*t[1]&&(t=e[i]);return t}function Zm(e,t,i){for(var a=t||[0,0],n=i||[Number.MAX_VALUE,Number.MAX_VALUE],r=[],o=0;o<e.length;o++)e[o][0]*e[o][1]>=a[0]*a[1]&&e[o][0]*e[o][1]<=n[0]*n[1]&&r.push(e[o]);return Km(r)}function Qm(e,t){var i="",a=e.querySelectorAll("Impression"),n=!1,r=!1;return Array.prototype.forEach.call(a,(function(e){if(n&&r)return i;n=!1,r=!1;var a=e.textContent.substring(e.textContent.indexOf("?")+1).split("&"),o="";Array.prototype.forEach.call(a,(function(e){var i=e.split("=");i[0]==t&&(o=i[1]),"reqType"==i[0]&&"AdsDisplayStarted"==i[1]&&(r=!0),"rootViewKey"==i[0]&&(n=!0)})),r&&(i=o)})),i}function eu(e){var t="mustang";return e&&"inbanner"!==e&&(t=e),t}function tu(e){return null!=e.getConfig("floors.data.currency")?e.getConfig("floors.data.currency"):"USD"}const iu={code:Gm,gvlid:285,supportedMediaTypes:[D.b,D.d],aliases:["stickyadstv","freewheelssp"],isBidRequestValid:function(e){return!!e.params.zoneId},buildRequests:function(e,t){return e.map((function(e){return((e,t)=>{var i=e.params.zoneId,a=(new Date).getTime(),r=function(e){var t=0;if(0==e.length)return t;for(var i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t&=t;return t}(i+""+a),s=function(e,t){if(!(0,n.Z)(e.getFloor))return(0,o.a)(e,"params.bidfloor",0);try{return e.getFloor({currency:tu(t),mediaType:"object"==typeof e.mediaTypes.banner?"banner":"video",size:"*"}).floor}catch(e){return-1}}(e,v.config),d=e.params.format,l={reqType:"AdsSetup",protocolVersion:"4.2",zoneId:i,componentId:"prebid",componentSubId:eu(e.params.format),timestamp:a,_fw_bidfloor:s>0?s:0,_fw_bidfloorcur:s>0?tu(v.config):"",pbjs_version:"9.16.0",pKey:r};if(t&&t.gdprConsent&&(l._fw_gdpr_consent=t.gdprConsent.consentString,"boolean"==typeof t.gdprConsent.gdprApplies&&(l._fw_gdpr=t.gdprConsent.gdprApplies)),e.params.gdpr_consented_providers&&(l._fw_gdpr_consented_providers=e.params.gdpr_consented_providers),t&&t.uspConsent&&(l._fw_us_privacy=t.uspConsent),t&&t.gppConsent?(l.gpp=t.gppConsent.gppString,l.gpp_sid=t.gppConsent.applicableSections):t&&t.ortb2&&t.ortb2.regs&&t.ortb2.regs.gpp&&(l.gpp=t.ortb2.regs.gpp,l.gpp_sid=t.ortb2.regs.gpp_sid),t&&t.ortb2&&t.ortb2.site&&t.ortb2.site.content&&"object"==typeof t.ortb2.site.content)try{l._fw_prebid_content=JSON.stringify(t.ortb2.site.content)}catch(e){(0,n.jb)("PREBID - "+Gm+": Unable to stringify the content object: "+e)}var p=e.schain;if(p)try{l.schain=JSON.stringify(p)}catch(e){(0,n.jb)("PREBID - "+Gm+": Unable to stringify the schain: "+e)}if(e.userIdAsEids&&e.userIdAsEids.length>0)try{l._fw_prebid_3p_UID=JSON.stringify(e.userIdAsEids)}catch(e){(0,n.jb)("PREBID - "+Gm+": Unable to stringify the userIdAsEids: "+e)}var c=e.params.vastUrlParams;if("object"==typeof c)for(var m in c)c.hasOwnProperty(m)&&(l[m]=c[m]);var u,b,f=t?.refererInfo?.page;if((u=f)&&/^(https?|ftp|file):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/.test(u)&&(l.loc=f),((b=e.mediaTypes.video&&e.mediaTypes.video.playerSize?(0,n.V)(e.mediaTypes.video.playerSize[0])?e.mediaTypes.video.playerSize[0]:e.mediaTypes.video.playerSize:e.mediaTypes.banner.sizes?Zm(e.mediaTypes.banner.sizes,e.mediaTypes.banner.minSizeLimit,e.mediaTypes.banner.maxSizeLimit):Km(e.sizes))[0]>0||b[1]>0)&&(l.playerSize=b[0]+"x"+b[1]),e.mediaTypes.video){var g=e.mediaTypes.video.context?e.mediaTypes.video.context:"",y=e.mediaTypes.video.placement?e.mediaTypes.video.placement:null,h=e.mediaTypes.video.plcmt?e.mediaTypes.video.plcmt:null;"inbanner"==d&&(y=2,g="In-Banner"),l.video_context=g,l.video_placement=y,l.video_plcmt=h}return{method:"GET",url:Hm,data:l,bidRequest:e}})(e,t)}))},interpretResponse:function(e,t){var i,a,r=t.bidRequest;a=r.mediaTypes.video&&r.mediaTypes.video.playerSize?(0,n.V)(r.mediaTypes.video.playerSize[0])?r.mediaTypes.video.playerSize[0]:r.mediaTypes.video.playerSize:r.mediaTypes.banner.sizes?Zm(r.mediaTypes.banner.sizes,r.mediaTypes.banner.minSizeLimit,r.mediaTypes.banner.maxSizeLimit):Km(r.sizes),"object"==typeof e&&"string"==typeof e.body&&(e=e.body);try{i=(new DOMParser).parseFromString(e,"application/xml")}catch(e){return void(0,n.jb)("Prebid.js - "+Gm+" : "+e)}const o=function(e){var t,i={},a=e.querySelectorAll("Extension");if(Array.prototype.forEach.call(a,(function(e){"StickyPricing"===e.getAttribute("type")&&(t=e)})),t){var r=t.querySelector("Price");i={currency:r.getAttribute("currency"),price:r.textContent}}else(0,n.jb)("PREBID - "+Gm+": No bid received or missing pricing extension.");return i}(i),s=(d="",l=i.querySelectorAll("Ad"),Array.prototype.forEach.call(l,(function(e){d+="["+e.getAttribute("id")+"]"})),d);var d,l;const p=Qm(i,"dealId"),c=Qm(i,"campaignId"),m=Qm(i,"adId"),u=function(){var e=window;try{for(;top!==e;)e.parent.location.href.length&&(e=e.parent)}catch(e){}return e}(),b=function(e){var t,i=[],a=e.querySelectorAll("Extension");if(Array.prototype.forEach.call(a,(function(e){"StickyBrand"===e.getAttribute("type")&&(t=e)})),t){var r=t.querySelector("Domain");i.push(r.textContent)}else(0,n.jb)("PREBID - "+Gm+": No bid received or missing StickyBrand extension.");return i}(i);u.freewheelssp_cache||(u.freewheelssp_cache={}),u.freewheelssp_cache[r.adUnitCode]=e;const f=[];if(o.price){const t={requestId:r.bidId,cpm:o.price,width:a[0],height:a[1],creativeId:s,currency:o.currency,netRevenue:!0,ttl:360,meta:{advertiserDomains:b},dealId:p,campaignId:c,bannerId:m};r.mediaTypes.video&&(t.mediaType="video"),t.vastXml=e,t.ad=(y=a,h=(g=r).params.format,v='<div id="freewheelssp_prebid_target" style="width:'+y[0]+"px;height:"+y[1]+'px;"></div>',_="",I="",h&&"inbanner"!==h?(I=Ym+eu(g.params.format)+".min.js",_=function(e){var t=e.params;t.hasOwnProperty("domId")||t.hasOwnProperty("auto")||t.hasOwnProperty("p")||t.hasOwnProperty("article")||("intext-roll"===t.format?t.iframeMode="dfp":t.domId="freewheelssp_prebid_target");var i="var config = {  preloadedVast:vast,  ASLoader:new window.com.stickyadstv.tools.ASLoader("+e.params.zoneId+", '"+eu(e.params.format)+"')";for(var a in t)t.hasOwnProperty(a)&&"format"!==a&&"zone"!==a&&"zoneId"!==a&&"vastUrlParams"!==a&&(i+=","+a+':"'+t[a]+'"');return i+"};window.com.stickyadstv."+(e.params.format||"").replace("-","")+".start(config);"}(g)):(I=Xm,_=function(e,t){return'var config = {      preloadedVast:vast,      autoPlay:true    };    var ad = new window.com.stickyadstv.vpaid.Ad(document.getElementById("freewheelssp_prebid_target"),config);    (new window.com.stickyadstv.tools.ASLoader('+e.params.zoneId+", '"+eu(e.params.format)+"')).registerEvents(ad);    ad.initAd("+t[0]+","+t[1]+',"",0,"","");'}(g,y)),v+"<script type='text/javascript'>(function() {  var st = document.createElement('script'); st.type = 'text/javascript'; st.async = true;  st.src = '"+I+"';  st.onload = function(){    var vastLoader = new window.com.stickyadstv.vast.VastLoader();    var vast = vastLoader.getVast();    var topWindow = (function(){var res=window; try{while(top != res){if(res.parent.location.href.length)res=res.parent;}}catch(e){}return res;})();    vast.setXmlString(topWindow.freewheelssp_cache[\""+g.adUnitCode+'"]);    vastLoader.parseAds(vast, {      onSuccess: function() {'+_+" }    });  };  document.head.appendChild(st);})();<\/script>"),f.push(t)}var g,y,h,v,_,I;return f},getUserSyncs:function(e,t,i,a,r){const o={};i&&("boolean"==typeof i.gdprApplies?(o.gdpr=Number(i.gdprApplies),o.gdpr_consent=i.consentString):o.gdpr_consent=i.consentString),r&&("string"==typeof r.gppString&&(o.gpp=r.gppString),r.applicableSections&&(o.gpp_sid=r.applicableSections));var s="";o&&(s=`?${(0,n.v)(o)}`);const d=[];return e&&e.pixelEnabled?d.push({type:"image",url:Jm+s}):e.iframeEnabled&&d.push({type:"iframe",url:Jm+s}),d}};(0,Ye.b)(iu),gt.a.add(ft.a.Freewheel,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{a.outstream&&Ml(e,t.placementId,a.outstream,[{bidder:i.bidder,params:{video:{},...i.params}}],t.rendering?.outstream),a.banner&&Pl(e,t.placementId,a.banner.sizes,[{bidder:i.bidder,params:i.params}]),a.instream&&Ol(e,t.placementId,a.instream,[{bidder:i.bidder,params:i.params}])})),gt.b.add(ft.a.Freewheel,iu.gvlid);const au="gumgum",nu=(0,te.d)({bidderCode:au}),ru={t:0,rq:8,pbv:"9.16.0"},ou=[D.b,D.d],su=["dac.co.jp","audigent.com","id5-sync.com","liveramp.com","intentiq.com","liveintent.com","crwdcntrl.net","quantcast.com","adserver.org","yahoo.com"];let du={},lu=null;function pu(e,t){return e.replace("AD_JSON",window.btoa(JSON.stringify(t)))}function cu(e){let t=0,i=0,a=0;return e.forEach((e=>{let[n,r]=e,o=n>r?n:r;(o>a||o===a&&n>=t&&r>=i)&&(a=o,t=n,i=r)})),[t,i]}function mu(e,t){const i={};if(e.inScreenPubID&&(i.pubId=e.inScreenPubID,i.pi=2),e.inScreen&&(i.t=e.inScreen,i.pi=2),e.inSlot){const[a,n]=cu(t);i.maxw=a,i.maxh=n,i.si=e.inSlot,i.pi=3,i.bf=t.reduce(((e,t)=>`${e}${e&&","}${t[0]}x${t[1]}`),"")}return e.ICV&&(i.ni=e.ICV,i.pi=5),e.videoPubID&&(i.pubId=e.videoPubID,i.pi=7),e.video&&(i.t=e.video,i.pi=7),e.inVideo&&(i.t=e.inVideo,i.pi=6),i}const uu={code:au,gvlid:61,aliases:["gg"],isBidRequestValid:function(e){const{params:t,adUnitCode:i}=e,a=t.inScreen||t.inScreenPubID||t.inSlot||t.ICV||t.video||t.inVideo||t.slot||t.native||t.zone||t.pubID;if(du[a])return(0,n.jb)(`[GumGum] Please check the implementation for ${a} for the placement ${i}`),!1;switch(!0){case!!t.zone:case!!t.pubId:case!!t.inScreen:case!!t.inScreenPubID:case!!t.inSlot:case!!t.ICV:case!!t.video:case!!t.inVideo:case!!t.videoPubID:break;default:return(0,n.jb)(`[GumGum] No product selected for the placement ${i}, please check your implementation.`),!1}return!(t.bidfloor&&("number"!=typeof t.bidfloor||!isFinite(t.bidfloor))&&((0,n.jb)("[GumGum] bidfloor must be a Number"),1))},buildRequests:function(e,t){const a=[],r=t&&t.gdprConsent,s=t&&t.uspConsent,d=t&&t.gppConsent,l=t&&t.timeout,p=!0===v.config.getConfig("coppa")?1:0,c=t&&t.refererInfo&&t.refererInfo.page,m=t&&t.refererInfo&&t.refererInfo.topmostLocation;return(0,n.a)(e,(e=>{const{bidId:u,mediaTypes:b={},params:f={},schain:g,userId:y={},ortb2Imp:h,adUnitCode:v=""}=e,{currency:_,floor:I}=function(e,t,i){const a=Object.keys(e)[0]||"banner",n={floor:0,currency:"USD"};if("function"==typeof i.getFloor){const{currency:e,floor:r}=i.getFloor({mediaType:a,size:"*"});r&&(n.floor=r),e&&(n.currency=e),t&&r&&"USD"===e&&(n.floor=Math.max(t,parseFloat(r)))}else t&&(n.floor=t);return n}(b,f.bidfloor,e),w=function(e){const t=["uid","eid","lipbid","envelope"];return Object.keys(e).reduce((function(i,a){const n=e[a];switch(typeof n){case"string":i[a]=n;break;case"object":const e=t.filter((e=>n.hasOwnProperty(e)));e.length&&(i[a]=n[e[0]])}return i}),{})}(y),x=(0,o.a)(h,"ext.gpid")||(0,o.a)(h,"ext.data.pbadslot"),T=1===(0,o.a)(h,"ext.ae");let D=[1,1],A={displaymanager:"Prebid.js - gumgum",displaymanagerver:"9.16.0"};const S=new Date,C=S.getTime(),R=S.getTimezoneOffset();if(A.lt=C,A.to=R,y&&y.pubProvidedId){let e=function(e){let t=JSON.stringify(e);if(t.length<=1800)return t;{const i=e.slice(0,Math.floor(e.length*(1800/t.length)));return t=JSON.stringify(i),t}}(y.pubProvidedId.filter((e=>su.includes(e.source))));A.pubProvidedId=e}y&&y.id5id&&y.id5id.uid&&y.id5id.ext&&(A.id5Id=y.id5id.uid||null,A.id5IdLinkType=y.id5id.ext.linkType||null),v&&(A.aun=v);for(const e in w)A[e]=w[e];if(b.banner?D=b.banner.sizes:b.video&&(D=b.video.playerSize,A=function(e){const{minduration:t,maxduration:i,linearity:a,startdelay:r,placement:o,plcmt:s,protocols:d=[],playerSize:l=[]}=e,p=(0,n.pb)(l),[c,m]=p[0]&&p[0].split("x");let u="";d.length&&(u=d.join(","));const b={mind:t,maxd:i,li:a,sd:r,pt:o,pr:u,viw:c,vih:m};return null!=s&&(b.vplcmt=s),b}(b.video)),x&&(A.gpid=x),lu&&(A.pv=lu),I&&(A.fp=I,A.fpc=_),t&&t.ortb2&&t.ortb2.site&&function(e,t,i){let a=function(e){if(e.content&&Array.isArray(e.content.data))for(const t of e.content.data)if(t.name.includes("iris.com")||t.name.includes("iris.tv"))return t.ext.cids.join(",");return null}(t);a?e.irisid=a:i.irisid&&"string"==typeof i.irisid&&(e.irisid=i.irisid)}(A,t.ortb2.site,f),f.iriscat&&"string"==typeof f.iriscat&&(A.iriscat=f.iriscat),f.zone||f.pubId)if(f.zone?A.t=f.zone:A.pubId=f.pubId,A.pi=2,f.slot){const[e,t]=cu(D);A.maxw=e,A.maxh=t,A.si=f.slot,A.pi=3,A.bf=D.reduce(((e,t)=>`${e}${e&&","}${t[0]}x${t[1]}`),"")}else f.native?(A.ni=f.native,A.pi=5):b.video?A.pi=2===b.video.linearity?6:7:f.product&&"skins"===f.product.toLowerCase()&&(A.pi=8);else A={...A,...mu(f,D)};T&&(A.ae=T),r&&(A.gdprApplies=r.gdprApplies?1:0),A.gdprApplies&&(A.gdprConsent=r.consentString),s&&(A.uspConsent=s),d?(A.gppString=t.gppConsent.gppString?t.gppConsent.gppString:"",A.gppSid=Array.isArray(t.gppConsent.applicableSections)?t.gppConsent.applicableSections.join(","):""):!d&&t?.ortb2?.regs?.gpp&&(A.gppString=t.ortb2.regs.gpp,A.gppSid=Array.isArray(t.ortb2.regs.gpp_sid)?t.ortb2.regs.gpp_sid.join(","):"");const k=(0,o.a)(t,"ortb2.regs.ext.dsa");k&&(A.dsa=JSON.stringify(k)),p&&(A.coppa=p),g&&g.nodes&&(A.schain=function(e){let t=`${e.ver},${e.complete}`;return e.nodes.map((e=>{t+=`!${encodeURIComponent(e.asi||"")},`,t+=`${encodeURIComponent(e.sid||"")},`,t+=`${encodeURIComponent(e.hp||"")},`,t+=`${encodeURIComponent(e.rid||"")},`,t+=`${encodeURIComponent(e.name||"")},`,t+=`${encodeURIComponent(e.domain||"")}`})),t}(g)),Object.assign(A,function(e,t){const a=e=>new RegExp(`[?#&](${e}=(.*?))($|&)`,"i");let r,o,s,d,l,p,c,m={};try{r=i.g.top,o=r.screen,s=e||"",d=t||""}catch(e){return(0,n.gb)(e),m}var u;return m={vw:r.innerWidth,vh:r.innerHeight,sw:o.width,sh:o.height,pu:(u=s,["ggad","ggdeal"].reduce(((e,t)=>{const i=u.match(a(t));return i?(i[1]&&(e=e.replace(i[1],"")),i[3]&&(e=e.replace(i[3],"")),e):e}),u)),tpl:d,ce:nu.cookiesAreEnabled(),dpr:r.devicePixelRatio||1,jcsi:JSON.stringify(ru),ogu:function(){let e="";const t=(document&&document.getElementsByTagName("head")[0]).querySelector("meta[property='og:url']");return e=t?t.content:null,e}()},c=function(){const e=window.navigator&&(window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection),t=e&&(e.downlink||e.bandwidth);return t?Math.round(1024*t):null}(),c&&(m.ns=c),l=(s.match(a("ggad"))||[0,0,0])[2],l&&(m[isNaN(l)?"eAdBuyId":"adBuyId"]=l),p=(s.match(a("ggdeal"))||[0,0,0])[2],p&&(m.ggdeal=p),m}(c,m),function(e){const t=(0,o.a)(e,"device")||{},i={ip:t.ip,ipv6:t.ipv6,ua:t.ua,dnt:t.dnt,os:t.os,osv:t.osv,dt:t.devicetype,lang:t.language,make:t.make,model:t.model,ppi:t.ppi,pxratio:t.pxratio,foddid:t?.ext?.fiftyonedegrees_deviceId};return Object.keys(i).reduce(((e,t)=>(void 0!==i[t]&&(e[t]=i[t]),e)),{})}(t?.ortb2)),a.push({id:u,tmax:l,tId:h?.ext?.tid,pi:A.pi,selector:f.selector,sizes:D,url:"https://g2.gumgum.com/hbid/imp",method:"GET",data:A})})),a},interpretResponse:function(e,t){const i=[],a=e.body;if(!a||a.err){const e=t.data||{},i=e.si||e.ni||e.t||e.pubId,r=a?a.err.drt:18e5;du[i]={productId:e.pi,timestamp:(new Date).getTime()},setTimeout((()=>{du[i]&&delete du[i]}),r),(0,n.jb)(`[GumGum] Please check the implementation for ${i}`)}const{ad:{price:r,id:o,markup:s,cur:d,width:p,height:c,maxw:m,maxh:u},cw:b,pag:{pvid:f},jcsi:g,meta:{adomain:y,mediaType:h}}=Object.assign({ad:{price:0,id:0,markup:"",width:0,height:0},pag:{pvid:0},meta:{adomain:[],mediaType:""}},a);let v=t.data||{},_=v.pi,I=6===_||7===_?D.d:D.b,w=3===_&&9===v.si,x={advertiserDomains:y||[],mediaType:h||I},T=(0,n.pb)(t.sizes);if(m&&u)T=[`${m}x${u}`];else if(5===_&&(0,l.c)(T,"1x1"))T=["1x1"];else if(2===_&&(0,l.c)(T,"1x1")||3===_){const e=t.sizes&&t.sizes.reduce(((e,t)=>{const[i,a]=t;return p===i&&c===a&&e.push(t.join("x")),e}),[])||[];T=e.length?e:(0,n.pb)(t.sizes)}let[A,S]=T[0].split("x");return g&&(a.jcsi=ru),lu=f,o&&i.push({ad:b?pu(b,Object.assign({},a,{bidRequest:t})):s,...I===D.d&&{ad:s,vastXml:s},mediaType:I,cpm:w?.1:r,creativeId:o,currency:d||"USD",height:S,netRevenue:!0,requestId:t.id,ttl:60,width:A,meta:x}),i},getUserSyncs:function(e,t){return t.map((e=>e.body&&e.body.pxs&&e.body.pxs.scr||[])).reduce((function(e,t){return e.concat(t)}),[]).map((e=>({type:"f"===e.t?"iframe":"image",url:e.u})))},supportedMediaTypes:ou};(0,Ye.b)(uu);const bu=(e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=Nl(a);Pl(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}};gt.a.add(ft.a.gumgum,bu),gt.b.add(ft.a.gumgum,uu.gvlid);const fu={code:"hubvisor",supportedMediaTypes:[ba,ua,fa],isBidRequestValid:e=>!!(0,Tt.m)(e.params)&&!!(0,Tt.n)(e.params.cpm,Tt.l),buildRequests(e){const t=(0,_t.c)("fake-url");return ei.c?e.map((e=>{const i={requestId:e.bidId,type:ua,size:[300,250],cpm:10};e.params.type&&(i.type=e.params.type),e.params.cpm&&(i.cpm=e.params.cpm),i.type===ua&&e.mediaTypes.banner&&(i.size=e.mediaTypes.banner.sizes[0]??[300,250]),(e.mediaTypes.native||i.type===ba)&&(i.size=[1,1],i.type=ba),(e.mediaTypes.video||i.type===fa)&&(i.size=e.mediaTypes.video?.playerSize[0]??[640,480],i.type=fa),e.params.size&&(i.size=e.params.size),e.params.bannerHtml&&(i.bannerHtml=e.params.bannerHtml);const a=new Blob([JSON.stringify(i)],{type:"application/json"});return{method:"GET",url:t??URL.createObjectURL(a),response:i}})):[]},interpretResponse(e,t){const i=t.response,[a,n]=i.size,r={requestId:i.requestId,cpm:i.cpm,width:a,height:n,creativeId:"test",dealId:void 0,currency:"USD",netRevenue:!0,ttl:300,mediaType:i.type};return i.type===fa?r.vastUrl="https://cache-service.hubvisor.io/?crid=hbv-test":i.type===ba?r.native={body:"Profitez des offres Hubvisor. Avec Hubvisor, bnficiez d'avantages exclusifs. Cliquez sur cette publicit pour en dcouvrir plus",clickUrl:"https://www.hubvisor.io",cta:"Click for More",icon:{width:32,height:32,url:"https://cdn.hubvisor.io/assets/hubvisor-icon.png"},image:{width:200,height:200,url:"https://cdn.hubvisor.io/assets/hubvisor-image-colored.png"},sponsoredBy:"Hubvisor",title:"Hubvisor",impressionTrackers:[],javascriptTrackers:ei.f?['<script>console.debug("Hubvisor native tracking set up");<\/script>']:[],price:"10"}:i.type===ua&&(r.ad=(({width:e,height:t,bannerHtml:i})=>i||(1800===e&&1e3===t?'<a href="https://www.psg.fr/" target="_blank"><img id="hbv" src="https://cdn.hubvisor.io/assets/hubvisor-skin.png"/></a>':`\n  <style>\n  a { text-decoration: none; }\n  #hbv {\n    background: #fa709a;\n    background: linear-gradient(to bottom, #fa709a 0%, #fee140 100%);\n    width:${e}px;\n    height:${t}px;\n    display:flex;\n    justify-content:center;\n    align-items:center;\n    color:#fff;\n    font-weight:bold;\n    font-size:2em;\n    text-align:center;\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"\n  }\n  </style>\n  <a href="https://www.psg.fr/" target="_blank">\n    <div id="hbv">\n      TEST<br/>\n      ${e}x${t}\n    </div>\n  </a>\n  <script>\n  if (window.$sf) {\n    console.log('[hubvisor] safeframe detected')\n    window.$sf.ext.register(${e}, ${t}, (...args) => {\n      console.log('[hubvisor] safeframe updated: ', ...args)\n    })\n  }\n  <\/script>\n  `))({width:a,height:n,bannerHtml:i.bannerHtml})),r.meta={dsa:{behalf:"seloger.com",paid:"RTBhouse",adrender:0,transparency:[{domain:"rtbhouse.com",dsaparams:[1,2]}]}},[r]}};(0,Ye.b)(fu),gt.a.add("hubvisor",((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(ei.c){if(a.banner||a.skin){const n=Nl(a);Pl(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}a.native&&Ul(e,t.placementId,[{bidder:i.bidder,params:i.params}],a.native),a.outstream&&Ml(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream),a.instream&&Ol(e,t.placementId,a.instream,[{bidder:i.bidder,params:i.params}])}}));const gu="improvedigital",yu={DEFAULT_MIMES:["video/mp4"]},hu={code:gu,gvlid:253,aliases:["id"],supportedMediaTypes:[D.b,D.c,D.d],syncStore:{extendMode:!1,placementId:null},isBidRequestValid:e=>!!(e&&e.params&&e.params.placementId&&e.params.publisherId),buildRequests(e,t){return this.syncStore.placementId=this.syncStore.placementId||e[0].params.placementId,_u.buildServerRequests(e,t)},interpretResponse:(e,{ortbRequest:t})=>vu.fromORTB({request:t,response:e.body}).bids,getUserSyncs(e,t,i,a){if(!0===v.config.getConfig("coppa")||!fc(i))return[];const n=[];if(!this.syncStore.extendMode&&e.pixelEnabled||!e.iframeEnabled)e.pixelEnabled&&t.forEach((e=>{(0,o.a)(e,`body.ext.${gu}.sync`,[]).forEach((e=>{n.some((t=>t.url===e))||n.push({type:"image",url:e})}))}));else{const{gdprApplies:e,consentString:r}=i||{},o=new Set;this.syncStore.extendMode&&t&&t.forEach((e=>{e?.body?.ext?.responsetimemillis&&Object.keys(e.body.ext.responsetimemillis).forEach((e=>o.add(e)))})),n.push({type:"iframe",url:`https://hb.360yield.com/prebid-universal-creative/load-cookie.html?placement_id=${this.syncStore.placementId}`+(this.syncStore.extendMode?"&pbs=1":"")+("boolean"==typeof e?`&gdpr=${Number(e)}`:"")+(r?`&gdpr_consent=${r}`:"")+(a?`&us_privacy=${encodeURIComponent(a)}`:"")+(o.size?`&bidders=${[...o].join(",")}`:"")})}return n}};(0,Ye.b)(hu);const vu=am({context:{ttl:300,nativeRequest:{eventtrackers:[{event:1,methods:[1,2]}]}},imp(e,t,i){const a=e(t,i);a.secure=Number("https:"===window.location.protocol),!a.bidfloor&&t.params.bidFloor&&(a.bidfloor=t.params.bidFloor,a.bidfloorcur=(0,n.x)("bidFloorCur",t.params).toUpperCase()||"USD");const o=i.extendMode?"ext.prebid.bidder.improvedigital":"ext.bidder",s=t.params.placementId,d=t.params.publisherId;return(0,r.a)(a,`${o}.placementId`,s),(0,r.a)(a,`${o}.publisherId`,d),i.extendMode&&(0,r.a)(a,"ext.prebid.storedrequest.id",""+s),(0,r.a)(a,`${o}.keyValues`,(0,n.x)("keyValues",t.params)||void 0),a},request(e,t,i,a){const r=e(t,i,a);return(0,n.lb)(r,{id:(0,n.G)(),source:{},ext:{improvedigital:{sdk:{name:"pbjs",version:"9.16.0"}}}}),r},bidResponse(e,t,i){if(!t.adm||!t.price||t.hasOwnProperty("errorCode"))return;const{bidRequest:a}=i;i.mediaType=(()=>{const e=Object.keys(a.mediaTypes);return 1===e.length?e[0]:-1!==t.adm.search(/^(<\?xml|<vast)/i)?D.d:"{"===t.adm[0]?D.c:D.b})();const n=e(t,i),r=(0,o.a)(t,`ext.${gu}`,{});return 1===r.pg&&(n.adserverTargeting={hb_deal_type_improve:"pg"}),Object.assign(n,{dealId:"string"==typeof r.buying_type&&"rtb"!==r.buying_type?r.line_item_id:void 0,netRevenue:r.is_net||!1}),n.mediaType===D.d&&_u.isOutstreamVideo(a)&&Object.assign(n,{adResponse:{content:n.vastXml},renderer:Iu.createRenderer(a)}),wu.forwardBid({bidRequest:a,bid:n}),n},overrides:{imp:{banner(e,t,i,a){if(i.mediaTypes[D.b]){if(!1===v.config.getConfig("improvedigital.usePrebidSizes")){const e=Object.assign({},i.mediaTypes[D.b],{sizes:null});i={...i,mediaTypes:{[D.b]:e}}}e(t,i,a)}},video(e,t,i,a){if(!i.mediaTypes[D.d])return;const n=Object.assign({mimes:yu.DEFAULT_MIMES},i.mediaTypes[D.d],i.params?.video);e(t,{...i,mediaTypes:{[D.d]:n}},a),(0,r.a)(t,"ext.is_rewarded_inventory",1===n.rewarded||1===(0,o.a)(n,"ext.rewarded")||void 0)}}}}),_u={buildServerRequests(e,t){const i=!0===v.config.getConfig("improvedigital.extend"),a=[],n=!0===v.config.getConfig("improvedigital.singleRequest"),r=[],o=[];function s(e,i){if(e)return"https://pbs.360yield.com/openrtb2/auction";const a=[];return a.push(fc(t?.gdprConsent)?"https://ad.360yield.com":"https://ad.360yield-basic.com"),i&&a.push(i),a.push("pb"),a.join("/")}function d(e,i,a){const n=vu.toORTB({bidRequests:e,bidderRequest:t,context:{extendMode:a}});return{method:"POST",url:s(a,i),data:JSON.stringify(n),ortbRequest:n,bidderRequest:t}}let l=null;return e.map((e=>{const t=e.params.publisherId,s=this.isExtendModeEnabled(i,e.params);if(n){if(l){if(t&&l!==t)throw new Error("All Improve Digital placements in a single call must have the same publisherId. Please check your 'params.publisherId' or turn off the single request mode.")}else l=t;s?r.push(e):o.push(e)}else a.push(d([e],t,s))})),n?(r.length&&a.push(d(r,l,!0)),o.length&&a.push(d(o,l,!1)),a):a},isExtendModeEnabled(e,t){const i="boolean"==typeof t.extend?t.extend:e;return i&&!hu.syncStore.extendMode&&(hu.syncStore.extendMode=!0),i},isOutstreamVideo:e=>"outstream"===(0,o.a)(e,"mediaTypes.video.context")},Iu={RENDERER_URL:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js",createRenderer(e){const t=zl.a.install({id:e.adUnitCode,url:this.RENDERER_URL,config:(0,o.a)(e,"renderer.options"),adUnitCode:e.adUnitCode});try{t.setRender(this.render)}catch(e){(0,n.jb)("Prebid Error calling setRender on renderer",e)}return t},render(e){e.renderer.push((()=>{window.ANOutstreamVideo.renderAd({sizes:[e.width,e.height],targetId:e.adUnitCode,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},Iu.handleRendererEvents.bind(null,e))}))},handleRendererEvents(e,t,i){e.renderer.handleVideoEvent({id:t,eventName:i})}},wu={RENDERER_URL:"https://cdn.360yield.com/razr/tag.js",forwardBid({bidRequest:e,bid:t}){if(t.mediaType!==D.b)return;const i={prebid:{bidRequest:e,bid:t}},a=`<script>window.__razr_config = ${JSON.stringify(i).replace(/<\/script>/gi,"\\x3C/script>")};<\/script>`;t.ad=a+t.ad,this.installListener()},installListener(){this._listenerInstalled||(window.addEventListener("message",(function(e){const t=e.data?.razr?.load;if(!t)return;e.source&&(t.source=e.source,t.id&&e.source.postMessage({razr:{id:t.id}},"*"));const i=window.razr=window.razr||{};i.q=i.q||[],i.q.push(t),i.loaded||(0,H.a)(wu.RENDERER_URL,Y.b,gu)})),this._listenerInstalled=!0)}};gt.a.add(ft.a.ImproveDigital,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=Nl(a);Pl(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}a.native&&Ul(e,t.placementId,[{bidder:i.bidder,params:i.params}],a.native),a.outstream&&El(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}])})),gt.b.add(ft.a.ImproveDigital,hu.gvlid);const xu="ix",Tu=[D.b,D.d,D.c],Du=[144,144],Au={JPY:1},Su={PBJS:"p",IX:"x"},Cu={SITE:["id","name","domain","cat","sectioncat","pagecat","page","ref","search","mobile","privacypolicy","publisher","content","keywords","ext"],USER:["id","buyeruid","yob","gender","keywords","customdata","geo","data","ext"]},Ru={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID"},ku=["lipbid","criteoId","merkleId","parrableId","connectid","tapadId","quantcastId","pubProvidedId","pairId"],Eu=["mimes","minduration","maxduration"],Mu=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h","plcmt"],Ou=`${xu}_features`,Uu=(0,te.d)({bidderCode:xu}),Bu={REQUESTED_FEATURE_TOGGLES:["pbjs_enable_multiformat","pbjs_allow_all_eids"],featureToggles:{},isFeatureEnabled:function(e){return(0,o.a)(this.featureToggles,`features.${e}.activated`,!1)},getFeatureToggles:function(){if(Uu.localStorageIsEnabled()){const e=(0,n.wb)(Uu.getDataFromLocalStorage(Ou));(0,o.a)(e,"expiry")&&e.expiry>=(new Date).getTime()?this.featureToggles=e:this.clearFeatureToggles()}},setFeatureToggles:function(e){const t=e.body,i=new Date,a=(0,o.a)(t,"ext.features");a&&(this.featureToggles={expiry:i.setHours(i.getHours()+1),features:a},Uu.localStorageIsEnabled()&&Uu.setDataInLocalStorage(Ou,JSON.stringify(this.featureToggles)))},clearFeatureToggles:function(){this.featureToggles={},Uu.localStorageIsEnabled()&&Uu.removeDataFromLocalStorage(Ou)}};let Pu=0,Nu="",ju="",zu=!1;function qu(e){const t=$u(e,D.d),i=(0,o.a)(e,"mediaTypes.video"),a=(0,o.a)(e,"params.video");if(Wu(i,a).length)return{};t.video=a?(0,n.p)(e.params.video):{};let s=(0,o.a)(e,"ortb2Imp.ext.tid");s&&(0,r.a)(t,"ext.tid",s),function(e,t){if((0,o.a)(t,"mediaTypes.video.context")===Se.c){let i=(0,o.a)(t,"mediaTypes.video.renderer");if(i||(i=(0,o.a)(t,"renderer")),(0,o.a)(t,"schain",!1))e.displaymanager="pbjs_wrapper";else if(i&&"object"==typeof i){if(void 0!==i.url){let t="";try{t=new URL(i.url).hostname}catch{return}t.includes("js-sec.indexww")?e.displaymanager="ix":e.displaymanager=i.url}}else e.displaymanager="ix"}}(t,e),Qu(t,e);for(const e in i)-1===Mu.indexOf(e)||t.video.hasOwnProperty(e)||(t.video[e]=i[e]);if(t.video.minduration>t.video.maxduration)return(0,n.gb)(`IX Bid Adapter: video minduration [${t.video.minduration}] cannot be greater than video maxduration [${t.video.maxduration}]`),{};const d=a&&a.context||i&&i.context;if(function(e){e.video.hasOwnProperty("plcmt")&&(!(0,n.$)(e.video.plcmt)||e.video.plcmt<1||e.video.plcmt>4)&&((0,n.jb)(`IX Bid Adapter: video.plcmt [${e.video.plcmt}] must be an integer between 1-4 inclusive`),delete e.video.plcmt)}(t),d&&!t.video.hasOwnProperty("placement")&&(d===Se.a?t.video.placement=1:d===Se.c?(0,o.a)(a,"playerConfig.floatOnScroll")?t.video.placement=5:(t.video.placement=3,zu=!0):(0,n.jb)(`IX Bid Adapter: Video context '${d}' is not supported`)),!t.video.w||!t.video.h){const i=Hu((0,o.a)(t,"video.playerSize"))||Hu((0,o.a)(e,"params.size"));if(!i)return(0,n.jb)("IX Bid Adapter: Video size is missing in [mediaTypes.video]"),{};t.video.w=i[0],t.video.h=i[1]}return Fu(e,t,D.d),t}function $u(e,t){const i={};if(i.id=e.bidId,pb()&&(0,o.a)(e,"params.externalId")&&(0,r.a)(i,"ext.externalID",e.params.externalId),(0,o.a)(e,`params.${t}.siteId`)&&!isNaN(Number(e.params[t].siteId)))switch(t){case D.b:(0,r.a)(i,"ext.siteID",e.params.banner.siteId.toString());break;case D.d:(0,r.a)(i,"ext.siteID",e.params.video.siteId.toString());break;case D.c:(0,r.a)(i,"ext.siteID",e.params.native.siteId.toString())}else e.params.siteId&&(0,r.a)(i,"ext.siteID",e.params.siteId.toString());return!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id||(0,r.a)(i,"ext.sid",String(e.params.id)),i}function Fu(e,t,i){let a=null,o=null;if(e.params.bidFloor&&e.params.bidFloorCur&&(a={floor:e.params.bidFloor,currency:e.params.bidFloorCur}),(0,n.Z)(e.getFloor)){let a="*",r="*";if(i&&(0,n.j)(Tu,i)){const{w:e,h:n}=t[i];a=i,r=[e,n]}try{o=e.getFloor({mediaType:a,size:r})}catch(e){(0,n.jb)("priceFloors module call getFloor failed, error : ",e)}}let s=!1;o?(t.bidfloor=o.floor,t.bidfloorcur=o.currency,(0,r.a)(t,"ext.fl",Su.PBJS),s=!0):a&&(t.bidfloor=a.floor,t.bidfloorcur=a.currency,(0,r.a)(t,"ext.fl",Su.IX),s=!0),s&&(i==D.b?((0,r.a)(t,"banner.ext.bidfloor",t.bidfloor),(0,r.a)(t,"banner.ext.fl",t.ext.fl)):i==D.d?((0,r.a)(t,"video.ext.bidfloor",t.bidfloor),(0,r.a)(t,"video.ext.fl",t.ext.fl)):((0,r.a)(t,"native.ext.bidfloor",t.bidfloor),(0,r.a)(t,"native.ext.fl",t.ext.fl)))}function Vu(e,t,i){const a={},r=!(!(0,o.a)(e,"exp")||!(0,n.$)(e.exp)),s=(0,o.a)(e,"dealid")||(0,o.a)(e,"ext.dealid");Au.hasOwnProperty(t)?a.cpm=e.price/Au[t]:a.cpm=e.price/100,a.requestId=e.impid,s&&(a.dealId=s),a.netRevenue=!0,a.currency=t,a.creativeId=e.hasOwnProperty("crid")?e.crid:"-",2!=e.mtype||(!e.ext||e.ext.vasturl)&&e.ext?e.ext&&e.ext.vasturl&&(a.vastUrl=e.ext.vasturl):a.vastXml=e.adm;let d=null;if("string"==typeof e.adm&&"{"===e.adm[0]&&"}"===e.adm[e.adm.length-1])try{d=JSON.parse(e.adm)}catch(e){(0,n.jb)("adm looks like JSON but failed to parse: ",e)}return e.ext&&e.ext.vasturl||2==e.mtype?(a.width=i.video.w,a.height=i.video.h,a.mediaType=D.d,a.mediaTypes=i.mediaTypes,a.ttl=r?e.exp:3600):d&&d.native?(a.native={ortb:d.native},a.width=e.w?e.w:1,a.height=e.h?e.h:1,a.mediaType=D.c,a.ttl=r?e.exp:3600):(a.ad=e.adm,a.width=e.w,a.height=e.h,a.mediaType=D.b,a.ttl=r?e.exp:300),a.meta={},a.meta.networkId=(0,o.a)(e,"ext.dspid"),a.meta.brandId=(0,o.a)(e,"ext.advbrandid"),a.meta.brandName=(0,o.a)(e,"ext.advbrand"),e.adomain&&e.adomain.length>0&&(a.meta.advertiserDomains=e.adomain),e.ext?.dsa&&(a.meta.dsa=e.ext.dsa),a}function Lu(e){return Array.isArray(e)&&2===e.length&&(0,n.$)(e[0])&&(0,n.$)(e[1])}function Gu(e=[],t=[]){if(Lu(e))return e[0]===t[0]&&e[1]===t[1];for(let i=0;i<e.length;i++)if(e[i][0]===t[0]&&e[i][1]===t[1])return!0;return!1}function Wu(e,t){const i=[];e||(0,n.jb)("IX Bid Adapter: mediaTypes.video is the preferred location for video params in ad unit");for(let a of Eu){const n=e&&e.hasOwnProperty(a),r=t&&t.hasOwnProperty(a);n||r||i.push(`IX Bid Adapter: ${a} is not included in either the adunit or params level`)}const a=e&&e.hasOwnProperty("protocol"),r=e&&e.hasOwnProperty("protocols"),o=t&&t.hasOwnProperty("protocol"),s=t&&t.hasOwnProperty("protocols");return a||r||o||s||i.push("IX Bid Adapter: protocol/protcols is not included in either the adunit or params level"),i}function Hu(e=[]){return Lu(e)?e:!!Lu(e[0])&&e[0]}function Xu(e,t,i){if(e)return{...(0,l.b)(i,(t=>t.bidId===e)),...(0,l.b)(t,(t=>t.id===e))}}function Yu(e,t,i){let a=function(e){let t=[],i={};if((0,n.V)(e))for(const a of e){const e=Ru.hasOwnProperty(a.source);if((0,o.a)(a,"uids.0")&&(i[a.source]=!0,e&&""!==Ru[a.source]&&(a.uids[0].ext={rtiPartner:Ru[a.source]}),t.push(a),t.length>=50))break}return{toSend:t,seenSources:i}}((0,o.a)(e,"0.userIdAsEids")),s=a.toSend;window.headertag&&"function"==typeof window.headertag.getIdentityInfo&&function(e,t){let i=window.headertag.getIdentityInfo();if(i&&"object"==typeof i)for(const a in i){if(e.length>=50)return;if(i.hasOwnProperty(a)){let n=i[a];!n.responsePending&&n.data&&"object"==typeof n.data&&Object.keys(n.data).length&&!t.seenSources[n.data.source]&&e.push(n.data)}}}(s,a);const d=[];let l=function(e){const t={};return t.id=e[0].bidderRequestId.toString(),t.site={},t.ext={},t.ext.source="prebid",t.ext.ixdiag={},t.ext.ixdiag.ls=Uu.localStorageIsEnabled(),t.imp=[],t.at=1,t}(e);l=function(e,t){return t.length>0&&(e.ext.features={},t.forEach((t=>{e.ext.features[t]={activated:Bu.isFeatureEnabled(t)}}))),e}(l,Bu.REQUESTED_FEATURE_TOGGLES);let p=function(e,t){var i=e.map((e=>e.adUnitCode)).filter(((e,t,i)=>i.indexOf(e)===t));let a=(0,o.a)(e,"0.userIdAsEids",[]),n={mfu:0,bu:0,iu:0,nu:0,ou:0,allu:0,ren:!1,version:"9.16.0",userIds:tb(e[0]),url:window.location.href.split("?")[0],vpd:zu,ae:t,eidLength:a.length};for(let t of i){let i=e.filter((e=>e.adUnitCode===t))[0];(0,o.a)(i,"mediaTypes")&&(Object.keys(i.mediaTypes).length>1&&n.mfu++,(0,o.a)(i,"mediaTypes.native")&&n.nu++,(0,o.a)(i,"mediaTypes.banner")&&n.bu++,"outstream"===(0,o.a)(i,"mediaTypes.video.context")&&(n.ou++,lb(i)&&(n.ren=!0)),"instream"===(0,o.a)(i,"mediaTypes.video.context")&&n.iu++,n.allu++)}return n}(e,(0,o.a)(t,"paapi.enabled"));for(let e in p)l.ext.ixdiag[e]=p[e];l=function(e,t,i,a,n){const r=(0,o.a)(t,"timeout");return r&&(e.ext.ixdiag.tmax=r),v.config.getConfig("userSync")&&(e.ext.ixdiag.syncsPerBidder=v.config.getConfig("userSync").syncsPerBidder),e.ext.ixdiag.imps=Object.keys(i).length,e.source={tid:t?.ortb2?.source?.tid},a[0].schain&&(e.source.ext={},e.source.ext.schain=a[0].schain),n.length>0&&(e.user={},e.user.eids=n),document.referrer&&""!==document.referrer&&(e.site.ref=document.referrer),e}(l,t,i,e,s),l=function(e,t){if(t){t.gdprConsent&&(Nu=t.gdprConsent,Nu.hasOwnProperty("gdprApplies")&&(e.regs={ext:{gdpr:Nu.gdprApplies?1:0}}),Nu.hasOwnProperty("consentString")&&(e.user=e.user||{},e.user.ext={consent:Nu.consentString||""},Nu.hasOwnProperty("addtlConsent")&&Nu.addtlConsent&&(e.user.ext.consented_providers_settings={addtl_consent:Nu.addtlConsent}))),t.uspConsent&&((0,r.a)(e,"regs.ext.us_privacy",t.uspConsent),ju=t.uspConsent);const i=(0,o.a)(t,"refererInfo.page");i&&(e.site.page=i),t.gppConsent&&((0,r.a)(e,"regs.gpp",t.gppConsent.gppString),(0,r.a)(e,"regs.gpp_sid",t.gppConsent.applicableSections))}return v.config.getConfig("coppa")&&(0,r.a)(e,"regs.coppa",1),e}(l,t),e[0].params.siteId&&(Pu=e[0].params.siteId);const c=Object.keys(i);let m=!1;for(let a=0;a<c.length&&!(d.length>=4);a++){l=Ju(i,c,l,a);const r=(0,o.a)(t,"ortb2")||{},s={...r.site||r.context};s.page=Ku(t);const p={...r.user};(0,n.Y)(r)||m||(l=Zu(t,l,r,s,p),l.site=(0,n.lb)({},l.site,s),l.user=(0,n.lb)({},l.user,p),m=!0),l=eb(i,l,c,a);const u=a===c.length-1;if(l=gb(l),l=ub(l),l=bb(l),u){let t="https://htlb.casalemedia.com/openrtb/pbjs?";0!==Pu&&(t+=`s=${Pu}`),pb()&&(t+=0!==Pu?"&":"",t+=`p=${v.config.getConfig("exchangeId")}`),d.push({method:"POST",url:t,data:(0,n.p)(l),option:{contentType:"text/plain"},validBidRequests:e}),l.imp=[],m=!1}}return d}function Ju(e,t,i,a){const s=e[t[a]],{missingImps:d=[],ixImps:l=[]}=s,p={ixImps:l,missingBannerImpressions:d},c=Object.keys(p).map((e=>p[e])).filter((e=>Array.isArray(e))).reduce(((e,t)=>e.concat(...t)),[]),m=e[t[a]].gpid,u=e[t[a]].dfp_ad_unit_code,b=e[t[a]].tid,f=e[t[a]].sid,g=e[t[a]].ae,y=e[t[a]].paapi,h=c.filter((e=>D.b in e)),v=c.filter((e=>!(D.b in e)));if(h.length>0){const s=h.reduce(((e,t)=>(e[t.adunitCode]||(e[t.adunitCode]=[]),e[t.adunitCode].push(t),e)),{});for(const d in s){const l=s[d],{id:p,banner:{topframe:c}}=l[0];let h=(0,o.a)(l[0],"ext.externalID");const v={id:p,banner:{topframe:c,format:l.map((({banner:{w:e,h:t},ext:i})=>({w:e,h:t,ext:i})))}};for(let e=0;e<v.banner.format.length;e++)null!=v.banner.format[e].ext&&(null!=v.banner.format[e].ext.sid&&delete v.banner.format[e].ext.sid,null!=v.banner.format[e].ext.externalID&&delete v.banner.format[e].ext.externalID),"bidfloor"in l[e]&&(v.banner.format[e].ext.bidfloor=l[e].bidfloor),"{}"===JSON.stringify(v.banner.format[e].ext)&&delete v.banner.format[e].ext;const _=e[t[a]].pos;(0,n.$)(_)&&(v.banner.pos=_),(u||m||b||f||g||h||y)&&(v.ext={},v.ext.dfp_ad_unit_code=u,v.ext.gpid=m,v.ext.tid=b,v.ext.sid=f,v.ext.externalID=h,1==g&&(v.ext.ae=1,v.ext.paapi=y)),"bidfloor"in l[0]&&(v.bidfloor=l[0].bidfloor),"bidfloorcur"in l[0]&&(v.bidfloorcur=l[0].bidfloorcur);const I=e[t[a]].adUnitFPD;I&&(0,r.a)(v,"ext.data",I),i.imp.push(v)}}return v.length>0&&v.forEach((e=>{if(m&&(0,r.a)(e,"ext.gpid",m),i.imp.length>0){let t=!1;i.imp.forEach((a=>{e.id===a.id&&D.d in e?(a.video=e.video,a.video.ext=Object.assign({},e.video.ext,e.ext),(0,o.a)(a,"video.ext.bidfloor",!1)&&(0,o.a)(a,"bidfloor",!1)&&a.video.ext.bidfloor<a.bidfloor&&(a.bidfloor=a.video.ext.bidfloor),!(0,o.a)(a,"ext.siteID",!1)&&(0,o.a)(e,"video.ext.siteID")&&((0,r.a)(a,"ext.siteID",e.video.ext.siteID),(0,r.a)(i,"ext.ixdiag.usid",!0)),t=!0):e.id===a.id&&D.c in e&&(a.native=e.native,a.native.ext=Object.assign({},e.native.ext,e.ext),(0,o.a)(a,"native.ext.bidfloor",!1)&&(0,o.a)(a,"bidfloor",!1)&&a.native.ext.bidfloor<a.bidfloor&&(a.bidfloor=a.native.ext.bidfloor),!(0,o.a)(a,"ext.siteID",!1)&&(0,o.a)(e,"native.ext.siteID",!1)&&((0,r.a)(a,"ext.siteID",e.native.ext.siteID),(0,r.a)(i,"ext.ixdiag.usid",!0)),t=!0)})),t||i.imp.push(e)}else i.imp.push(e)})),i}function Ku(e){const t=e&&e.bidderCode||"ix",i=v.config.getConfig(t);let a="";return a=(0,o.a)(e,"ortb2.site.page")?e.ortb2.site.page:(0,o.a)(e,"refererInfo.page"),i&&"object"==typeof i.firstPartyData?function(e,t,i){let a;try{a=new URL(t)}catch(i){(0,n.jb)(`IX Bid Adapter: Invalid URL set in ortb2.site.page: ${t}. Using referer URL instead.`),a=new URL((0,o.a)(e,"refererInfo.page"))}const r=new URLSearchParams(a.search);for(const[e,t]of Object.entries(i))r.has(e)||r.append(e,t);return a.search=r.toString(),a.toString()}(e,a,i.firstPartyData):a}function Zu(e,t,i,a,o){if(t.ext.ixdiag.fpd=!0,Object.keys(a).forEach((e=>{-1===Cu.SITE.indexOf(e)&&delete a[e]})),Object.keys(o).forEach((e=>{-1===Cu.USER.indexOf(e)&&delete o[e]})),i.device){const e={...i.device.sua};(0,n.Y)(e)||(0,r.a)(t,"device.sua",e)}if(i.hasOwnProperty("regs")&&!e.gppConsent&&(i.regs.hasOwnProperty("gpp")&&"string"==typeof i.regs.gpp&&(0,r.a)(t,"regs.gpp",i.regs.gpp),i.regs.hasOwnProperty("gpp_sid")&&Array.isArray(i.regs.gpp_sid)&&(0,r.a)(t,"regs.gpp_sid",i.regs.gpp_sid),i.regs.ext?.dsa)){const e=i.regs.ext.dsa,a={};if(["dsarequired","pubrender","datatopub"].forEach((t=>{(0,n.ab)(e[t])&&(a[t]=e[t])})),(0,n.V)(e.transparency)){const t=[];e.transparency.forEach((e=>{(0,n.bb)(e)&&(0,n.eb)(e.domain)&&""!=e.domain&&(0,n.V)(e.dsaparams)&&e.dsaparams.every((e=>(0,n.ab)(e)))&&t.push(e)})),t.length>0&&(a.transparency=t)}(0,n.Y)(a)||(0,r.a)(t,"regs.ext.dsa",a)}return t}function Qu(e,t){const i=(0,o.a)(t,"ortb2Imp.ext.data");i&&(0,r.a)(e,"ext.data",i)}function eb(e,t,i,a){const n=e[i[a]].pbadslot,r=e[i[a]].tagId,o=e[i[a]].adUnitCode,s=e[i[a]].divId;return(n||r||o||s)&&(t.ext.ixdiag.pbadslot=n,t.ext.ixdiag.tagid=r,t.ext.ixdiag.adunitcode=o,t.ext.ixdiag.divId=s),t}function tb(e){const t=e.userId||{};return ku.filter((e=>t[e]))}function ib(e,t){if(t)for(let i=0;i<e.length;i++){const a=e[i];if(t[0]===a[0]&&t[1]===a[1]){e.splice(i,1);break}}}function ab(e,t){const i=function(e){const t=$u(e,D.c),i=e.nativeOrtbRequest;i.eventtrackers=[{event:1,methods:[1,2]}],i.privacy=1,t.native={request:JSON.stringify(i),ver:"1.2"};let a=(0,o.a)(e,"ortb2Imp.ext.tid");return a&&(0,r.a)(t,"ext.tid",a),Qu(t,e),Fu(e,t,D.c),t}(e);if(0!=Object.keys(i).length){t[e.adUnitCode]={},t[e.adUnitCode].ixImps=[],t[e.adUnitCode].ixImps.push(i),t[e.adUnitCode].gpid=(0,o.a)(e,"ortb2Imp.ext.gpid"),t[e.adUnitCode].dfp_ad_unit_code=(0,o.a)(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.adUnitCode].pbadslot=(0,o.a)(e,"ortb2Imp.ext.data.pbadslot"),t[e.adUnitCode].tagId=(0,o.a)(e,"params.tagId");const a=e.adUnitCode,n=document.getElementById(a)?a:(0,tl.a)(a).divId;t[e.adUnitCode].adUnitCode=a,t[e.adUnitCode].divId=n}}function nb(e,t){const i=qu(e);if(0!=Object.keys(i).length){t[e.adUnitCode]={},t[e.adUnitCode].ixImps=[],t[e.adUnitCode].ixImps.push(i),t[e.adUnitCode].gpid=(0,o.a)(e,"ortb2Imp.ext.gpid"),t[e.adUnitCode].dfp_ad_unit_code=(0,o.a)(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.adUnitCode].pbadslot=(0,o.a)(e,"ortb2Imp.ext.data.pbadslot"),t[e.adUnitCode].tagId=(0,o.a)(e,"params.tagId");const a=e.adUnitCode,n=document.getElementById(a)?a:(0,tl.a)(a).divId;t[e.adUnitCode].adUnitCode=a,t[e.adUnitCode].divId=n}}function rb(e,t,i,a){let r=function(e){const t=$u(e,D.b);t.banner={},t.adunitCode=e.adUnitCode;const i=(0,o.a)(e,"params.size");return i&&(t.banner.w=i[0],t.banner.h=i[1]),t.banner.topframe=(0,n.N)()?0:1,Fu(e,t,D.b),t}(e);const s=Gu((0,o.a)(e,"mediaTypes.banner.sizes"),(0,o.a)(e,"params.size"));if(i.hasOwnProperty(e.adUnitCode)||(i[e.adUnitCode]={}),i[e.adUnitCode].gpid=(0,o.a)(e,"ortb2Imp.ext.gpid"),i[e.adUnitCode].dfp_ad_unit_code=(0,o.a)(e,"ortb2Imp.ext.data.adserver.adslot"),i[e.adUnitCode].tid=(0,o.a)(e,"ortb2Imp.ext.tid"),i[e.adUnitCode].pbadslot=(0,o.a)(e,"ortb2Imp.ext.data.pbadslot"),i[e.adUnitCode].tagId=(0,o.a)(e,"params.tagId"),i[e.adUnitCode].pos=(0,o.a)(e,"mediaTypes.banner.pos"),(0,o.a)(a,"paapi.enabled")){const t=(0,o.a)(e,"ortb2Imp.ext.ae"),a=(0,o.a)(e,"ortb2Imp.ext.paapi");a&&(i[e.adUnitCode].paapi=a),t&&((0,n.$)(t)?i[e.adUnitCode].ae=t:(0,n.jb)("error setting auction environment flag - must be an integer"))}const d=(0,o.a)(e,"ortb2Imp.ext.data");d&&(i[e.adUnitCode].adUnitFPD=d);const l=(0,o.a)(e,"params.id");!l||"string"!=typeof l&&"number"!=typeof l||(i[e.adUnitCode].sid=String(l));const p=e.adUnitCode,c=document.getElementById(p)?p:(0,tl.a)(p).divId;i[e.adUnitCode].adUnitCode=p,i[e.adUnitCode].divId=c,s&&(i[e.adUnitCode].hasOwnProperty("ixImps")||(i[e.adUnitCode].ixImps=[]),i[e.adUnitCode].ixImps.push(r)),function(e,t,i){if(t.hasOwnProperty(e.adUnitCode)){let i=[];t[e.adUnitCode].hasOwnProperty("missingSizes")&&(i=t[e.adUnitCode].missingSizes),ib(i,e.params.size),t[e.adUnitCode].missingSizes=i}else if((0,o.a)(e,"mediaTypes.banner.sizes")){let a=(0,n.p)(e.mediaTypes.banner.sizes);ib(a,e.params.size);let r={missingSizes:a,impression:i};t[e.adUnitCode]=r}}(e,t,r)}function ob(e,t,i){const a=(0,n.p)(t);return a.banner.w=i[0],a.banner.h=i[1],Fu(e,a,D.b),a}function sb(e){e.renderer.push((function(){const t=e.adUnitCode,i=document.getElementById(t)?t:(0,tl.a)(t).divId;i?window.createIXPlayer(i,e):(0,n.jb)(`IX Bid Adapter: adUnitCode: ${i} not found on page.`)}))}function db(e,t){const i=zl.a.install({id:e,url:t,loaded:!1});try{i.setRender(sb)}catch(e){return(0,n.jb)("Prebid Error calling setRender on renderer",e),null}return t?i:((0,n.jb)("Outstream renderer URL not found"),null)}function lb(e){if("outstream"!==(0,o.a)(e,"mediaTypes.video.context"))return!1;let t=(0,o.a)(e,"mediaTypes.video.renderer");return t||(t=(0,o.a)(e,"renderer")),!("object"==typeof t&&t.url&&t.render)||t.backupOnly}function pb(){let e=v.config.getConfig("exchangeId");return!("number"!=typeof e||!isFinite(e))||!("string"!=typeof e||""===e.trim()||!isFinite(Number(e)))}const cb={code:xu,gvlid:10,supportedMediaTypes:Tu,isBidRequestValid:function(e){const t=(0,o.a)(e,"params.video"),i=(0,o.a)(e,"params.size"),a=(0,o.a)(e,"mediaTypes.banner.sizes"),r=(0,o.a)(e,"mediaTypes.video"),s=(0,o.a)(e,"mediaTypes.video.playerSize"),d=e.params.hasOwnProperty("bidFloor"),l=e.params.hasOwnProperty("bidFloorCur");if(e.hasOwnProperty("mediaType")&&!(0,n.j)(Tu,e.mediaType))return(0,n.jb)("IX Bid Adapter: media type is not supported."),!1;if((0,o.a)(e,"mediaTypes.banner")&&!a)return!1;if(i){const t=Hu(i);if(!t)return(0,n.gb)("IX Bid Adapter: size has invalid format."),!1;if(!Gu(e.sizes,t)&&!Gu(s,t)&&!Gu(a,t))return(0,n.gb)("IX Bid Adapter: bid size is not included in ad unit sizes or player size."),!1}if(!pb()&&null==e.params.siteId)return(0,n.gb)("IX Bid Adapter: Invalid configuration - either siteId or exchangeId must be configured."),!1;if(void 0!==e.params.siteId){if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return(0,n.gb)("IX Bid Adapter: siteId must be string or number type."),!1;if("string"!=typeof e.params.siteId&&isNaN(Number(e.params.siteId)))return(0,n.gb)("IX Bid Adapter: siteId must valid value"),!1}if((d||l)&&!(d&&l&&function(e,t){return Boolean("number"==typeof e&&"string"==typeof t&&t.match(/^[A-Z]{3}$/))}(e.params.bidFloor,e.params.bidFloorCur)))return(0,n.gb)("IX Bid Adapter: bidFloor / bidFloorCur parameter has invalid format."),!1;if(r&&t){const i=qu(e).video,a=Wu(r,t);if((0,o.a)(e,"mediaTypes.video.context")===Se.c&&lb(e)&&i){const e=[(0,o.a)(i,"w"),(0,o.a)(i,"h")];if(!(e[0]>=Du[0]&&e[1]>=Du[1]))return(0,n.gb)(`IX Bid Adapter: ${e} is an invalid size for IX outstream renderer`),!1}if(a.length)return a.forEach((e=>{(0,n.gb)(e)})),!1}return function(e){return void 0===(0,o.a)(e,"mediaTypes.native")||e.nativeOrtbRequest&&Array.isArray(e.nativeOrtbRequest.assets)&&e.nativeOrtbRequest.assets.length>0}(e)},resetSiteID:function(){Pu=0},buildRequests:function(e,t){const i=[],a={},r={},s={},d={};Bu.getFeatureToggles(),e.forEach((e=>{const i=Object.keys((0,o.a)(e,"mediaTypes",{}));for(const o in i)switch(i[o]){case D.b:rb(e,d,a,t);break;case D.d:nb(e,r);break;case D.c:ab(e,s);break;default:(0,n.jb)(`IX Bid Adapter: ad unit mediaTypes ${o} is not supported`)}}));for(let t in d)if(d.hasOwnProperty(t)){let i=d[t].missingSizes;a.hasOwnProperty(t)||(a[t]={}),a[t].hasOwnProperty("missingImps")||(a[t].missingImps=[],a[t].missingCount=0);let n=d[t].impression;for(let r=0;r<i.length;r++){let o=ob(e[0],n,i[r]);a[t].missingImps.push(o),a[t].missingCount++}}let l=[];return Object.keys(a).length>0&&l.push(a),Object.keys(r).length>0&&l.push(r),Object.keys(s).length>0&&l.push(s),Bu.isFeatureEnabled("pbjs_enable_multiformat")?i.push(...Yu(e,t,function(e){const t={};return e.forEach((e=>{Object.keys(e).forEach((i=>{Object.keys(t).includes(i)?t[i].hasOwnProperty("ixImps")&&e[i].hasOwnProperty("ixImps")?t[i].ixImps=[...t[i].ixImps,...e[i].ixImps]:t[i].hasOwnProperty("missingImps")&&e[i].hasOwnProperty("missingImps")?t[i].missingImps=[...t[i].missingImps,...e[i].missingImps]:e[i].hasOwnProperty("ixImps")?t[i].ixImps=e[i].ixImps:e[i].hasOwnProperty("missingImps")&&(t[i].missingImps=e[i].missingImps):t[i]=e[i]}))})),t}(l))):(Object.keys(a).length>0&&i.push(...Yu(e,t,a)),Object.keys(r).length>0&&i.push(...Yu(e,t,r)),Object.keys(s).length>0&&i.push(...Yu(e,t,s))),i},interpretResponse:function(e,t){const i=[];let a=null,r=(0,o.a)(e,"body.ext.protectedAudienceAuctionConfigs")||[];if(Bu.setFeatureToggles(e),!e.hasOwnProperty("body"))return i;const s=e.body,d=s.seatbid||[];for(let e=0;e<d.length;e++){if(!d[e].hasOwnProperty("bid"))continue;const r=d[e].bid,l=t.data;for(let e=0;e<r.length;e++){const n=Xu(r[e].impid,l.imp,t.validBidRequests);if(a=Vu(r[e],s.cur,n),a.mediaType===D.d&&lb(n)){const t=(0,o.a)(s,"ext.videoplayerurl");if(a.renderer=db(r[e].bidId,t),!a.renderer)continue}i.push(a)}if((0,o.a)(l,"ext.ixdiag.err")&&Uu.localStorageIsEnabled())try{Uu.removeDataFromLocalStorage("ixdiag")}catch(e){(0,n.gb)("ix can not clear ixdiag from localStorage.")}}if(!(Array.isArray(r)&&r.length>0))return i;r=r.filter((e=>!!function(e){return"object"==typeof e&&null!==e}(e)||((0,n.jb)("Malformed auction config detected:",e),!1)));try{return{bids:i,paapi:r}}catch(e){return(0,n.jb)("Error attaching AuctionConfigs",e),i}},getUserSyncs:function(e,t){const i=[];let a=null;if(t.length>0&&(a=(0,o.a)(t[0],"body.ext.publishersyncsperbidderoverride")),void 0!==a&&0==a)return[];if(e.iframeEnabled)i.push({type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"});else{let e=null;v.config.getConfig("userSync")&&(e=v.config.getConfig("userSync").syncsPerBidder),0===e&&(e=a),e=a&&(0===e||e)?a>e?e:a:1;for(let t=0;t<e;t++)i.push({type:"image",url:mb(e,t)})}return i}};function mb(e,t){let i="",a="0";return Nu&&Nu.hasOwnProperty("gdprApplies")&&(a=Nu.gdprApplies?"1":"0"),Nu&&Nu.hasOwnProperty("consentString")&&(i=Nu.consentString||""),"https://dsum.casalemedia.com/pbusermatch?origin=prebid"+(0!==Pu?"&site_id="+Pu.toString():"")+"&p="+e.toString()+"&i="+t.toString()+"&gdpr="+a+"&gdpr_consent="+i+"&us_privacy="+(ju||"")}function ub(e){return e.imp.forEach(((t,i)=>{const a=t.ext;if(null==a)return e;fb(t)<2||Object.keys(a).forEach((n=>{if(D.b in t){const r=t.banner.ext;if(void 0!==r&&void 0!==r[n]&&r[n]==a[n]&&delete e.imp[i].banner.ext[n],void 0!==t.banner.format)for(let r=0;r<t.banner.format.length;r++)null!=t.banner.format[r].ext&&null!=t.banner.format[r].ext[n]&&t.banner.format[r].ext[n]==a[n]&&delete e.imp[i].banner.format[r].ext[n]}if(D.d in t){const r=t.video.ext;void 0!==r&&void 0!==r[n]&&r[n]==a[n]&&delete e.imp[i].video.ext[n]}if(D.c in t){const r=t.native.ext;void 0!==r&&void 0!==r[n]&&r[n]==a[n]&&delete e.imp[i].native.ext[n]}}))})),e}function bb(e){return e.imp.forEach(((t,i)=>{if(null==t.ext)return e;if(!(fb(t)<2)){if(D.b in t){const a=t.banner.ext;if(void 0!==a&&void 0!==a.siteID&&delete e.imp[i].banner.ext.siteID,void 0!==t.banner.format)for(let a=0;a<t.banner.format.length;a++)void 0!==t.banner.format[a].ext&&void 0!==t.banner.format[a].ext.siteID&&((0,r.a)(e.imp[i],"ext.siteID",t.banner.format[a].ext.siteID),(0,r.a)(e,"ext.ixdiag.usid",!0),delete e.imp[i].banner.format[a].ext.siteID)}if(D.d in t){const a=t.video.ext;void 0!==a&&void 0!==a.siteID&&delete e.imp[i].video.ext.siteID}if(D.c in t){const a=t.native.ext;void 0!==a&&void 0!==a.siteID&&delete e.imp[i].native.ext.siteID}}})),e}function fb(e){let t=0;return void 0!==e.banner&&(t+=1),void 0!==e.video&&(t+=1),void 0!==e.native&&(t+=1),t}function gb(e){return null==e.device&&(e.device={}),e.device.h=window.screen.height,e.device.w=window.screen.width,e}(0,Ye.b)(cb);const yb=(e,t,i)=>{const[a,n]=i.playerSize;return{...t,...i.openRtbParams,protocols:[Al.a.vast20,Al.a.vast30,Al.a.vast20Wrapper,Al.a.vast30Wrapper],api:[Dl.a.vpaid10,Dl.a.vpaid20,Dl.a.mraid1,Dl.a.mraid2,Dl.a.omid1],...e.params.video,w:a,h:n}},hb=[[1800,1e3],[970,250],[970,90],[1e3,90],[300,250],[300,600],[250,250],[200,200],[300,300],[728,90],[320,50],[300,50],[320,100],[300,100],[320,250],[320,480],[640,960],[120,600],[160,600]];gt.a.add(ft.a.IndexExchange,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=(e=>e.filter((([e,t])=>{for(const[i,a]of hb)if(e===i&&t===a)return!0;return!1})))(Nl(a));n.length>0&&Pl(e,t.placementId,n,[{bidder:i.bidder,params:{...i.params,video:void 0}}])}if(a.outstream){const n=((e,t)=>yb(e,Sl,t))(i,a.outstream),r={...i.params,video:n};Ml(e,t.placementId,a.outstream,[{bidder:i.bidder,params:r}],t.rendering?.outstream)}if(a.instream){const n=((e,t)=>yb(e,Cl,t))(i,a.instream),r=[{bidder:i.bidder,params:{...i.params,size:a.instream.playerSize,video:n}}],{api:o,linearity:s,mimes:d,maxduration:l,minduration:p,protocols:c,startdelay:m}=n,u={...a.instream,openRtbParams:{...a.instream.openRtbParams,api:o,linearity:s,mimes:d,maxduration:l,minduration:p,protocols:c,startdelay:m}};Ol(e,t.placementId,u,r)}a.native&&Ul(e,t.placementId,[{bidder:i.bidder,params:i.params}],a.native)})),gt.b.add(ft.a.IndexExchange,cb.gvlid);const vb="insticator",_b="https://ex.ingage.tech/v1/openrtb",Ib="hb_insticator_uid",wb=2592e6,xb={minduration:e=>(0,n.$)(e),maxduration:e=>(0,n.$)(e),protocols:e=>(0,n.U)(e),startdelay:e=>(0,n.$)(e),linearity:e=>(0,n.$)(e)&&[1].includes(e),skip:e=>(0,n.$)(e)&&[1,0].includes(e),skipmin:e=>(0,n.$)(e),skipafter:e=>(0,n.$)(e),sequence:e=>(0,n.$)(e),battr:e=>(0,n.U)(e),maxextended:e=>(0,n.$)(e),minbitrate:e=>(0,n.$)(e),maxbitrate:e=>(0,n.$)(e),playbackmethod:e=>(0,n.U)(e),playbackend:e=>(0,n.$)(e)&&[1,2,3].includes(e),delivery:e=>(0,n.U)(e),pos:e=>(0,n.$)(e)&&[0,1,2,3,4,5,6,7].includes(e),api:e=>(0,n.U)(e)},Tb={cat:e=>Array.isArray(e)&&e.every((e=>"string"==typeof e)),sectioncat:e=>Array.isArray(e)&&e.every((e=>"string"==typeof e)),pagecat:e=>Array.isArray(e)&&e.every((e=>"string"==typeof e)),search:e=>"string"==typeof e,mobile:()=>(0,n.$)(),content:e=>"object"==typeof e,keywords:e=>"string"==typeof e},Db=(0,te.d)({bidderCode:vb});function Ab(e){const t=e?.ortb2||{},i=t?.device||{},a={w:window.innerWidth,h:window.innerHeight,js:1,ext:{localStorage:Db.localStorageIsEnabled(),cookies:Db.cookiesAreEnabled()}};return"object"==typeof i&&Object.assign(a,i),a}function Sb(e){let t={ext:{}};e.gdprConsent&&(t.ext.gdpr=e.gdprConsent.gdprApplies?1:0,t.ext.gdprConsentString=e.gdprConsent.consentString),t.coppa=function(e){const t=(0,o.a)(e,"ortb2.regs.coppa");return void 0!==t?t:!0===v.config.getConfig("coppa")?1:0}(e);const{gpp:i,gppSid:a}=function(e){let t=(0,o.a)(e,"gppConsent.gppString"),i=(0,o.a)(e,"gppConsent.applicableSections");return t&&i||(t=(0,o.a)(e,"ortb2.regs.gpp",""),i=(0,o.a)(e,"ortb2.regs.gpp_sid",[])),{gpp:t,gppSid:i}}(e);i&&(t.ext.gpp=i),a&&(t.ext.gppSid=a);const n=function(e){return!!(0,o.a)(e,"uspConsent")&&{uspConsent:e.uspConsent}}(e);n&&(t.ext.us_privacy=n.uspConsent,t.ext.ccpa=n.uspConsent);const r=(0,o.a)(e,"ortb2.regs.ext.dsa");return r&&(t.ext.dsa=r),t}function Cb(e){const t=function(){let e;return e=Db.localStorageIsEnabled()?Db.getDataFromLocalStorage(Ib):Db.getCookie(Ib),e&&36!==e.length&&(e=void 0),e}()||(0,n.w)(),i=(0,o.a)(e,"params.user.yob"),a=(0,o.a)(e,"params.user.gender"),r=(0,o.a)(e,"params.user.keywords"),s=(0,o.a)(e,"params.user.data"),d=(0,o.a)(e,"params.user.ext");!function(e){if(Db.localStorageIsEnabled()&&Db.setDataInLocalStorage(Ib,e),Db.cookiesAreEnabled()){const t=new Date(Date.now()+wb).toUTCString();Db.setCookie(Ib,e,t)}}(t);const l={id:t};return i&&(l.yob=i),a&&(l.gender=a),r&&(l.keywords=r),s&&(l.data=s),d&&(l.ext=d),l}function Rb(e,t){const i={id:t.bidderRequestId,tmax:t.timeout,source:{fd:1,tid:t.ortb2?.source?.tid},site:{domain:t.refererInfo.domain,page:t.refererInfo.page,ref:t.refererInfo.ref},device:Ab(t),regs:Sb(t),user:Cb(e[0]),imp:e.map((e=>function(e){const t={id:e.bidId,tagid:e.adUnitCode,instl:(0,o.a)(e,"ortb2Imp.instl"),secure:"https:"===location.protocol?1:0,ext:{gpid:(0,o.a)(e,"ortb2Imp.ext.gpid"),insticator:{adUnitId:e.params.adUnitId}}};e?.params?.adUnitId&&(0,r.a)(t,"ext.prebid.bidder.insticator.adUnitId",e.params.adUnitId),e?.params?.publisherId&&(0,r.a)(t,"ext.prebid.bidder.insticator.publisherId",e.params.publisherId);let i=parseFloat((0,o.a)(e,"params.floor"));if(!isNaN(i)){t.bidfloor=(0,o.a)(e,"params.floor"),t.bidfloorcur="USD";const i=(0,o.a)(e,"params.bidfloorcur");i&&"USD"!==i&&(delete t.bidfloor,delete t.bidfloorcur,(0,n.jb)("insticator: bidfloorcur supported by insticator is USD only. ignoring bidfloor and bidfloorcur params"))}if((0,o.a)(e,"mediaTypes.banner")&&(t.banner=function(e){const t=[],i=(0,o.a)(e,"mediaTypes.banner.pos"),a=(0,o.a)(e,"mediaTypes.banner.sizes")||e.sizes;for(const e of a)t.push({w:e[0],h:e[1]});return{format:t,pos:i}}(e)),(0,o.a)(e,"mediaTypes.video")&&(t.video=function(e){let t=(0,o.a)(e,"mediaTypes.video.w"),i=(0,o.a)(e,"mediaTypes.video.h");const a=(0,o.a)(e,"mediaTypes.video.mimes"),n=(0,o.a)(e,"mediaTypes.video.placement"),r=(0,o.a)(e,"mediaTypes.video.plcmt")||void 0,s=(0,o.a)(e,"mediaTypes.video.playerSize"),d=(0,o.a)(e,"mediaTypes.video.context");i||t||!s||({w:t,h:i}=Mb(s,t,i));const l=(0,o.a)(e,"mediaTypes.video"),p=(0,o.a)(e,"params.video",{});let c={};for(const e in xb)l[e]&&xb[e](l[e])&&(c[e]=l[e]),p[e]&&!xb[e](p[e])&&delete p[e];return n&&void 0!==n&&"number"==typeof n&&(c.placement=n),r&&(c.plcmt=r),void 0!==d&&(c.context=d),{mimes:a,w:t,h:i,...c,...p}}(e)),(0,n.Z)(e.getFloor)){let i;const a=(0,o.a)(e,"mediaTypes.banner")?"banner":(0,o.a)(e,"mediaTypes.video")?"video":void 0;let r=a,s="*";if(a&&["banner","video"].includes(a))if("banner"===a){const{w:i,h:n}=t[a];if(i&&n)s=[i,n];else{const t=(0,o.a)(e,"mediaTypes.banner.format");if(t&&t.length>0){const{w:e,h:i}=t[0];s=[e,i]}}}else if("video"===a){const{w:e,h:i}=t[a];r=a,s=[e,i]}try{i=e.getFloor({currency:"USD",mediaType:r,size:s})}catch(e){(0,n.jb)("priceFloors module call getFloor failed, error : ",e)}i&&(t.bidfloor=i.floor,t.bidfloorcur=i.currency)}return t}(e))),ext:{insticator:{adapter:{vendor:"prebid",prebid:"9.16.0"}}}},a=v.config.getConfig("insticator.params");a&&(i.ext={insticator:{...i.ext.insticator,...a}});const s=function(e,t){if(!e||0===e.length||!e[0].schain)return;const i=e[0].schain;return i&&i.nodes&&i.nodes.length&&i.nodes[0]&&(i.nodes[0].rid=t),i}(e,t.bidderRequestId);s&&(i.source.ext={schain:s});const d=function(e){if(!e)return;const t=e.find((e=>(0,n.V)(e.userIdAsEids)&&e.userIdAsEids.length>0));return t?t.userIdAsEids:e[0].userIdAsEids}(e);d&&(i.user.ext={eids:d});const l=(0,o.a)(t,"ortb2.site");if(l)for(const e in Tb){const t=l[e];t&&Tb[e](t)&&(i.site[e]=t)}return t.gdprConsent&&(0,r.a)(i,"user.ext.consent",t.gdprConsent.consentString),e[0]?.params?.publisherId&&(0,r.a)(i,"site.publisher.id",e[0].params.publisherId),i}function kb(e){return e instanceof Array&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function Eb(e){return e instanceof Array&&e.length>0&&e.map(kb).reduce(((e,t)=>e&&t),!0)}function Mb(e,t,i){return!t&&e&&(Array.isArray(e[0])?t=parseInt(e[0][0],10):"number"!=typeof e[0]||isNaN(e[0])||(t=parseInt(e[0],10))),!i&&e&&(Array.isArray(e[0])?i=parseInt(e[0][1],10):"number"!=typeof e[1]||isNaN(e[1])||(i=parseInt(e[1],10))),{w:t,h:i}}v.config.setDefaults({insticator:{endpointUrl:_b,bidTTL:300}});const Ob={code:vb,gvlid:910,supportedMediaTypes:[D.b,D.d],isBidRequestValid:function(e){return function(e){return!!e.params.adUnitId||((0,n.gb)("insticator: missing adUnitId bid parameter"),!1)}(e)&&function(e){return D.b in e.mediaTypes||D.d in e.mediaTypes||((0,n.gb)("insticator: expected banner or video in mediaTypes"),!1)}(e)&&function(e){return!(void 0!==(0,o.a)(e,"mediaTypes.banner")&&!Eb(e.sizes)&&!Eb(e.mediaTypes.banner.sizes)&&((0,n.gb)("insticator: banner sizes not specified or invalid"),1))}(e)&&function(e){const t=(0,o.a)(e,"mediaTypes.video"),i=(0,o.a)(e,"params.video");let a={...t,...i};if(void 0===t)return!0;let r=(0,o.a)(e,"mediaTypes.video.w"),s=(0,o.a)(e,"mediaTypes.video.h");const d=(0,o.a)(e,"mediaTypes.video.playerSize");if(s||r||!d||({w:r,h:s}=Mb(d,r,s)),!kb([r,s]))return(0,n.gb)("insticator: video size not specified or invalid"),!1;const l=(0,o.a)(e,"mediaTypes.video.mimes");if(!Array.isArray(l)||0===l.length)return(0,n.gb)("insticator: mimes not specified"),!1;const p=(0,o.a)(e,"mediaTypes.video.plcmt");if(void 0!==p&&"number"!=typeof p)return(0,n.gb)("insticator: video plcmt is not a number"),!1;for(const e in xb)a[e]&&(xb[e](a[e])||(0,n.gb)(`insticator: video ${e} is invalid or not supported by insticator`));return!(a.minduration&&a.maxduration&&a.minduration>a.maxduration&&((0,n.gb)("insticator: video minduration is greater than maxduration"),1))}(e)},buildRequests:function(e,t){const i=[];let a=v.config.getConfig("insticator.endpointUrl")||_b;return a=a.replace(/^http:/,"https:"),e.length>0&&(0,o.a)(e[0],"params.bid_endpoint_request_url")&&(a=(0,o.a)(e[0],"params.bid_endpoint_request_url").replace(/^http:/,"https:")),e.length>0&&i.push({method:"POST",url:a,options:{contentType:"application/json",withCredentials:!0},data:JSON.stringify(Rb(e,t)),bidderRequest:t}),i},interpretResponse:function(e,t){const i=t.bidderRequest,a=e.body;return a&&a.id===i.bidderRequestId?a.seatbid?a.seatbid.map((e=>function(e,t){return e.bid.map((e=>function(e,t){const i=(0,l.b)(t.bids,(t=>t.bidId===e.impid));let a={};e.ext&&e.ext.meta&&(a=e.ext.meta),e.adomain&&(a.advertiserDomains=e.adomain);let n="banner";e.adm&&e.adm.includes("<VAST")&&(n="video");let r={requestId:e.impid,creativeId:e.crid,cpm:e.price,currency:"USD",netRevenue:!0,ttl:e.exp||v.config.getConfig("insticator.bidTTL")||300,width:e.w,height:e.h,mediaType:n,ad:e.adm,adUnitCode:i.adUnitCode,...Object.keys(a).length>0?{meta:a}:{}};return"video"===n&&(r.vastXml=e.adm),!r.vastUrl&&r.vastXml&&(r.vastUrl="data:text/xml;charset=utf-8;base64,"+window.btoa(r.vastXml.replace(/\\"/g,'"'))),e.ext&&e.ext.dsa&&(r.ext={...r.ext,dsa:e.ext.dsa}),r}(e,t)))}(e,i))).reduce(((e,t)=>e.concat(t)),[]):[]:((0,n.gb)("insticator: response id does not match bidderRequestId"),[])},getUserSyncs:function(e,t){const i=[];for(const e of t)e.body&&e.body.ext&&e.body.ext.sync instanceof Array&&i.push(...e.body.ext.sync);return i}};(0,Ye.b)(Ob),gt.a.add(ft.a.insticator,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{a.outstream&&Ml(e,t.placementId,a.outstream,[{bidder:i.bidder,params:{...i.params,video:{linearity:1,protocols:[1,2,3,7,4,5,6,8]}}}],t.rendering?.outstream),a.banner&&Pl(e,t.placementId,a.banner.sizes,[{bidder:i.bidder,params:i.params}]),a.instream&&Ol(e,t.placementId,a.instream,[{bidder:i.bidder,params:i.params}])})),gt.b.add(ft.a.insticator,Ob.gvlid);const Ub={BIDDER_CODE:"invibes",BID_ENDPOINT:".videostep.com/Bid/VideoAdContent",BID_SUBDOMAIN:"https://bid",SYNC_ENDPOINT:"https://k.r66net.com/GetUserSync",TIME_TO_LIVE:300,DEFAULT_CURRENCY:"EUR",PREBID_VERSION:13,METHOD:"GET",INVIBES_VENDOR_ID:436,USERID_PROVIDERS:["pubcid","pubProvidedId","uid2","zeotapIdPlus","id5id"],META_TAXONOMY:["networkId","networkName","agencyId","agencyName","advertiserId","advertiserName","advertiserDomains","brandId","brandName","primaryCatId","secondaryCatIds","mediaType"],DISABLE_USER_SYNC:!0},Bb=(0,te.d)({bidderCode:Ub.BIDDER_CODE}),Pb={code:Ub.BIDDER_CODE,gvlid:Ub.INVIBES_VENDOR_ID,isBidRequestValid:function(e){return"object"==typeof e.params&&null!=e.params.placementId},buildRequests:function(e,t){t=t||{};const i=[],a=[];let n,r,o,s=Date.now();window.invibes=window.invibes||{},window.invibes.placementIds=window.invibes.placementIds||[],0==Fb&&function(){const{scrollHeight:e}=document.documentElement;if(void 0===jb.originalURL)return void(jb.originalURL=window.location.href);if(void 0===jb.originalScrollHeight)return void(jb.originalScrollHeight=e);const t=window.location.href;e>jb.originalScrollHeight&&jb.originalURL!==t&&(Fb=!0)}(),e.forEach((function(e){e.startTime=(new Date).getTime(),window.invibes.placementIds.includes(e.params.placementId)&&(Vb=!0),window.invibes.placementIds.push(e.params.placementId),i.push(e.params.placementId),a.push(e.adUnitCode),o=o||e.params.domainId,n=n||e.params.customEndpoint,zb=zb||e.params.customUserSync,qb=e?.params?.disableUserSyncs,r=r||e.userId})),jb.optIn=jb.optIn||function(e,t){if(jb.GdprModuleInstalled=!1,jb.UspModuleInstalled=!1,e&&e.vendorData){if(jb.GdprModuleInstalled=!0,jb.gdpr_consent=(i=e.vendorData).purpose&&i.purpose.consents&&null!=i.tcString?i.tcString:i.consentData,!e.vendorData.gdprApplies||e.vendorData.hasGlobalConsent)return Qb(!0),2;let t=function(e){return e.purpose&&e.purpose.consents?e.purpose.consents:e.purposeConsents?e.purposeConsents:null}(e.vendorData);if(null==t)return 0;let a=function(e){return e.purpose&&e.purpose.consents?e.tcfPolicyVersion>=4?11:10:5}(e.vendorData);if(!ef(t,jb.purposes,a))return 0;ef(function(e){return e.purpose&&e.purpose.legitimateInterests?e.purpose.legitimateInterests:null}(e.vendorData),jb.legitimateInterests,a);let n=Ub.INVIBES_VENDOR_ID.toString(10),r=function(e){return e.vendor&&e.vendor.consents?e.vendor.consents:e.vendorConsents?e.vendorConsents:null}(e.vendorData),o=!0===function(e){return e.vendor&&e.vendor.legitimateInterests?e.vendor.legitimateInterests:{}}(e.vendorData)[n];return null==r||null==r[n]?4:!1===r[n]&&!1===o?0:2}var i;return t&&t.length>2&&(jb.UspModuleInstalled=!0,"N"==t[2])?(Qb(!0),2):(Qb(!1),0)}(t.gdprConsent,t.uspConsent),jb.visitId=jb.visitId||Xb();const d=function(){let e={};try{let t=Bb.getDataFromLocalStorage("ivbs");null!=t&&(e=JSON.parse(t))}catch(e){}let t,i=/[\\?&]([^=]+)=([^\\?&#]+)/g;for(;null!=(t=i.exec(window.location.href));)t.index===i.lastIndex&&i.lastIndex++,e[t[1].toLowerCase()]=t[2];return e}();let l=function(e){let t;return e&&Ub.USERID_PROVIDERS.forEach((i=>{e[i]&&(t=t||{},t[i]=e[i])})),t}(r),p={placementIds:i,adUnitCodes:a,auctionStartTime:s,bidVersion:Ub.PREBID_VERSION};l&&(p.userId=l);let c={location:Yb(t),videoAdHtmlId:Xb(),showFallback:"0"===d.advs,ivbsCampIdsLocal:Kb("IvbsCampIdsLocal"),bidParamsJson:JSON.stringify(p),capCounts:Zb(),pcids:Object.keys(jb.pushedCids).join(","),vId:jb.visitId,width:Nb.innerWidth,height:Nb.innerHeight,oi:jb.optIn,kw:tf,purposes:jb.purposes.toString(),li:jb.legitimateInterests.toString(),tc:jb.gdpr_consent,uspc:t.uspConsent,isLocalStorageEnabled:Bb.hasLocalStorage(),preventPageViewEvent:$b,isPlacementRefresh:Vb,isInfiniteScrollPage:Fb};t.refererInfo&&t.refererInfo.ref&&(c.pageReferrer=t.refererInfo.ref.substring(0,300));let m=jb.getCookie("handIid");m&&(c.handIid=m);let u=Kb("ivbsdid");if(!u){let e=jb.getCookie("ivbsdid");if(e)try{let t=JSON.parse(e);u=t.id?t.id:t}catch(e){}}u&&(c.lId=u);const b="videoaddebug,advs,bvci,bvid,istop,trybvid,trybvci".split(",");for(let e in d)if(d.hasOwnProperty(e)){let t=d[e];(b.indexOf(e)>-1||/^vs|^invib/i.test(e))&&(c[e]=t)}let f=function(e,t,i){if(null!=e)return e;if(null!=t)return Gb(t-1e3);if(i.length>0)for(var a=0;a<i.length;a++){const e=Wb(i[a]);if(null!=e)return Gb(e)}return Gb(1)}(n,o,i);return $b=!0,{method:Ub.METHOD,url:f,data:c,options:{withCredentials:!0},bidRequests:e}},interpretResponse:function(e,t){return function(e,t){if(null==t||0===t.length)return(0,n.hb)("Invibes Adapter - No bids have been requested"),[];if(!e)return(0,n.hb)("Invibes Adapter - Bid response is empty"),[];var i;if((e=(e=e.body||e).videoAdContentResult||e).ShouldSetLId&&e.LId&&(jb.optIn&&jb.purposes[0]||!e.PrivacyPolicyRule||!e.TcModel||!e.TcModel.PurposeConsents||(jb.optIn=e.PrivacyPolicyRule,jb.purposes=e.TcModel.PurposeConsents),i=e.LId,jb.optIn&&jb.purposes[0]&&Bb.setDataInLocalStorage("ivbsdid",i)),"object"==typeof jb.bidResponse){if(!0!==e.MultipositionEnabled)return(0,n.hb)("Invibes Adapter - Bid response already received. Invibes only responds to one bid request per user visit"),[];jb.bidResponse.AdPlacements=jb.bidResponse.AdPlacements.concat(e.AdPlacements)}else jb.bidResponse=e;const a=[];for(let i=0;i<t.length;i++){let r=t[i],o=!0===e.UseAdUnitCode?r.params.placementId+"_"+r.adUnitCode:r.params.placementId;if(jb.placementBids.indexOf(o)>-1){(0,n.hb)("Invibes Adapter - Placement was previously bid on "+o);continue}let s=null;if(null!=e.AdPlacements)for(let t=0;t<e.AdPlacements.length;t++){let i=e.AdPlacements[t].BidModel;if(null!=i&&i.PlacementId==o){s=e.AdPlacements[t];break}}else{let t=e.BidModel;null!=t&&t.PlacementId==o&&(s=e)}let d=Lb(r,s,e.MultipositionEnabled,o);null!==d&&(jb.placementBids.push(o),a.push(d))}return a}(e,null!=t?t.bidRequests:null)},getUserSyncs:function(e){if(e.iframeEnabled&&!(null==qb||null==qb?Ub.DISABLE_USER_SYNC:qb))return{type:"iframe",url:function(){let e=zb||Ub.SYNC_ENDPOINT;e+="?visitId="+jb.visitId,e+="&optIn="+jb.optIn;let t=Kb("ivbsdid");if(!t){let e=jb.getCookie("ivbsdid");if(e)try{let i=JSON.parse(e);t=i.id?i.id:i}catch(e){}}return t&&(e+="&ivbsdid="+encodeURIComponent(t)),e}()}}};(0,Ye.b)(Pb);const Nb=function(){let e=window;try{for(;top!==e;)e.parent.location.href.length&&(e=e.parent)}catch(e){}return e}();let jb=Nb.invibes=Nb.invibes||{};jb.purposes=jb.purposes||[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],jb.legitimateInterests=jb.legitimateInterests||[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],jb.placementBids=jb.placementBids||[],jb.pushedCids=jb.pushedCids||{};let zb,qb,$b=!1,Fb=!1,Vb=!1;function Lb(e,t,i,a){if(null===t||null===t.BidModel)return(0,n.hb)("Invibes Adapter - Placement not configured for bidding "+a),null;let r=t.BidModel,o=t.Ads;if(!Array.isArray(o)||o.length<1)return null!=t.AdReason&&(0,n.hb)("Invibes Adapter - No ads "+t.AdReason),(0,n.hb)("Invibes Adapter - No ads available"),null;let s=o[0],d=function(e){let t=[0,0];for(let i=0;i<e.length;i++)e[i][0]*e[i][1]>t[0]*t[1]&&(t=e[i]);return t}(e.sizes);if(!0===i&&Object.keys(jb.pushedCids).length>0){if(null!=s.Blcids&&s.Blcids.length>0&&Object.keys(jb.pushedCids).some((function(e){return s.Blcids.indexOf(parseInt(e))>-1})))return(0,n.hb)("Invibes Adapter - Ad blacklists pushed ids"),null;if(Object.keys(jb.pushedCids).some((function(e){return jb.pushedCids[e].indexOf(s.Cid)>-1})))return(0,n.hb)("Invibes Adapter - Ad is blacklisted"),null}jb.pushedCids[s.Cid]=s.Blcids||[];const l=Date.now();return(0,n.hb)("Bid auction started at "+r.AuctionStartTime+" . Invibes registered the bid at "+l+" ; bid request took a total of "+(l-r.AuctionStartTime)+" ms."),{requestId:e.bidId,cpm:s.BidPrice,width:r.Width||d[0],height:r.Height||d[1],creativeId:s.VideoExposedId,currency:r.Currency||Ub.DEFAULT_CURRENCY,netRevenue:!0,ttl:Ub.TIME_TO_LIVE,ad:Jb(r),meta:Hb(r.Meta)}}function Gb(e){return e<2?Ub.BID_SUBDOMAIN+Ub.BID_ENDPOINT:Ub.BID_SUBDOMAIN+e+Ub.BID_ENDPOINT}function Wb(e){if(null==e)return null;var t=/_ivbs([0-9]+)/g.exec(e);return null!=t&&null!=t[1]?parseInt(t[1]):null}function Hb(e){var t={};if(null!=e)for(let i=0;i<Ub.META_TAXONOMY.length;i++)e.hasOwnProperty(Ub.META_TAXONOMY[i])&&(t[Ub.META_TAXONOMY[i]]=e[Ub.META_TAXONOMY[i]]);return t}function Xb(){return"10000000100040008000100000000000".replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}function Yb(e){return e.refererInfo.page.substring(0,300)}function Jb(e){return"<html>\n        <head><script type='text/javascript'>inDapIF=true;<\/script></head>\n          <body style='margin : 0; padding: 0;'>\n          creativeHtml\n          </body>\n        </html>".replace("creativeHtml",e.CreativeHtml)}function Kb(e){if(!jb.GdprModuleInstalled&&!jb.UspModuleInstalled||jb.optIn&&jb.purposes[0])return Bb.getDataFromLocalStorage(e)||""}function Zb(){const e="ivvcap";if(!jb.optIn||!jb.purposes[0])return"";let t=function(){try{return JSON.parse(Bb.getDataFromLocalStorage(e))||{}}catch(e){return{}}};return function(){!function(){let i=(new Date).getTime(),a=t(),n=!1;Object.keys(a).forEach((function(e){a[e][1]<=i&&(delete a[e],n=!0)})),n&&function(t){Bb.setDataInLocalStorage(e,JSON.stringify(t))}(a)}();let i=t();return Object.keys(i).filter((function(e){return i.hasOwnProperty(e)})).sort().map((function(e){return[e,i[e][0]]}))}().map((function(e){return e.join("=")})).join(",")}function Qb(e){var t;for(t=0;t<jb.purposes.length;++t)jb.purposes[t]=e;for(t=0;t<jb.legitimateInterests.length;++t)jb.legitimateInterests[t]=e}function ef(e,t,i){if(e instanceof Array){for(let a=0;a<i&&a<e.length;a++)t[a]=!(!1===e[a]||"false"===e[a]||null==e[a]);return!0}if("object"==typeof e&&null!==e){let a=0;for(let n in e){if(a===i)break;if(e.hasOwnProperty(n)){let i=parseInt(n);isNaN(i)?t[a]=!(!1===e[n]||"false"===e[n]||null==e[n]):t[i-1]=!(!1===e[n]||"false"===e[n]||null==e[n]),a++}}return!0}return!1}jb.Uid={generate:function(){let e=parseInt("zzzzzz",36),t=function(){return Math.floor(Math.random()*e).toString(36)};return t()+t()}},jb.getCookie=function(e){if(Bb.cookiesAreEnabled()&&(!jb.GdprModuleInstalled&&!jb.UspModuleInstalled||jb.optIn&&jb.purposes[0]))return Bb.getCookie(e)};let tf=function(){let e=document.getElementsByTagName("head")[0],t=e?e.getElementsByTagName("meta"):[];function i(e,t){let i=e.replace(/[<>~|\\"`!@#$%^&*()=+?]/g,""),a=i.split(/[\s,;.:]+/).filter((function(e,t,i){return""!==e&&i.indexOf(e)===t}));i="";for(let e=0;e<a.length;e++){if(i+=a[e],i.length>=t)return i;e<a.length-1&&(i+=",")}return i}function a(e,a,n){e=e||"keywords",a=a||100;let r=n=n||"";for(let o=0;o<t.length;o++){if(t[o].name&&t[o].name.toLowerCase()===e.toLowerCase())return i(n+","+t[o].content||"",a);t[o].name&&t[o].name.toLowerCase().indexOf(e.toLowerCase())>-1&&(r=n+","+t[o].content||"")}return i(r,a)}let n=a("keywords",300);return(!n||n.length<292)&&(n=a("description",300,n),(!n||n.length<292)&&(r=(r=300)||300,n=i((n||"")+","+((document.title||e)&&e.getElementsByTagName("title")[0]?e.getElementsByTagName("title")[0].innerHTML:""),r))),n;var r}();gt.a.add(ft.a.Invibes,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{a.outstream&&Pl(e,t.placementId,[[1,1]],[{bidder:i.bidder,params:i.params}],{displayFormat:wa.a.outstream})})),gt.b.add(ft.a.Invibes,Pb.gvlid);const af=/^[a-z0-9.+-]+:/i,nf=e=>{if(!(e.requestId&&e.cpm&&e.creativeId&&e.ttl&&e.currency))return!1;switch(e.mediaType){case D.b:return Boolean(e.width&&e.height&&e.ad);case D.d:return Boolean(e.vastUrl||e.vastXml);case D.c:return Boolean(e.native&&e.native.impressionTrackers&&e.native.impressionTrackers.length);default:return!1}},rf=(e,t,i)=>{const{placementId:a,endpointId:n}=e.params;a?(i.placementId=a,i.type="publisher"):n&&(i.endpointId=n,i.type="network")},of=function({addtlBidValidation:e=(()=>!0)}={}){return function(t){let i=[];for(let a=0;a<t.body.length;a++){let n=t.body[a];if(nf(n)&&e(n)){const e=n.adomain&&n.adomain.length?n.adomain:[];n.meta={...n.meta,advertiserDomains:e},i.push(n)}}return i}}(),sf=e=>(t,i)=>{const a=e?.addPlacementType??rf,n=(e=>{const{bidId:t,mediaTypes:i,transactionId:a,userIdAsEids:n}=e,r=e.schain||{},o=(e=>{try{return e.getFloor({currency:"USD",mediaType:"*",size:"*"}).floor}catch(e){return 0}})(e),s={bidId:t,schain:r,bidfloor:o};return i&&i[D.b]?(s.adFormat=D.b,s.sizes=i[D.b].sizes):i&&i[D.d]?(s.adFormat=D.d,s.playerSize=i[D.d].playerSize,s.minduration=i[D.d].minduration,s.maxduration=i[D.d].maxduration,s.mimes=i[D.d].mimes,s.protocols=i[D.d].protocols,s.startdelay=i[D.d].startdelay,s.placement=i[D.d].placement,s.plcmt=i[D.d].plcmt,s.skip=i[D.d].skip,s.skipafter=i[D.d].skipafter,s.minbitrate=i[D.d].minbitrate,s.maxbitrate=i[D.d].maxbitrate,s.delivery=i[D.d].delivery,s.playbackmethod=i[D.d].playbackmethod,s.api=i[D.d].api,s.linearity=i[D.d].linearity):i&&i[D.c]&&(s.native=i[D.c],s.adFormat=D.c),a&&(s.ext=s.ext||{},s.ext.tid=a),n&&n.length&&(s.eids=n),s})(t);return a(t,i,n),e?.addCustomFieldsToPlacement&&e.addCustomFieldsToPlacement(t,i,n),n},df={code:"iqzone",supportedMediaTypes:[D.b,D.d,D.c],isBidRequestValid:((e=["placementId","endpointId"],t)=>(i={})=>{const{params:a,bidId:n,mediaTypes:r}=i;let o=Boolean(n&&a&&((e,t,i="some")=>{for(let a=0;a<e.length;a++){const n=t[e[a]];if("some"===i&&n)return!0;if("every"===i&&!n)return!1}return"every"===i})(e,a,t));return o=r&&r[D.b]?o&&Boolean(r[D.b]&&r[D.b].sizes):r&&r[D.d]?o&&Boolean(r[D.d]&&r[D.d].playerSize):!(!r||!r[D.c])&&o&&Boolean(r[D.c]),o})(),buildRequests:(e=[],t={})=>(e=>{const{adUrl:t,validBidRequests:i,bidderRequest:a}=e,n=e.placementProcessingFunction||sf(),r=(0,o.a)(a,"ortb2.device"),s=(0,o.a)(a,"refererInfo.page",""),d=af.exec(s),l=d?.[0],p=[],c={deviceWidth:r?.w||0,deviceHeight:r?.h||0,language:r?.language?.split("-")[0]||"",secure:"https:"===l?1:0,host:(0,o.a)(a,"refererInfo.domain",""),page:s,placements:p,coppa:(0,o.a)(a,"ortb2.regs.coppa")?1:0,tmax:a.timeout};a.uspConsent&&(c.ccpa=a.uspConsent),a.gdprConsent&&(c.gdpr={consentString:a.gdprConsent.consentString}),a.gppConsent?(c.gpp=a.gppConsent.gppString,c.gpp_sid=a.gppConsent.applicableSections):a.ortb2?.regs?.gpp&&(c.gpp=a.ortb2.regs.gpp,c.gpp_sid=a.ortb2.regs.gpp_sid),a?.ortb2?.device&&(c.device=a.ortb2.device);const m=i.length;for(let e=0;e<m;e++){const t=i[e];p.push(n(t,a))}return{method:"POST",url:t,data:c}})({adUrl:"https://smartssp-us-east.iqzone.com/pbjs",validBidRequests:e,bidderRequest:t,placementProcessingFunction:sf()}),interpretResponse:of,getUserSyncs:(e,t,i,a,n)=>{const r=e.iframeEnabled?"iframe":"image";let o=`https://cs.smartssp.iqzone.com/${r}?pbjs=1`;return i&&i.consentString&&("boolean"==typeof i.gdprApplies?o+=`&gdpr=${Number(i.gdprApplies)}&gdpr_consent=${i.consentString}`:o+=`&gdpr=0&gdpr_consent=${i.consentString}`),a&&a.consentString&&(o+=`&ccpa_consent=${a.consentString}`),n?.gppString&&n?.applicableSections?.length&&(o+="&gpp="+n.gppString,o+="&gpp_sid="+n.applicableSections.join(",")),o+="&coppa="+(v.config.getConfig("coppa")?1:0),[{type:r,url:o}]}};(0,Ye.b)(df),gt.a.add(ft.a.iqzone,bu);const lf="mediafuse",pf=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],cf=["minduration","maxduration","skip","skipafter","playbackmethod","api"],mf=["age","externalUid","segments","gender","dnt","language"],uf=["device_id"],bf=["enabled","dongle","member_id","debug_timeout"],ff={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},gf={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},yf=/\/\/cdn\.adnxs\.com\/v|\/\/cdn\.adnxs\-simple\.com\/v/,hf=(0,te.d)({bidderCode:lf}),vf={code:lf,gvlid:32,supportedMediaTypes:[D.b,D.d,D.c],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,t){const i=(e=(0,s.b)(e)).map(If),a=(0,l.b)(e,xf);let r={};!0===v.config.getConfig("coppa")&&(r={coppa:!0}),a&&Object.keys(a.params.user).filter((e=>(0,l.c)(mf,e))).forEach((e=>{let t=Dc(e);if("segments"===e&&(0,n.V)(a.params.user[e])){let i=[];a.params.user[e].forEach((e=>{(0,n.ab)(e)?i.push({id:e}):(0,n.bb)(e)&&i.push(e)})),r[t]=i}else"segments"!==e&&(r[t]=a.params.user[e])}));const d=(0,l.b)(e,Df);let p;d&&d.params&&d.params.app&&(p={},Object.keys(d.params.app).filter((e=>(0,l.c)(uf,e))).forEach((e=>p[e]=d.params.app[e])));const c=(0,l.b)(e,Af);let m;c&&c.params&&d.params.app&&d.params.app.id&&(m={appid:c.params.app.id});let u={},b={};const f=hf.getCookie("apn_prebid_debug")||null;if(f)try{u=JSON.parse(f)}catch(e){(0,n.gb)("MediaFuse Debug Auction Cookie Error:\n\n"+e)}else{const t=(0,l.b)(e,Sf);t&&t.debug&&(u=t.debug)}u&&u.enabled&&Object.keys(u).filter((e=>(0,l.c)(bf,e))).forEach((e=>{b[e]=u[e]}));const g=(0,l.b)(e,Tf),y=g?parseInt(g.params.member,10):0,h=e[0].schain,_=(0,l.b)(e,Rf),I={tags:[...i],user:r,sdk:{source:"pbjs",version:"9.16.0"},schain:h};_&&(I.iab_support={omidpn:"Mediafuse",omidpv:"9.16.0"}),y>0&&(I.member_id=y),d&&(I.device=p),c&&(I.app=m);let w=v.config.getConfig("mediafuseAuctionKeywords");if(I.keywords=Tc(t?.ortb2,w),v.config.getConfig("adpod.brandCategoryExclusion")&&(I.brand_category_uniqueness=!0),b.enabled&&(I.debug=b,(0,n.hb)("MediaFuse Debug Auction Settings:\n\n"+JSON.stringify(b,null,4))),t&&t.gdprConsent&&(I.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies},t.gdprConsent.addtlConsent&&-1!==t.gdprConsent.addtlConsent.indexOf("~"))){let e=t.gdprConsent.addtlConsent,i=e.substring(e.indexOf("~")+1);I.gdpr_consent.addtl_consent=i.split(".").map((e=>parseInt(e,10)))}if(t&&t.uspConsent&&(I.us_privacy=t.uspConsent),t&&t.refererInfo){let e={rd_ref:encodeURIComponent(t.refererInfo.topmostLocation),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map((e=>encodeURIComponent(e))).join(",")};I.referrer_detection=e}if((0,l.b)(e,Cf)&&e.filter(Cf).forEach((e=>{const t=function(e,t){const{durationRangeSec:i,requireExactDuration:a}=t.mediaTypes.video,n=function(e){const{adPodDurationSec:t,durationRangeSec:i,requireExactDuration:a}=e,n=Math.min(...i),r=Math.floor(t/n);return a?Math.max(r,i.length):r}(t.mediaTypes.video),r=Math.max(...i);let o=Ac(...e.filter((e=>e.uuid===t.bidId)),n);if(a){const e=Sc(o,Math.ceil(n/i.length));i.forEach(((t,i)=>{e[i].map((e=>{kf(e,"minduration",t),kf(e,"maxduration",t)}))}))}else o.map((e=>kf(e,"maxduration",r)));return o}(i,e),a=I.tags.filter((t=>t.uuid!==e.bidId));I.tags=[...a,...t]})),e[0].userId){let t=[];Of(t,(0,o.a)(e[0],"userId.criteoId"),"criteo.com",null),Of(t,(0,o.a)(e[0],"userId.netId"),"netid.de",null),Of(t,(0,o.a)(e[0],"userId.idl_env"),"liveramp.com",null),Of(t,(0,o.a)(e[0],"userId.tdid"),"adserver.org","TDID"),Of(t,(0,o.a)(e[0],"userId.uid2.id"),"uidapi.com","UID2"),t.length&&(I.eids=t)}i[0].publisher_id&&(I.publisher_id=i[0].publisher_id);const x=function(e,t){let i=[],a={withCredentials:!0},r="https://ib.adnxs.com/ut/v3/prebid";if(fc(t?.gdprConsent)||(r="https://ib.adnxs-simple.com/ut/v3/prebid"),"TRUE"!==(0,n.D)("apn_test").toUpperCase()&&!0!==v.config.getConfig("apn_test")||(a.customHeaders={"X-Is-Test":1}),e.tags.length>15){const o=(0,n.p)(e);Sc(e.tags,15).forEach((e=>{o.tags=e;const n=JSON.stringify(o);i.push({method:"POST",url:r,data:n,bidderRequest:t,options:a})}))}else{const n=JSON.stringify(e);i={method:"POST",url:r,data:n,bidderRequest:t,options:a}}return i}(I,t);return x},interpretResponse:function(e,{bidderRequest:t}){e=e.body;const i=[];if(!e||e.error){let a=`in response for ${t.bidderCode} adapter`;return e&&e.error&&(a+=`: ${e.error}`),(0,n.gb)(a),i}if(e.tags&&e.tags.forEach((e=>{const a=(r=e)&&r.ads&&r.ads.length&&(0,l.b)(r.ads,(e=>e.rtb));var r;if(a&&(!0===w.a.get(t.bidderCode,"allowZeroCpmBids")?a.cpm>=0:a.cpm>0)&&(0,l.c)(this.supportedMediaTypes,a.ad_type)){const r=function(e,t,i){const a=(0,n.y)(e.uuid,[i]),r={requestId:e.uuid,cpm:t.cpm,creativeId:t.creative_id,dealId:t.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:a.adUnitCode,mediafuse:{buyerMemberId:t.buyer_member_id,dealPriority:t.deal_priority,dealCode:t.deal_code}};if(t.adomain&&(r.meta=Object.assign({},r.meta,{advertiserDomains:[]})),t.advertiser_id&&(r.meta=Object.assign({},r.meta,{advertiserId:t.advertiser_id})),t.buyer_member_id&&(r.meta=Object.assign({},r.meta,{dchain:function(e){return{ver:"1.0",complete:0,nodes:[{bsid:e.buyer_member_id.toString()}]}}(t)})),t.brand_id&&(r.meta=Object.assign({},r.meta,{brandId:t.brand_id})),t.rtb.video)switch(Object.assign(r,{width:t.rtb.video.player_width,height:t.rtb.video.player_height,vastImpUrl:t.notify_url,ttl:3600}),(0,o.a)(a,"mediaTypes.video.context")){case D.a:const a=gc[t.brand_category_id]?gc[t.brand_category_id]:null;r.meta=Object.assign({},r.meta,{primaryCatId:a});const s=t.deal_priority;r.video={context:D.a,durationSeconds:Math.floor(t.rtb.video.duration_ms/1e3),dealTier:s},r.vastUrl=t.rtb.video.asset_url;break;case Se.c:if(r.adResponse=e,r.adResponse.ad=r.adResponse.ads[0],r.adResponse.ad.video=r.adResponse.ad.rtb.video,r.vastXml=t.rtb.video.content,t.renderer_url){const a=(0,l.b)(i.bids,(t=>t.bidId===e.uuid)),s=(0,o.a)(a,"renderer.options");r.renderer=function(e,t,i={}){const a=zl.a.install({id:t.renderer_id,url:t.renderer_url,config:i,loaded:!1,adUnitCode:e});try{a.setRender(Ef)}catch(e){(0,n.jb)("Prebid Error calling setRender on renderer",e)}return a.setEventHandlers({impression:()=>(0,n.ib)("MediaFuse outstream video impression event"),loaded:()=>(0,n.ib)("MediaFuse outstream video loaded event"),ended:()=>{(0,n.ib)("MediaFuse outstream renderer video event"),document.querySelector(`#${e}`).style.display="none"}}),a}(r.adUnitCode,t,s)}break;case Se.a:r.vastUrl=t.notify_url+"&redir="+encodeURIComponent(t.rtb.video.asset_url)}else if(t.rtb[D.c]){const e=t.rtb[D.c];let i=t.viewability.config.replace("src=","data-src="),a=e.javascript_trackers;null==a?a=i:(0,n.eb)(a)?a=[a,i]:a.push(i),r[D.c]={title:e.title,body:e.desc,body2:e.desc2,cta:e.ctatext,rating:e.rating,sponsoredBy:e.sponsored,privacyLink:e.privacy_link,address:e.address,downloads:e.downloads,likes:e.likes,phone:e.phone,price:e.price,salePrice:e.saleprice,clickUrl:e.link.url,displayUrl:e.displayurl,clickTrackers:e.link.click_trackers,impressionTrackers:e.impression_trackers,javascriptTrackers:a},e.main_img&&(r.native.image={url:e.main_img.url,height:e.main_img.height,width:e.main_img.width}),e.icon&&(r.native.icon={url:e.icon.url,height:e.icon.height,width:e.icon.width})}else{Object.assign(r,{width:t.rtb.banner.width,height:t.rtb.banner.height,ad:t.rtb.banner.content});try{if(t.rtb.trackers)for(let e=0;e<t.rtb.trackers[0].impression_urls.length;e++){const i=t.rtb.trackers[0].impression_urls[e],a=(0,n.m)(i);r.ad+=a}}catch(e){(0,n.gb)("Error appending tracking pixel",e)}}return r}(e,a,t);r.mediaType=function(e){const t=e.ad_type;return t===D.d?D.d:t===D.c?D.c:D.b}(a),i.push(r)}})),e.debug&&e.debug.debug_info){let t="MediaFuse Debug Auction for Prebid\n\n"+e.debug.debug_info;t=t.replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),(0,n.ib)(t)}return i},getUserSyncs:function(e,t,i){if(e.iframeEnabled&&fc({gdprConsent:i}))return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},onBidWon:function(e){e.native&&function(e){let t=function(e){let t;if((0,n.eb)(e)&&_f(e))t=e;else if((0,n.V)(e))for(let i=0;i<e.length;i++){let a=e[i];_f(a)&&(t=a)}return t}(e.native.javascriptTrackers);if(t){let i="pbjs_adid="+e.adId+";pbjs_auc="+e.adUnitCode,a=function(e){let t=e.indexOf('src="')+5,i=e.indexOf('"',t);return e.substring(t,i)}(t),n=a.replace("dom_id=%native_dom_id%",i),r=document.getElementsByTagName("iframe"),o=!1;for(let e=0;e<r.length&&!o;e++){let t=r[e];try{let e=t.contentDocument||t.contentWindow.document;if(e){let t=e.getElementsByTagName("script");for(let e=0;e<t.length&&!o;e++){let i=t[e];i.getAttribute("data-src")==a&&(i.setAttribute("src",n),i.setAttribute("data-src",""),i.removeAttribute&&i.removeAttribute("data-src"),o=!0)}}}catch(e){if(!(e instanceof DOMException&&"SecurityError"===e.name))throw e}}}}(e)}};function _f(e){let t=e.match(yf),i=null!=t&&t.length>=1,a=e.match("trk.js"),n=null!=a&&a.length>=1;return e.startsWith("<script")&&n&&i}function If(e){const t={};t.sizes=wf(e.sizes),t.primary_size=t.sizes[0],t.ad_types=[],t.uuid=e.bidId,e.params.placementId?t.id=parseInt(e.params.placementId,10):t.code=e.params.invCode,t.allow_smaller_sizes=e.params.allowSmallerSizes||!1,t.use_pmt_rule=e.params.usePaymentRule||!1,t.prebid=!0,t.disable_psa=!0;let i=function(e){if(!(0,n.Z)(e.getFloor))return e.params.reserve?e.params.reserve:null;let t=e.getFloor({currency:"USD",mediaType:"*",size:"*"});return(0,n.bb)(t)&&!isNaN(t.floor)&&"USD"===t.currency?t.floor:null}(e);i&&(t.reserve=i),e.params.position&&(t.position={above:1,below:2}[e.params.position]||0),e.params.trafficSourceCode&&(t.traffic_source_code=e.params.trafficSourceCode),e.params.privateSizes&&(t.private_sizes=wf(e.params.privateSizes)),e.params.supplyType&&(t.supply_type=e.params.supplyType),e.params.pubClick&&(t.pubclick=e.params.pubClick),e.params.extInvCode&&(t.ext_inv_code=e.params.extInvCode),e.params.publisherId&&(t.publisher_id=parseInt(e.params.publisherId,10)),e.params.externalImpId&&(t.external_imp_id=e.params.externalImpId),(0,n.Y)(e.params.keywords)||(t.keywords=xc(e.params.keywords));let a=(0,o.a)(e,"ortb2Imp.ext.gpid")||(0,o.a)(e,"ortb2Imp.ext.data.pbadslot");if(a&&(t.gpid=a),(e.mediaType===D.c||(0,o.a)(e,`mediaTypes.${D.c}`))&&(t.ad_types.push(D.c),0===t.sizes.length&&(t.sizes=wf([1,1])),e.nativeParams)){const i=function(e){const t={};return Object.keys(e).forEach((i=>{const a=gf[i]&&gf[i].serverName||gf[i]||i,r=gf[i]&&gf[i].requiredParams;if(t[a]=Object.assign({},r,e[i]),(a===gf.image.serverName||a===gf.icon.serverName)&&t[a].sizes){let e=t[a].sizes;((0,n.U)(e)||(0,n.V)(e)&&e.length>0&&e.every((e=>(0,n.U)(e))))&&(t[a].sizes=wf(t[a].sizes))}a===gf.privacyLink&&(t.privacy_supported=!0)})),t}(e.nativeParams);t[D.c]={layouts:[i]}}const r=(0,o.a)(e,`mediaTypes.${D.d}`),s=(0,o.a)(e,"mediaTypes.video.context");return t.hb_source=r&&"adpod"===s?7:1,(e.mediaType===D.d||r)&&t.ad_types.push(D.d),(e.mediaType===D.d||r&&"outstream"!==s)&&(t.require_asset_url=!0),e.params.video&&(t.video={},Object.keys(e.params.video).filter((e=>(0,l.c)(pf,e))).forEach((i=>{switch(i){case"context":case"playback_method":let a=e.params.video[i];a=(0,n.V)(a)?a[0]:a,t.video[i]=ff[i][a];break;case"frameworks":break;default:t.video[i]=e.params.video[i]}})),e.params.video.frameworks&&(0,n.V)(e.params.video.frameworks)&&(t.video_frameworks=e.params.video.frameworks)),r&&(t.video=t.video||{},Object.keys(r).filter((e=>(0,l.c)(cf,e))).forEach((e=>{switch(e){case"minduration":case"maxduration":"number"!=typeof t.video[e]&&(t.video[e]=r[e]);break;case"skip":"boolean"!=typeof t.video.skippable&&(t.video.skippable=1===r[e]);break;case"skipafter":"number"!=typeof t.video.skipoffset&&(t.video.skippoffset=r[e]);break;case"playbackmethod":if("number"!=typeof t.video.playback_method){let i=r[e];i=(0,n.V)(i)?i[0]:i,i>=1&&i<=4&&(t.video.playback_method=i)}break;case"api":if(!t.video_frameworks&&(0,n.V)(r[e])){let i=r[e].map((e=>{let t=4===e?5:5===e?4:e;if(t>=1&&t<=5)return t})).filter((e=>e));t.video_frameworks=i}}}))),e.renderer&&(t.video=Object.assign({},t.video,{custom_renderer_present:!0})),e.params.frameworks&&(0,n.V)(e.params.frameworks)&&(t.banner_frameworks=e.params.frameworks),e.mediaTypes?.banner&&t.ad_types.push(D.b),0===t.ad_types.length&&delete t.ad_types,t}function wf(e){let t=[],i={};if((0,n.V)(e)&&2===e.length&&!(0,n.V)(e[0]))i.width=parseInt(e[0],10),i.height=parseInt(e[1],10),t.push(i);else if("object"==typeof e)for(let a=0;a<e.length;a++){let n=e[a];i={},i.width=parseInt(n[0],10),i.height=parseInt(n[1],10),t.push(i)}return t}function xf(e){return!!e.params.user}function Tf(e){return!!parseInt(e.params.member,10)}function Df(e){if(e.params)return!!e.params.app}function Af(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function Sf(e){return!!e.debug}function Cf(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===D.a}function Rf(e){let t=!1;const i=e.params,a=e.params.video;return i.frameworks&&(0,n.V)(i.frameworks)&&(t=(0,l.c)(e.params.frameworks,6)),!t&&a&&a.frameworks&&(0,n.V)(a.frameworks)&&(t=(0,l.c)(e.params.video.frameworks,6)),t}function kf(e,t,i){(0,n.Y)(e.video)&&(e.video={}),e.video[t]=i}function Ef(e){var t,i;t=e.adUnitCode,(i=document.getElementById(t).querySelectorAll("div[id^='google_ads']"))[0]&&i[0].style.setProperty("display","none"),function(e){try{const t=document.getElementById(e).querySelectorAll("script[id^='sas_script']");t[0].nextSibling&&"iframe"===t[0].nextSibling.localName&&t[0].nextSibling.style.setProperty("display","none")}catch(e){}}(e.adUnitCode),e.renderer.push((()=>{window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},Mf.bind(null,e))}))}function Mf(e,t,i){e.renderer.handleVideoEvent({id:t,eventName:i})}function Of(e,t,i,a){return t&&(a?e.push({source:i,id:t,rti_partner:a}):e.push({source:i,id:t})),e}(0,Ye.b)(vf),gt.a.add(ft.a.mediafuse,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=Nl(a);Pl(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}a.outstream&&Ml(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream)})),gt.b.add(ft.a.mediafuse,vf.gvlid);const Uf="medianet",Bf="trustedstack";let Pf;window.mnet=window.mnet||{},window.mnet.queue=window.mnet.queue||[];const Nf=[{code:Bf,gvlid:1288}];function jf(){try{return window.top.document.referrer}catch(e){return document.referrer}}function zf(e,t){const i=t.refererInfo;let a={domain:(e=e||{}).domain||i.domain,page:e.page||i.page,ref:e.ref||jf(),topMostLocation:i.topmostLocation,isTop:e.isTop||i.reachedTop};return Object.assign(a,function(){if(Pf)return Pf;let e=qf('link[rel="canonical"]',"href"),t=qf('meta[property="og:url"]',"content"),i=qf('meta[name="twitter:url"]',"content");return Pf=Object.assign({},e&&{canonical_url:e},t&&{og_url:t},i&&{twitter_url:i}),Pf}())}function qf(e,t){let i=function(e,t){try{let i=(0,n.K)().document.querySelector(e);if(null!==i&&i[t])return i[t]}catch(e){}}(e,t);return i&&function(e){let t=(0,n.K)().document.createElement("a");return t.href=e,t.href}(i)}function $f(e,t){return e.filter((e=>e.type===t))}function Ff(e){return{w:parseInt(e[0],10),h:parseInt(e[1],10)}}function Vf(e,t){const i=(0,o.a)(e,"params"),r=(0,o.a)(t,"gdprConsent"),s=(0,o.a)(t,"uspConsent"),d=(0,o.a)(e,"userId"),l=(0,o.a)(e,"schain")||{},p=Kf.getWindowSize(),c=!(!r||!r.gdprApplies),m=!!s,u=!!v.config.getConfig("coppa");return Object.assign({},{customer_id:i.cid},{prebid_version:"v9.16.0"},{gdpr_applies:c},c&&{gdpr_consent_string:r.consentString||""},{usp_applies:m},m&&{usp_consent_string:s||""},{coppa_applies:u},-1!==p.w&&-1!==p.h&&{screen:p},d&&{user_id:d},(0,a.a)().medianetGlobals.analyticsEnabled&&{analytics:!0},!(0,n.Y)(l)&&{schain:l})}function Lf(e,t,i,a){let n=e.getFloor({currency:"USD",mediaType:t,size:i});i.length>1&&(n.size=i),n.mediaType=t,a.push(n)}function Gf(e){return e.reduce(((e,t)=>t.h*t.w<e.h*e.w?t:e))}function Wf(e,t){let i=t.w*t.h,a=Kf.getWindowSize(),n={x:e.x+t.w,y:e.y+t.h};return 0===i||-1===a.w||-1===a.h?0:(r=e,o=n,s={x:0,y:0},d={x:a.w,y:a.h},(r.x>d.x||o.x<s.x||r.y>d.y||o.y<s.y?0:(Math.min(o.x,d.x)-Math.max(r.x,s.x))*(Math.min(o.y,d.y)-Math.max(r.y,s.y)))/i);var r,o,s,d}function Hf(e,t){const i=e.toLowerCase().includes(Bf.toLowerCase());return(e===Bf||i?"https://prebid.trustedstack.com/rtb/trustedstack":"https://prebid.media.net/rtb/prebid")+"?cid="+encodeURIComponent(t)}function Xf(e,t){const i=(0,n.p)(e),a=(0,o.a)(t,"0.userIdAsEids");return a&&(0,r.a)(i,"user.ext.eids",a),i}function Yf(e,t){const i=function(e,t){const i={};return(0,n.V)(t)||(t=[]),t.forEach((e=>{let t=function(e){const t={};t.acid=e.auctionId||"",t.crid=(0,o.a)(e,"params.crid")||(0,o.a)(e,"params.0.crid")||e.adUnitCode||"",t.ext=(0,n.vb)(e.ext)||"";const i=(0,n.p)(e);return delete i.ad,delete i.vastXml,t.rawobj=(0,n.vb)(i),t}(e);Object.keys(t).forEach((e=>{i[e]=i[e]||[],i[e].push(encodeURIComponent(t[e]))}))})),Object.assign({},function(e){const t={},i=(0,ne.a)();return t.logid="kfk",t.evtid="projectevents",t.project="prebid",t.pbver="9.16.0",t.cid=(0,a.a)().medianetGlobals.cid||"",t.dn=encodeURIComponent(i.domain||""),t.requrl=encodeURIComponent(i.page||""),t.event=e.name||"",t.value=e.value||"",t.rd=e.related_data||"",t}(e),i)}(e,t);var r;r=(0,n.v)(i),(0,Vi.b)("https://navvy.media.net/log",{success:()=>{},error:()=>{}},r,{method:"POST",keepalive:!0})}function Jf(e){const t=(0,o.a)(e,"context")||"",i=(0,o.a)(e,"vto");"outstream"==t&&i&&(e.renderer=function(){const e=zl.a.install({url:"https://prebid.media.net/video/bundle.js"});return e.setRender((function(e){window.mnet.queue.push((function(){const t={width:e.width,height:e.height,vastTimeout:e.vto,maxAllowedVastTagRedirects:e.mavtr,allowVpaid:e.avp,autoPlay:e.ap,preload:e.pl,mute:e.mt},i=e.dfp_id,a=(0,tl.a)(i).divId||i;window.mnet.mediaNetoutstreamPlayer(e,a,t)}))})),e}())}(0,a.a)().medianetGlobals=(0,a.a)().medianetGlobals||{};const Kf={code:Uf,gvlid:142,aliases:Nf,supportedMediaTypes:[D.b,D.c,D.d],isBidRequestValid:function(e){return e.params?e.params.cid&&(0,n.eb)(e.params.cid)&&!(0,n.X)(e.params.cid)?(Object.assign((0,a.a)().medianetGlobals,!(0,a.a)().medianetGlobals.cid&&{cid:e.params.cid}),!0):((0,n.gb)(`${Uf} : cid should be a string`),!1):((0,n.gb)(`${Uf} : Missing bid parameters`),!1)},buildRequests:function(e,t){let i=function(e,t){return{site:zf(e[0].params.site,t),ext:Vf(e[0],t),id:e[0].auctionId,imp:e.map((e=>function(e,t){let i={id:e.bidId,transactionId:e.ortb2Imp?.ext?.tid,ext:{dfp_id:e.adUnitCode,display_count:e.bidRequestsCount},all:e.params};e.ortb2Imp&&(i.ortb2Imp=e.ortb2Imp);let a=(0,o.a)(e,"mediaTypes.banner.sizes")||[];const r=(0,o.a)(e,"mediaTypes.video")||{},s=(0,o.a)(e,"params.video")||{},d=Object.assign({},s,r);var l;if((0,n.Y)(d)||(i.video=d),a.length>0&&(i.banner=(l=a,(0,n.V)(l)&&2===l.length&&!(0,n.V)(l[0])?[Ff(l)]:l.map((e=>Ff(e))))),e.nativeParams)try{i.native=JSON.stringify(e.nativeParams)}catch(e){(0,n.gb)(`${Uf} : Incorrect JSON : bidRequest.nativeParams`)}e.params.crid&&(i.tagid=e.params.crid.toString());let p=parseFloat(e.params.bidfloor||e.params.bidFloor);p&&(i.bidfloor=p);const c=function(e){let t=document.getElementById(e);if(!t&&-1!==e.indexOf("/")){const{divId:i}=(0,tl.a)(e);(0,n.eb)(i)&&(t=document.getElementById(i))}if(t&&t.getBoundingClientRect){const e=t.getBoundingClientRect();let i={};return i.top_left={y:e.top,x:e.left},i.bottom_right={y:e.bottom,x:e.right},i}return null}(e.adUnitCode);if(c&&i.banner&&0!==i.banner.length){let e=function(e){return{top_left:{x:e.top_left.x+window.pageXOffset,y:e.top_left.y+window.pageYOffset},bottom_right:{x:e.bottom_right.x+window.pageXOffset,y:e.bottom_right.y+window.pageYOffset}}}(c);i.ext.coordinates=e,i.ext.viewability=Wf(c.top_left,Gf(i.banner)),Wf(e.top_left,Gf(i.banner))>.5?i.ext.visibility=1:i.ext.visibility=2}else i.ext.visibility=0;const m=function(e){let t=[];return"function"==typeof e.getFloor&&[D.b,D.d,D.c].forEach((i=>{e.mediaTypes.hasOwnProperty(i)&&(i==D.b?e.mediaTypes.banner.sizes.forEach((a=>{Lf(e,i,a,t)})):Lf(e,i,"*",t))})),t}(e);return m&&m.length>0&&(i.bidfloors=m),t.paapi?.enabled&&(i.ext.ae=e?.ortb2Imp?.ext?.ae),i}(e,t))),ortb2:Xf(t.ortb2,e),tmax:t.timeout}}(e=(0,s.b)(e),t);return{method:"POST",url:Hf(t.bidderCode,i.ext.customer_id),data:JSON.stringify(i)}},interpretResponse:function(e){let t=[];if(!e||!e.body)return(0,n.hb)(`${Uf} : response is empty`),t;let i=e.body.bidList;(0,n.V)(i)&&0!==i.length?(t=i.filter((e=>function(e){return!1===e.no_bid&&parseFloat(e.cpm)>0}(e))),t.forEach(Jf)):(0,n.hb)(`${Uf} : no bids`);const a=(0,o.a)(e,"body.ext.paApiAuctionConfigs")||[],r=(0,o.a)(e,"body.ext.igi")||[];return 0===a.length&&0===r.length?t:(r.length>0&&a.push(...r.map((({igs:e})=>e||[])).flat()),{bids:t,paapi:a})},getUserSyncs:function(e,t){let i=(a=t,!(0,n.Y)(a)&&a[0].body&&a[0].body.ext&&(0,n.V)(a[0].body.ext.csUrl)?a[0].body.ext.csUrl:[]);var a;return e.iframeEnabled?$f(i,"iframe"):e.pixelEnabled?$f(i,"image"):void 0},onTimeout:e=>{try{Yf({name:"client_timeout",value:e.length,related_data:e[0].timeout||v.config.getConfig("bidderTimeout")},e)}catch(e){}},onBidWon:e=>{try{Yf({name:"client_bid_won",value:e.cpm},[e])}catch(e){}},onSetTargeting:e=>{try{let t={name:"client_set_targeting",value:e.cpm};v.config.getConfig("enableSendAllBids")||Yf(t,[e])}catch(e){}},onBidderError:({error:e,bidderRequest:t})=>{try{Yf({name:"client_bidder_error",related_data:`timedOut:${e.timedOut}|status:${e.status}|message:${e.reason.message}`},t.bids)}catch(e){}},clearPageMeta:function(){Pf=void 0},getWindowSize:function(){return{w:window.screen.width||-1,h:window.screen.height||-1}}};(0,Ye.b)(Kf),gt.a.add(ft.a.medianet,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=Nl(a);Pl(e,t.placementId,n,[{bidder:i.bidder,params:{...i.params,video:void 0}}])}a.outstream&&Ml(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream)})),gt.b.add(ft.a.medianet,Kf.gvlid);const Zf="https://pbs-front.mediasquare.fr/",Qf="https://bidder-test.mediasquare.fr/",eg={code:"mediasquare",gvlid:791,aliases:["msq"],supportedMediaTypes:[D.b,D.c,D.d],isBidRequestValid:function(e){return!(!e.params.owner||!e.params.code)},buildRequests:function(e,t){e=(0,s.b)(e);let i=[],a=document.location.search.match(/msq_test=true/)?Qf:Zf,n={};const r=v.config.getConfig("debug")?1:0;let o=null;Object.keys(e).forEach((t=>{if(n={},o=e[t],"function"==typeof o.getFloor){Array.isArray(o.sizes)&&o.sizes.forEach((e=>{let t=o.getFloor({currency:"USD",mediaType:"*",size:e});t!={}&&(n[e.join("x")]=t)}));let e=o.getFloor({currency:"USD",mediaType:"*",size:"*"});e!={}&&(n["*"]=e)}i.push({owner:o.params.owner,code:o.params.code,adunit:o.adUnitCode,bidId:o.bidId,auctionId:o.auctionId,transactionId:o.ortb2Imp?.ext?.tid,mediatypes:o.mediaTypes,floor:n})}));const d={codes:i,referer:encodeURIComponent(t.refererInfo.page||t.refererInfo.topmostLocation),pbjs:"9.16.0"};return t&&(t.gdprConsent&&(d.gdpr={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies}),t.uspConsent&&(d.uspConsent=t.uspConsent),t.schain&&(d.schain=t.schain),t.userId?d.userId=t.userId:t.hasOwnProperty("bids")&&"object"==typeof t.bids&&t.bids.length>0&&t.bids[0].hasOwnProperty("userId")&&(d.userId=t.bids[0].userId),t.ortb2?.regs?.ext?.dsa&&(d.dsa=t.ortb2.regs.ext.dsa)),r&&(d.debug=!0),{method:"POST",url:a+"msq_prebid",data:JSON.stringify(d)}},interpretResponse:function(e){const t=e.body,i=[];let a=null,n=null;return t.hasOwnProperty("responses")&&Object.keys(t.responses).forEach((e=>{n=t.responses[e],a={requestId:n.bid_id,cpm:n.cpm,width:n.width,height:n.height,creativeId:n.creative_id,currency:n.currency,netRevenue:n.net_revenue,ttl:n.ttl,ad:n.ad,mediasquare:{},meta:{advertiserDomains:n.adomain}},"dsa"in n&&(a.meta.dsa=n.dsa),["bidder","code","match","hasConsent","context","increment","ova"].forEach((e=>{e in n&&(a.mediasquare[e]=n[e])})),"native"in n?(a.native=n.native,a.mediaType="native"):"video"in n&&("url"in n.video&&(a.vastUrl=n.video.url),"xml"in n.video&&(a.vastXml=n.video.xml),a.mediaType="video",a.renderer=function(e){const t=zl.a.install({id:e.bidId,url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js",loaded:!1,adUnitCode:e.adUnitCode,targetId:e.adUnitCode});return t.setRender(tg),t}(n)),n.hasOwnProperty("deal_id")&&(a.dealId=n.deal_id),i.push(a)})),i},getUserSyncs:function(e,t){return"object"==typeof t&&null!=t&&t.length>0&&t[0].hasOwnProperty("body")&&t[0].body.hasOwnProperty("cookies")&&"object"==typeof t[0].body.cookies?t[0].body.cookies:[]},onBidWon:function(e){if(e.hasOwnProperty("mediaType")&&"video"==e.mediaType)return;let t={pbjs:"9.16.0",referer:encodeURIComponent((0,ne.a)().page||(0,ne.a)().topmostLocation)},i=document.location.search.match(/msq_test=true/)?Qf:Zf,a=["bidder","code","match","hasConsent","context","increment","ova"];return e.hasOwnProperty("mediasquare")&&a.forEach((i=>{e.mediasquare.hasOwnProperty(i)&&(t[i]=e.mediasquare[i],"number"==typeof t[i]&&(t[i]=t[i].toString()))})),a=["cpm","size","mediaType","currency","creativeId","adUnitCode","timeToRespond","requestId","auctionId","originalCpm","originalCurrency"],a.forEach((i=>{e.hasOwnProperty(i)&&(t[i]=e[i],"number"==typeof t[i]&&(t[i]=t[i].toString()))})),(0,Vi.b)(i+"winning",null,JSON.stringify(t),{method:"POST",withCredentials:!0}),!0}};function tg(e){e.renderer.push((()=>{window.ANOutstreamVideo.renderAd({sizes:[e.width,e.height],targetId:e.adUnitCode,adResponse:e.adResponse,rendererOptions:{showBigPlayButton:!1,showProgressBar:"bar",showVolume:!1,allowFullscreen:!0,skippable:!1,content:e.vastXml}})}))}function ig(e,t){if(!(0,n.Z)(e.getFloor))return 0;let i=e.getFloor({currency:"USD",mediaType:t,size:"*"});return"USD"===i.currency&&i.floor?i.floor:0}function ag(e){return""!==e&&void 0!==e?encodeURIComponent(e):""}function ng(e,t){if(!e)return!1;const i="include"===e.filter,a=(0,n.V)(e.bidders)?e.bidders:[t];return i&&(0,n.j)(a,t)}function rg(e,t,i){const a=t.startsWith("http")?"":"https://",n=t.endsWith("/")?t:`${t}/`;return e?`${a}${n}${i.TEST}`:`${a}${n}${i.PRODUCTION}`}function og(e){const t=[];return e.length&&e.forEach((e=>{t.push(function(e){const{params:t}=e,i=function(e){return e.mediaTypes&&e.mediaTypes.banner}(e)?D.b:D.d,a=function(e,t){let i=[];return(0,o.a)(e,`mediaTypes.${t}.sizes`)?i=e.mediaTypes[t].sizes:Array.isArray(e.sizes)&&e.sizes.length>0&&(i=e.sizes),i}(e,i);isNaN(t.floorPrice)&&(t.floorPrice=0);const r={mediaType:i,adUnitCode:(0,n.x)("adUnitCode",e),sizes:a,floorPrice:Math.max(ig(e,i),t.floorPrice),bidId:(0,n.x)("bidId",e),loop:e.bidderRequestsCount||0,bidderRequestId:(0,n.x)("bidderRequestId",e),transactionId:e.ortb2Imp?.ext?.tid||"",coppa:0},s=(0,o.a)(e,`mediaTypes.${i}.pos`);s&&(r.pos=s);const d=(0,o.a)(e,"ortb2Imp.ext.gpid");d&&(r.gpid=d);const l=t.placementId||(0,o.a)(e,`mediaTypes.${i}.name`);l&&(r.placementId=l);const p=(0,o.a)(e,`mediaTypes.${i}.mimes`);p&&(r.mimes=p);const c=(0,o.a)(e,`mediaTypes.${i}.api`);c&&(r.api=c);const m=(0,o.a)(e,"ortb2.device.sua");if(m&&(r.sua=m),(0,o.a)(e,"ortb2.regs.coppa")&&(r.coppa=1),i===D.d){const t=(0,o.a)(e,"mediaTypes.video.playbackmethod");let i;Array.isArray(t)&&(0,n.$)(t[0])?i=t[0]:(0,n.$)(t)&&(i=t),i&&(r.playbackMethod=i);const a=(0,o.a)(e,"mediaTypes.video.placement");a&&(r.placement=a);const s=(0,o.a)(e,"mediaTypes.video.minduration");s&&(r.minDuration=s);const d=(0,o.a)(e,"mediaTypes.video.maxduration");d&&(r.maxDuration=d);const l=(0,o.a)(e,"mediaTypes.video.skip");l&&(r.skip=l);const p=(0,o.a)(e,"mediaTypes.video.linearity");p&&(r.linearity=p);const c=(0,o.a)(e,"mediaTypes.video.protocols");c&&(r.protocols=c);const m=(0,o.a)(e,"mediaTypes.video.plcmt");m&&(r.plcmt=m)}return r}(e))})),t}function sg(e,t,i,a,n){const r={requestId:e.requestId,cpm:e.cpm,currency:e.currency||t,width:e.width,height:e.height,ttl:e.ttl||i,creativeId:e.creativeId,netRevenue:e.netRevenue||!0,nurl:e.nurl,mediaType:e.mediaType,meta:{mediaType:e.mediaType}};return e.mediaType===a?r.vastXml=e.vastXml:e.mediaType===n&&(r.ad=e.ad),e.adomain&&e.adomain.length&&(r.meta.advertiserDomains=e.adomain),r}function dg(e,t,i){const a=window.location.hostname,{syncEnabled:r,filterSettings:s}=v.config.getConfig("userSync")||{},{bidderCode:d}=t,l=e.params,p=t.timeout,c={wrapper_type:"prebidjs",wrapper_vendor:"$$PREBID_GLOBAL$$",wrapper_version:"$prebid.version$",adapter_version:i||"6.0.0",auction_start:t.auctionStart,publisher_id:l.org,publisher_name:a,site_domain:a,dnt:"yes"===navigator.doNotTrack||"1"===navigator.doNotTrack||"1"===navigator.msDoNotTrack?1:0,device_type:(m=navigator.userAgent,/ipad|android 3.0|xoom|sch-i800|playbook|tablet|kindle/i.test(m.toLowerCase())?"5":/iphone|ipod|android|blackberry|opera|mini|windows\\sce|palm|smartphone|iemobile/i.test(m.toLowerCase())?"4":/smart[-_\\s]?tv|hbbtv|appletv|googletv|hdmi|netcast|viera|nettv|roku|\\bdtv\\b|sonydtv|inettvbrowser|\\btv\\b/i.test(m.toLowerCase())?"3":"1"),ua:navigator.userAgent,is_wrapper:!!l.isWrapper,session_id:l.sessionId||(0,n.x)("bidderRequestId",e),tmax:p};var m;const u=(0,n.x)("userId",e);u&&(c.userIds=JSON.stringify(u));const b=t.ortb2||{};if(b.site&&(c.site_metadata=JSON.stringify(b.site)),b.user&&(c.user_metadata=JSON.stringify(b.user)),r){const e=function(e,t){const i="image";return e&&["all","iframe"].some((i=>ng(e[i],t)))?"iframe":e&&e[i]&&!ng(e[i],t)?void 0:"pixel"}(s,d);e&&(c.cs_method=e)}return t.uspConsent&&(c.us_privacy=t.uspConsent),t&&t.gdprConsent&&t.gdprConsent.gdprApplies&&(c.gdpr=t.gdprConsent.gdprApplies,c.gdpr_consent=t.gdprConsent.consentString),t.gppConsent?(c.gpp=t.gppConsent.gppString,c.gpp_sid=t.gppConsent.applicableSections):t.ortb2?.regs?.gpp&&(c.gpp=t.ortb2.regs.gpp,c.gpp_sid=t.ortb2.regs.gpp_sid),l.ifa&&(c.ifa=l.ifa),e.schain&&(c.schain=function(e){if((0,n.Y)(e))return"";let t=`${e.ver},${e.complete}`;return e.nodes.forEach((e=>{t+="!",t+=`${ag(e.asi)},`,t+=`${ag(e.sid)},`,t+=`${ag(e.hp)},`,t+=`${ag(e.rid)},`,t+=`${ag(e.name)},`,t+=`${ag(e.domain)}`})),t}(e.schain)),t&&t.refererInfo&&(c.referrer=(0,o.a)(t,"refererInfo.ref"),c.page_url=(0,o.a)(t,"refererInfo.page")||(0,o.a)(window,"location.href"),c.site_domain=(0,o.a)(t,"refererInfo.domain")||(0,o.a)(window,"location.hostname")),c}(0,Ye.b)(eg),gt.a.add(ft.a.mediasquare,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=Nl(a);Pl(e,t.placementId,n,[{bidder:i.bidder,params:{...i.params,video:void 0}}])}a.native&&Ul(e,t.placementId,[{bidder:i.bidder,params:{...i.params,video:void 0}}],a.native),a.outstream&&Ml(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream),a.instream&&Ol(e,t.placementId,a.instream,[{bidder:i.bidder,params:{...i.params}}])})),gt.b.add(ft.a.mediasquare,eg.gvlid);const lg=[D.b,D.d],pg="6.0.0",cg={PRODUCTION:"hb-mm-multi",TEST:"hb-multi-mm-test"},mg={code:"minutemedia",gvlid:918,version:pg,supportedMediaTypes:lg,isBidRequestValid:function(e){return e.params?!!e.params.org||((0,n.jb)("org is a mandatory param for MinuteMedia adapter"),!1):((0,n.jb)("no params have been set to MinuteMedia adapter"),!1)},buildRequests:function(e,t){const i={},a=e[0],n=a.params.testMode;return i.params=dg(a,t,pg),i.bids=og(e),{method:"POST",url:rg(n,"https://hb.minutemedia-prebid.com/",cg),data:i}},interpretResponse:function({body:e}){const t=[];return e.bids&&e.bids.forEach((e=>{const i=sg(e,"USD",360,D.d,D.b);t.push(i)})),t},getUserSyncs:function(e,t){const i=[];for(const a of t)if(e.iframeEnabled&&(0,o.a)(a,"body.params.userSyncURL")&&i.push({type:"iframe",url:(0,o.a)(a,"body.params.userSyncURL")}),e.pixelEnabled&&(0,n.V)((0,o.a)(a,"body.params.userSyncPixels"))){const e=a.body.params.userSyncPixels.map((e=>({type:"image",url:e})));i.push(...e)}return i},onBidWon:function(e){null!=e&&((0,n.hb)("onBidWon:",e),e.hasOwnProperty("nurl")&&e.nurl.length>0&&(0,n.Fb)(e.nurl))}};(0,Ye.b)(mg),gt.a.add(ft.a.minuteMedia,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner){const n=Nl(a);Pl(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}a.outstream&&Ml(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream)})),gt.b.add(ft.a.minuteMedia,mg.gvlid);const ug="nextMillennium",bg="https://cookies.nextmillmedia.com/sync?gdpr={{.GDPR}}&gdpr_consent={{.GDPRConsent}}&us_privacy={{.USPrivacy}}&gpp={{.GPP}}&gpp_sid={{.GPPSID}}&type={{.TYPE_PIXEL}}",fg="USD",gg={api:void 0,context:void 0,delivery:void 0,linearity:void 0,maxduration:void 0,mimes:["video/mp4","video/x-ms-wmv","application/javascript"],minduration:void 0,placement:void 0,plcmt:void 0,playbackend:void 0,playbackmethod:void 0,pos:void 0,protocols:void 0,skip:void 0,skipafter:void 0,skipmin:void 0,startdelay:void 0},yg=Object.keys(gg),hg=["site.pagecat","site.content.cat","site.content.language","device.sua","site.keywords","site.content.keywords","user.keywords"],vg={code:ug,supportedMediaTypes:[D.b,D.d],gvlid:1060,isBidRequestValid:function(e){return!!(e.params.placement_id&&(0,n.eb)(e.params.placement_id)||e.params.group_id&&(0,n.eb)(e.params.group_id))},buildRequests:function(e,t){const i=[],a={};window.nmmRefreshCounts=window.nmmRefreshCounts||{};const s=function(){const e=ne.a&&(0,ne.a)()||{};let t,i=navigator.language;return i&&(i=i.split("-")[0],t={language:i}),{page:e.page,ref:e.ref,domain:e.domain,content:t}}(),l={w:window.innerWidth||window.document.documentElement.clientWidth||window.document.body.clientWidth||0,h:window.innerHeight||window.document.documentElement.clientHeight||window.document.body.clientHeight||0,ua:window.navigator.userAgent||void 0,sua:wg()},p={id:t?.bidderRequestId,ext:{next_mil_imps:[]},device:l,site:s,imp:[]};!function(e={},t){const i=t?.gdprConsent,a=t?.uspConsent;let n=t?.gppConsent?.gppString&&t?.gppConsent;!n&&t?.ortb2?.regs?.gpp&&(n=t?.ortb2?.regs),(i||a||n)&&(e.regs={ext:{}},a&&(e.regs.ext.us_privacy=a),n&&(e.regs.gpp=n?.gppString||n?.gpp,e.regs.gpp_sid=t.gppConsent?.applicableSections||n?.gpp_sid),i&&(void 0!==i.gdprApplies&&(e.regs.ext.gdpr=i.gdprApplies?1:0),void 0!==i.consentString&&(e.user={ext:{consent:i.consentString}})))}(p,t),function(e,t={}){for(let i of hg){const a=(0,o.a)(t,i);a&&(0,r.a)(e,i,a)}}(p,t?.ortb2);const c=(0,n.qb)((0,n.K)().location.href).search,m=c.pbs&&"test"===c.pbs;return function(e={},t=[]){let i=!1;(0,n.a)(t,(t=>{!i&&(0,n.V)(t.userIdAsEids)&&t.userIdAsEids.length&&t.userIdAsEids.length&&((0,r.a)(e,"user.eids",t.userIdAsEids),i=!0)}))}(p,e),(0,n.a)(e,((e,t)=>{window.nmmRefreshCounts[e.adUnitCode]=window.nmmRefreshCounts[e.adUnitCode]||0;const i=function(e){const t=(0,n.x)("group_id",e.params),i=(0,n.x)("placement_id",e.params);if(!t)return i;let a=Ig(window),r=[];e.mediaTypes&&(e.mediaTypes.banner&&(r=[...e.mediaTypes.banner.sizes]),e.mediaTypes.video&&r.push(e.mediaTypes.video.playerSize));const o=a&&a.location&&a.location.host||"";return`g${t};${r.map((e=>e.join("x"))).join("|")};${o}`}(e),{cur:r,mediaTypes:s}=function(e={}){const t=v.config?.getConfig("currency")?.adServerCurrency||fg,i=[],a=["banner","video"],n={};for(const r of a){const a=(0,o.a)(e,`mediaTypes.${r}`);if(a){if(n[r]={data:a},"function"==typeof e.getFloor){let i=e.getFloor({currency:t,mediaType:r,size:"*"});n[r].bidfloorcur=i.currency,n[r].bidfloor=i.floor}else n[r].bidfloorcur=t;i.includes(n[r].bidfloorcur)&&i.push(n[r].bidfloorcur)}}return i.length||i.push(fg),{cur:i,mediaTypes:n}}(e);0===t&&(p.cur=r),p.imp.push(function(e,t,i){const{banner:a,video:r}=i,o={id:e.adUnitCode,ext:{prebid:{storedrequest:{id:t}}}};return function(e,t){if(!t)return;t.bidfloorcur&&(e.bidfloorcur=t.bidfloorcur),t.bidfloor&&(e.bidfloor=t.bidfloor);const i=(t.data?.sizes||[]).map((e=>({w:e[0],h:e[1]}))),{w:a,h:n}=i[0]||{};e.banner={w:a,h:n,format:i}}(o,a),function(e,t){t&&(t.bidfloorcur&&(e.bidfloorcur=t.bidfloorcur),t.bidfloor&&(e.bidfloor=t.bidfloor),e.video=(0,n.B)(t.data,yg),Object.keys(gg).filter((e=>gg[e])).forEach((t=>{void 0===e.video[t]&&(e.video[t]=gg[t])})),t.data.playerSize?e.video=Object.assign(e.video,(0,n.mb)(t.data?.playerSize)||{}):t.data.w&&t.data.h&&(e.video.w=t.data.w,e.video.h=t.data.h))}(o,r),o}(e,i,s)),p.ext.next_mil_imps.push(function(e){return"number"==typeof window?.nmmRefreshCounts[e.adUnitCode]&&++window.nmmRefreshCounts[e.adUnitCode],{impId:e.adUnitCode,nextMillennium:{nm_version:"4.0.1",pbjs_version:"v9.16.0",refresh_count:window?.nmmRefreshCounts[e.adUnitCode]||0,scrollTop:window.pageYOffset||document.documentElement.scrollTop}}}(e)),a[e.adUnitCode]=e.bidId})),this.getUrlPixelMetric(d.EVENTS.BID_REQUESTED,e),i.push({method:"POST",url:m?"https://test.pbs.nextmillmedia.com/openrtb2/auction":"https://pbs.nextmillmedia.com/openrtb2/auction",data:JSON.stringify(p),options:{contentType:"text/plain",withCredentials:!0},bidIds:a}),i},interpretResponse:function(e,t){const i=e.body,a=[],r=[];return(0,n.a)(i.seatbid,(e=>{(0,n.a)(e.bid,(e=>{const r=t.bidIds[e.impid],{ad:s,adUrl:d,vastUrl:l,vastXml:p}=function(e){let t,i,a,r;return(0,o.a)(e,"ext.prebid.type")===D.d?"http"===e.adm.substr(0,4)?r=e.adm:a=e.adm:e.adm&&e.nurl?(t=e.adm,t+=(0,n.m)(decodeURIComponent(e.nurl))):e.adm?t=e.adm:e.nurl&&(i=e.nurl),{ad:t,adUrl:i,vastXml:a,vastUrl:r}}(e),c={requestId:r,cpm:e.price,width:e.w,height:e.h,creativeId:e.adid,currency:i.cur||fg,netRevenue:!0,ttl:360,meta:{advertiserDomains:e.adomain||[]}};l||p?(c.mediaType=D.d,l&&(c.vastUrl=l),p&&(c.vastXml=p)):(c.ad=s,c.adUrl=d),a.push(c)})),r.push(e.bid)})),this.getUrlPixelMetric(d.EVENTS.BID_RESPONSE,r.flat()),a},getUserSyncs:function(e,t,i,a,r){if(!e.iframeEnabled&&!e.pixelEnabled)return[];const s=[],d=e=>t=>{s.push({type:e,url:_g(t,i,a,r,e)})},l=e=>t=>{(0,o.a)(t,`body.ext.sync.${e}`,[]).forEach(d(e))},p=(e,t)=>{d(e)(t)},c=l("image"),m=l("iframe");return(0,n.V)(t)&&t.forEach((t=>{e.pixelEnabled&&c(t),e.iframeEnabled&&m(t)})),s.length||(e.pixelEnabled&&p("image",bg),e.iframeEnabled&&p("iframe",bg)),s},getUrlPixelMetric(e,t){if(v.config.getBidderConfig()?.nextMillennium?.disabledSendingStatisticData)return;const i=this._getUrlPixelMetric(e,t);i&&(0,n.Fb)(i)},_getUrlPixelMetric(e,t){Array.isArray(t)||(t=[t]);const i=t[0]?.bidder||t[0]?.bidderCode;if(i!=ug)return;let a=[];if((0,n.a)(t,(e=>{e.params?a.push(e.params):Array.isArray(e.bids)&&a.push(e.bids.map((e=>e.params)))})),!a.length)return;const r=[],o=[];a.flat().forEach((e=>{e.group_id?o.push(e.group_id):e.placement_id&&r.push(e.placement_id)}));const s=r.length&&`&placements=${r.join(";")}`||"",d=o.length&&`&groups=${o.join(";")}`||"";return d||s?`https://report2.hb.brainlyads.com/statistics/metric?event=${e}&bidder=${i}&source=pbjs${d}${s}`:void 0},onTimeout(e){for(const t of e)this.getUrlPixelMetric(d.EVENTS.BID_TIMEOUT,t)}};function _g(e,t={},i="",a={},n=""){const{consentString:r="",gdprApplies:o=!1}=t,s=Number(o);return e.replace("{{.GDPR}}",s).replace("{{.GDPRConsent}}",r).replace("{{.USPrivacy}}",i).replace("{{.GPP}}",a.gppString||"").replace("{{.GPPSID}}",(a.applicableSections||[]).join(",")).replace("{{.TYPE_PIXEL}}",n)}function Ig(e,t=0){if(t>10)return e;try{if(e.parent.document)return Ig(e.parent.window,++t)}catch(t){return e}}function wg(){let{brands:e,mobile:t,platform:i}=window?.navigator?.userAgentData||{};if(e&&i)return{brands:e,mobile:Number(!!t),platform:i&&{brand:i}||void 0}}(0,Ye.b)(vg),gt.a.add(ft.a.nextMillennium,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner){const n=Nl(a);Pl(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}a.outstream&&Ml(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream),a.instream&&Ol(e,t.placementId,a.instream,[{bidder:i.bidder,params:i.params}])})),gt.b.add(ft.a.nextMillennium,vg.gvlid);const xg="nexx360",Tg=(0,n.w)(),Dg="nexx360_storage",Ag=(0,te.d)({bidderCode:xg});function Sg(){return Ag.localStorageIsEnabled()?Ag.getDataFromLocalStorage("__amuidpb")||!1:((0,n.hb)("localstorage not enabled for Nexx360"),!1)}const Cg=am({context:{netRevenue:!0,ttl:90},imp(e,t,i){const a=e(t,i),n=t.params.adUnitName?t.params.adUnitName:t.adUnitCode;(0,r.a)(a,"tagid",n),(0,r.a)(a,"ext.adUnitCode",t.adUnitCode);const s=t.params.divId?t.params.divId:t.adUnitCode;(0,r.a)(a,"ext.divId",s);const d=function(e){if(document.getElementById(e))return document.getElementById(e)}(s);if(d&&((0,r.a)(a,"ext.dimensions.slotW",d.offsetWidth),(0,r.a)(a,"ext.dimensions.slotH",d.offsetHeight),(0,r.a)(a,"ext.dimensions.cssMaxW",d.style?.maxWidth),(0,r.a)(a,"ext.dimensions.cssMaxH",d.style?.maxHeight)),(0,r.a)(a,"ext.nexx360",t.params.tagId),(0,r.a)(a,"ext.nexx360.tagId",t.params.tagId),(0,r.a)(a,"ext.nexx360.videoTagId",t.params.videoTagId),(0,r.a)(a,"ext.nexx360.allBids",t.params.allBids),a.video){const e=(0,o.a)(t,"mediaTypes.video.playerSize"),i=(0,o.a)(t,"mediaTypes.video.context");(0,r.a)(a,"video.ext.playerSize",e),(0,r.a)(a,"video.ext.context",i)}return t.params.adUnitName&&(0,r.a)(a,"ext.adUnitName",t.params.adUnitName),t.params.adUnitPath&&(0,r.a)(a,"ext.adUnitPath",t.params.adUnitPath),a},request(e,t,i,a){const o=e(t,i,a),s=function(){if(!Ag.localStorageIsEnabled())return(0,n.hb)("localstorage not enabled for Nexx360"),!1;const e=Ag.getDataFromLocalStorage(Dg);if(null===e){const e={nexx360Id:(0,n.w)()};return Ag.setDataInLocalStorage(Dg,JSON.stringify(e)),e}try{return JSON.parse(e)}catch(e){return!1}}();s&&((0,r.a)(o,"ext.nexx360Id",s.nexx360Id),(0,r.a)(o,"ext.localStorage.nexx360Id",s.nexx360Id));const d=Sg();return d&&(0,r.a)(o,"ext.localStorage.amxId",d),(0,r.a)(o,"ext.version","9.16.0"),(0,r.a)(o,"ext.source","prebid.js"),(0,r.a)(o,"ext.pageViewId",Tg),(0,r.a)(o,"ext.bidderVersion","4.2"),(0,r.a)(o,"cur",[v.config.getConfig("currency.adServerCurrency")||"USD"]),o.user||(o.user={}),Sg()&&(o.user.ext||(o.user.ext={}),o.user.ext.eids||(o.user.ext.eids=[]),o.user.ext.eids.push({source:"amxdt.net",uids:[{id:`${Sg()}`,atype:1}]})),o}});function Rg(e){e.renderer.push((()=>{window.ANOutstreamVideo.renderAd({sizes:[e.width,e.height],targetId:e.divId,adResponse:e.vastXml,rendererOptions:{showBigPlayButton:!1,showProgressBar:"bar",showVolume:!1,allowFullscreen:!0,skippable:!1,content:e.vastXml}})}))}const kg={code:xg,gvlid:965,aliases:[{code:"revenuemaker"},{code:"first-id",gvlid:1178},{code:"adwebone"},{code:"league-m",gvlid:965},{code:"prjads"},{code:"pubtech"},{code:"1accord",gvlid:965}],supportedMediaTypes:[D.b,D.d,D.c],isBidRequestValid:function(e){return!e.params.adUnitName||"string"==typeof e.params.adUnitName&&""!==e.params.adUnitName?!e.params.adUnitPath||"string"==typeof e.params.adUnitPath&&""!==e.params.adUnitPath?!e.params.divId||"string"==typeof e.params.divId&&""!==e.params.divId?e.params.allBids&&"boolean"!=typeof e.params.allBids?((0,n.gb)("bid.params.allBids needs to be a boolean"),!1):!!(e.params.tagId||e.params.videoTagId||e.params.nativeTagId)||((0,n.gb)("bid.params.tagId or bid.params.videoTagId or  bid.params.nativeTagId must be defined"),!1):((0,n.gb)("bid.params.divId needs to be a string"),!1):((0,n.gb)("bid.params.adUnitPath needs to be a string"),!1):((0,n.gb)("bid.params.adUnitName needs to be a string"),!1)},buildRequests:function(e,t){return{method:"POST",url:"https://fast.nexx360.io/booster",data:Cg.toORTB({bidRequests:e,bidderRequest:t})}},interpretResponse:function(e){const t=e.body;if(!t||!Array.isArray(t.seatbid))return[];const{bidderSettings:i}=(0,a.a)(),n=!(!i||!i.standard)&&i.standard.allowAlternateBidderCodes;let r=[];return t.seatbid.forEach((e=>{r=[...r,...e.bid.map((e=>{const i={requestId:e.impid,cpm:e.price,width:e.w,height:e.h,creativeId:e.crid,dealId:e.dealid,currency:t.cur,netRevenue:!0,ttl:120,mediaType:[Se.c,Se.a].includes(e.ext.mediaType)?"video":e.ext.mediaType,meta:{advertiserDomains:e.adomain,demandSource:e.ext.ssp}};if(n&&(i.bidderCode=`n360_${e.ext.ssp}`),e.ext.mediaType===D.b&&(e.adm?i.ad=e.adm:i.adUrl=e.ext.adUrl),[Se.a,Se.c].includes(e.ext.mediaType)&&(i.vastXml=e.adm),e.ext.mediaType===Se.c&&(i.renderer=function(e){const t=zl.a.install({id:e.id,url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js",loaded:!1,adUnitCode:e.ext.adUnitCode,targetId:e.ext.divId});return t.setRender(Rg),t}(e),i.divId=e.ext.divId),e.ext.mediaType===D.c)try{i.native={ortb:JSON.parse(e.adm)}}catch(e){}return i}))]})),r},getUserSyncs:function(e,t){return"object"==typeof t&&null!=t&&t.length>0&&t[0].hasOwnProperty("body")&&t[0].body.hasOwnProperty("ext")&&t[0].body.ext.hasOwnProperty("cookies")&&"object"==typeof t[0].body.ext.cookies?t[0].body.ext.cookies.slice(0,5):[]}};(0,Ye.b)(kg),gt.a.add(ft.a.nexx360,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=Nl(a);Pl(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}a.native&&Ul(e,t.placementId,[{bidder:i.bidder,params:i.params}],a.native),a.outstream&&Ml(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream)})),gt.b.add(ft.a.nexx360,kg.gvlid);const Eg="nobid",Mg=(0,te.d)({bidderCode:Eg});function Og(e,t){(0,n.hb)("-NoBid- "+e,t)}window.nobidVersion="1.3.4",window.nobid=window.nobid||{},window.nobid.bidResponses=window.nobid.bidResponses||{},window.nobid.timeoutTotal=0,window.nobid.bidWonTotal=0,window.nobid.refreshCount=0,window.nobid.renderTag=function(e,t){Og("nobid.renderTag()",t);var i=window.nobid.bidResponses[""+t];if(i&&i.adm2){Og("nobid.renderTag() found tag",t);var a=i.adm2;return e.write(a),void e.close()}Og("nobid.renderTag() tag NOT FOUND *ERROR*",t)},window.addEventListener("message",(function(e){var t=""+e[e.message?"message":"data"];if("nbTagRenderer.requestAdMarkup|"===t.substring(0,30)){Og("Prebid received nbTagRenderer.requestAdMarkup event");var i=t.substring(t.indexOf("|")+1);if(window.nobid&&window.nobid.bidResponses){var a=window.nobid.bidResponses[""+i];if(a&&a.adm2){var n=a.adm2;n&&e.source.postMessage("nbTagRenderer.renderAdInSafeFrame|"+n,"*")}}}}),!1);const Ug={code:Eg,gvlid:816,aliases:[{code:"duration",gvlid:674}],supportedMediaTypes:[D.b,D.d],isBidRequestValid:function(e){return Og("isBidRequestValid",e),!!e?.params?.siteId},buildRequests:function(e,t){if(Og("validBidRequests",e),!e||e.length<=0)return void Og("Empty validBidRequests");const i=function(e,t){function i(e,t){var i=function(e,t){for(var i=0;i<t.length;i++)if(t[i].d===e)return t[i];return!1}(e.div,t)||{};return e.account&&(i.s=e.account),e.sizes&&(i.z=e.sizes),e.div&&(i.d=e.div),e.floor&&(i.floor=e.floor),e.targeting?i.g=e.targeting:i.g={},e.div&&function(e,t,i){for(var a=e.length-1;a>=0;a--){var n=e[a];n.d&&n.d===i&&e.splice(a,1)}}(t,0,e.div),e.sizeMapping&&(i.sm=e.sizeMapping),e.siteId&&(i.sid=e.siteId),e.placementId&&(i.pid=e.placementId),e.ad_type&&(i.at=e.ad_type),e.params&&(i.params=e.params),t.push(i),t}function a(e){return e&&"function"==typeof e.getFloor&&e.getFloor().floor?e.getFloor().floor:null}if(void 0!==window.nobid.refreshLimit&&window.nobid.refreshLimit<window.nobid.refreshCount)return!1;let r=Mg.getCookie("_ublock");if(r)return Og("Request blocked for user. hours: ",r),!1;for(var s=[],d=0,l=[],p=0;p<e.length;p++){var c=e[p],m=c.adUnitCode;s.push(m);var u=c.sizes;d=void 0!==c.params.siteId&&c.params.siteId?c.params.siteId:d;var b=c.params.placementId;let t="banner";const n=(0,o.a)(c,"mediaTypes.video"),r=(0,o.a)(c,"mediaTypes.video.context")||"";(c.mediaType===D.d||n&&("instream"===r||"outstream"===r))&&(t="video");const f=a(c);d&&i({div:m,sizes:u,siteId:d,placementId:b,ad_type:t,params:c.params,floor:f,ctx:r},l)}return!!d&&function(i,a,r){var s,d,l,p,c,m,u,b,f={};f.sid=a,f.l=function(e){var t="";return t=e?.refererInfo?.page?e.refererInfo.page:window.context&&window.context.location&&window.context.location.href?window.context.location.href:document.location.href,encodeURIComponent(t.replace(/\%/g,""))}(t),f.tt=encodeURIComponent(document.title),f.tt=f.tt.replace(/'|;|quot;|39;|&amp;|&|#|\r\n|\r|\n|\t|\f|\%0A|\"|\%22|\%5C|\%23|\%26|\%26|\%09/gm,""),f.a=function(e,t){var i=[];if(e.length){if(t){var a=[];e instanceof Array?a=e:a.push(e);for(var n=0,r=t.length;n<r;n++){var o=t[n];o&&o.d&&a.indexOf(o.d)>-1&&i.push(o)}}}else i=t;return i}(i,r||[]),f.t=(d=function(e){return e<=9?"0"+e:""+e},l=(s=new Date).getDate(),p=s.getFullYear(),c=s.getMonth()+1,m=s.getHours(),u=s.getMinutes(),b=s.getSeconds(),p+"-"+d(c)+"-"+d(l)+" "+d(m)+":"+d(u)+":"+d(b)),f.tz=Math.round((new Date).getTimezoneOffset()),f.r=function(){try{return`${Math.max(document.documentElement.clientWidth,window.innerWidth||0)}x${Math.max(document.documentElement.clientHeight,window.innerHeight||0)}`}catch(e){(0,n.jb)("Could not parse screen dimensions, error details:",e)}}(),f.lang=navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage,f.ref=document.referrer,f.gdpr=function(e){var t={};return e&&e.gdprConsent&&(t={consentString:e.gdprConsent.consentString,consentRequired:"boolean"==typeof e.gdprConsent.gdprApplies&&e.gdprConsent.gdprApplies}),t}(t),f.usp=function(e){var t="";return e&&e.uspConsent&&(t=e.uspConsent),t}(t),f.pjbdr=t&&t.bidderCode?t.bidderCode:"nobid",f.pbver="9.16.0";const g=function(e){return e&&e.length>0?e[0].schain:null}(e);g&&(f.schain=g);const y=!0===v.config.getConfig("coppa")?{coppa:!0}:e&&e.length>0?e[0].coppa:null;y&&(f.coppa=y);const h=function(e){if((0,n.V)(e)&&e.length>0){let t=[];return e.forEach((e=>{let i=[];e.uids&&e.uids.forEach((e=>{i.push({id:e.id+""})})),e.source&&i.length>0&&t.push({source:e.source,uids:i})})),t}}((0,o.a)(e,"0.userIdAsEids"));h&&h.length>0&&(f.eids=h);const _=function(e){let t=null;return e?.gppConsent?.gppString&&e?.gppConsent?.applicableSections?(t={},t.gpp=e.gppConsent.gppString,t.gpp_sid=Array.isArray(e.gppConsent.applicableSections)?e.gppConsent.applicableSections:[]):e?.ortb2?.regs?.gpp&&e?.ortb2.regs?.gpp_sid&&(t={},t.gpp=e.ortb2.regs.gpp,t.gpp_sid=Array.isArray(e.ortb2.regs.gpp_sid)?e.ortb2.regs.gpp_sid:[]),t}(t);return _?.gpp&&(f.gpp=_.gpp),_?.gpp_sid&&(f.gpp_sid=_.gpp_sid),t&&t.ortb2&&(f.ortb2=t.ortb2),f}(s,d,l)}(e,t);if(!i)return;window.nobid.refreshCount++;const a=JSON.stringify(i).replace(/'|&|#/g,""),r=(s="https://ads.servenobid.com/",d="function"==typeof n.D&&(0,n.D)("nobid-env"),(d=window.location.href.indexOf("nobid-env=dev")>0?"dev":d)?"beta"==d?s="https://beta.servenobid.com/":"dev"==d?s="//localhost:8282/":"qa"==d&&(s="https://qa-ads.nobid.com/"):s="https://ads.servenobid.com/",s+"adreq?cb="+Math.floor(11e3*Math.random()));var s,d;let l={};return fc(t?.gdprConsent)||(l={withCredentials:!1}),{method:"POST",url:r,data:a,bidderRequest:t,options:l}},interpretResponse:function(e,t){return Og("interpretResponse -> serverResponse",e),Og("interpretResponse -> bidRequest",t),function(e,t){var i=function(e,t){for(var i=0;i<t.length;i++)if(t[i].adUnitCode==e)return t[i];return!1};!function(e){e&&void 0!==e.rlimit&&(window.nobid.refreshLimit=e.rlimit)}(e),function(e){e&&void 0!==e.ublock&&function(e,t,i){var a=new Date;a.setTime(a.getTime()+60*i*60*1e3);var n="expires="+a.toUTCString();Mg.setCookie("_ublock","1",n)}(0,0,e.ublock)}(e);for(var a=[],n=0;e.bids&&n<e.bids.length;n++){var r=e.bids[n];if(r.bdrid<100||!t||!t.bidderRequest||!t.bidderRequest.bids)continue;window.nobid.bidResponses[""+r.id]=r;var o=i(r.divid,t.bidderRequest.bids);if(!o)continue;const s={requestId:o.bidId,cpm:1*(r.price?r.price:r.bucket?r.bucket:0),width:r.size.w,height:r.size.h,creativeId:r.creativeid||"",dealId:r.dealid||"",currency:"USD",netRevenue:!0,ttl:300,ad:r.adm,mediaType:r.atype||D.b};r.vastUrl&&(s.vastUrl=r.vastUrl),r.vastXml&&(s.vastXml=r.vastXml),r.videoCacheKey&&(s.videoCacheKey=r.videoCacheKey),r.meta&&(s.meta=r.meta),a.push(s)}return a}(e.body,t)},getUserSyncs:function(e,t,i,a,r){if(e.iframeEnabled){let e="";return i&&"string"==typeof i.consentString&&("boolean"==typeof i.gdprApplies?e+=`?gdpr=${Number(i.gdprApplies)}&gdpr_consent=${i.consentString}`:e+=`?gdpr_consent=${i.consentString}`),a&&(e.length>0?e+="&":e+="?",e+="usp_consent="+a),r?.gppString&&r?.applicableSections?.length&&(e.length>0?e+="&":e+="?",e+="gpp="+encodeURIComponent(r.gppString),e+="gpp_sid="+encodeURIComponent(r.applicableSections.join(","))),[{type:"iframe",url:"https://public.servenobid.com/sync.html"+e}]}if(e.pixelEnabled&&t.length>0){let e=[];return t[0].body.syncs&&t[0].body.syncs.length>0&&t[0].body.syncs.forEach((t=>{e.push({type:"image",url:t})})),e}return(0,n.jb)("-NoBid- Please enable iframe based user sync.",e),[]},onTimeout:function(e){return window.nobid.timeoutTotal++,Og("Timeout total: "+window.nobid.timeoutTotal,e),window.nobid.timeoutTotal},onBidWon:function(e){return window.nobid.bidWonTotal++,Og("BidWon total: "+window.nobid.bidWonTotal,e),window.nobid.bidWonTotal}};(0,Ye.b)(Ug),gt.a.add(ft.a.noBid,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner){const n=Nl(a);Pl(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}a.outstream&&Ml(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream)})),gt.b.add(ft.a.noBid,Ug.gvlid);const Bg="https://onetag-sys.com/usync/",Pg="onetag",Ng=(0,te.d)({bidderCode:Pg});function jg(e){return void 0!==e.mediaTypes&&void 0!==e.mediaTypes.video}function zg(e,t){if(e===D.b)return Wg(t).length>0;if(e===D.d&&jg(t)){const e=t.mediaTypes.video.context;if("outstream"===e||"instream"===e)return Gg(t).length>0}return!1}function qg(e){try{return void 0!==e.document.hidden?e.document.hidden:void 0!==e.document.msHidden?e.document.msHidden:void 0!==e.document.webkitHidden?e.document.webkitHidden:null}catch(e){return null}}function $g(e){const t=function(){let e=window,t=window.parent;try{for(;e!==e.parent;)t=e.parent,t.location.href,e=e.parent}catch(e){}return e}();return{location:(0,o.a)(e,"refererInfo.page",null),referrer:(0,o.a)(e,"refererInfo.ref",null),stack:(0,o.a)(e,"refererInfo.stack",[]),numIframes:(0,o.a)(e,"refererInfo.numIframes",0),wWidth:t.innerWidth,wHeight:t.innerHeight,oWidth:t.outerWidth,oHeight:t.outerHeight,sWidth:t.screen.width,sHeight:t.screen.height,aWidth:t.screen.availWidth,aHeight:t.screen.availHeight,sLeft:"screenLeft"in t?t.screenLeft:t.screenX,sTop:"screenTop"in t?t.screenTop:t.screenY,xOffset:t.pageXOffset,yOffset:t.pageYOffset,docHidden:qg(t),docHeight:t.document.body?t.document.body.scrollHeight:null,hLength:history.length,timing:Lg(),version:{prebid:"9.16.0",adapter:"1.1.1"}}}function Fg(e){const t=e.filter((e=>jg(e))).map((e=>{const t={};return Vg.call(t,e),t.context=e.mediaTypes.video.context,t.playerSize=Gg(e),t.mediaTypeInfo=(0,n.p)(e.mediaTypes.video),t.type=D.d,t.priceFloors=Xg(e,D.d,t.playerSize),t})),i=e.filter((e=>zg(D.b,e))).map((e=>{const t={};return Vg.call(t,e),t.sizes=Wg(e),t.type=D.b,t.mediaTypeInfo=(0,n.p)(e.mediaTypes.banner),t.priceFloors=Xg(e,D.b,t.sizes),t}));return t.concat(i)}function Vg(e){const t=e.params;this.adUnitCode=e.adUnitCode,this.bidId=e.bidId,this.bidderRequestId=e.bidderRequestId,this.auctionId=(0,o.a)(e,"ortb2.source.tid"),this.transactionId=(0,o.a)(e,"ortb2Imp.ext.tid"),this.gpid=(0,o.a)(e,"ortb2Imp.ext.gpid")||(0,o.a)(e,"ortb2Imp.ext.data.pbadslot"),this.pubId=t.pubId,this.ext=t.ext,this.ortb2Imp=(0,o.a)(e,"ortb2Imp"),t.pubClick&&(this.click=t.pubClick),t.dealId&&(this.dealId=t.dealId);const i=function(e){const t=document.getElementById(e);try{const{top:e,left:i,width:a,height:n}=t.getBoundingClientRect();let r=t.ownerDocument.defaultView;const o={top:e+r.pageYOffset,left:i+r.pageXOffset,width:a,height:n};let s=r.frameElement;for(;null!=s;){const{top:e,left:t}=s.getBoundingClientRect();o.top+=e+r.pageYOffset,o.left+=t+r.pageXOffset,r=r.parent,s=r.frameElement}return o}catch(e){return null}}(e.adUnitCode);i&&(this.coords=i)}function Lg(){try{if(null!=window.performance&&null!=window.performance.timing){const e={},t=window.performance.timing;return e.pageLoadTime=t.loadEventEnd-t.navigationStart,e.connectTime=t.responseEnd-t.requestStart,e.renderTime=t.domComplete-t.domLoading,e}}catch(e){return null}return null}function Gg(e){const t=e.mediaTypes.video.playerSize;return void 0!==t&&Array.isArray(t)&&t.length>0?Hg(t):[]}function Wg(e){return void 0!==e.mediaTypes&&void 0!==e.mediaTypes.banner&&void 0!==e.mediaTypes.banner.sizes&&Array.isArray(e.mediaTypes.banner.sizes)&&e.mediaTypes.banner.sizes.length>0?Hg(e.mediaTypes.banner.sizes):!jg(e)&&e.sizes&&Array.isArray(e.sizes)?Hg(e.sizes):[]}function Hg(e){const t=[];for(let i=0;i<e.length;i++){const a=e[i];t.push({width:a[0],height:a[1]})}return t}function Xg(e,t,i){const a=[];return"function"==typeof e.getFloor&&i.forEach((i=>{const r=e.getFloor({currency:"EUR",mediaType:t||"*",size:[i.width,i.height]});r.size=(0,n.p)(i),r.floor||(r.floor=null),a.push(r)})),a}const Yg={code:Pg,gvlid:241,supportedMediaTypes:[D.b,D.d],isBidRequestValid:function(e){return void 0!==e&&void 0!==e.params&&"string"==typeof e.params.pubId&&(zg(D.b,e)||zg(D.d,e))},buildRequests:function(e,t){const i={bids:Fg(e),...$g(t)};t&&t.gdprConsent&&(i.gdprConsent={consentString:t.gdprConsent.consentString,consentRequired:t.gdprConsent.gdprApplies,addtlConsent:t.gdprConsent.addtlConsent}),t&&t.gppConsent&&(i.gppConsent={consentString:t.gppConsent.gppString,applicableSections:t.gppConsent.applicableSections}),t&&t.uspConsent&&(i.usPrivacy=t.uspConsent),t&&t.ortb2&&(i.ortb2=t.ortb2),e&&0!==e.length&&e[0].userIdAsEids&&(i.userId=e[0].userIdAsEids),e&&0!==e.length&&e[0].schain&&function(e){let t=!1;const i=["asi","sid","hp"];return e&&e.nodes?(t=e.nodes.reduce(((e,t)=>e?i.every((e=>t.hasOwnProperty(e))):e),!0),t||(0,n.gb)("OneTag: required schain params missing"),t):t}(e[0].schain)&&(i.schain=e[0].schain);try{Ng.hasLocalStorage()&&(i.onetagSid=Ng.getDataFromLocalStorage("onetag_sid"))}catch(e){}const a=navigator.connection||navigator.webkitConnection;return i.networkConnectionType=a&&a.type?a.type:null,i.networkEffectiveConnectionType=a&&a.effectiveType?a.effectiveType:null,i.fledgeEnabled=Boolean(t?.paapi?.enabled),{method:"POST",url:"https://onetag-sys.com/prebid-request",data:JSON.stringify(i)}},interpretResponse:function(e,t){const i=e.body,a=[],n=JSON.parse(t.data);if(!i||i.nobid&&!0===i.nobid)return a;if(!(i.fledgeAuctionConfigs||i.bids&&Array.isArray(i.bids)&&0!==i.bids.length))return a;if(Array.isArray(i.bids)&&i.bids.forEach((e=>{const t={requestId:e.requestId,cpm:e.cpm,width:e.width,height:e.height,creativeId:e.creativeId,dealId:null==e.dealId?e.dealId:"",currency:e.currency,netRevenue:e.netRevenue||!1,mediaType:e.mediaType,meta:{mediaType:e.mediaType,advertiserDomains:e.adomain},ttl:e.ttl||300};if(e.dsa&&(t.meta.dsa=e.dsa),e.mediaType===D.b)t.ad=e.ad;else if(e.mediaType===D.d){const{context:i,adUnitCode:a}=(0,l.b)(n.bids,(t=>t.bidId===e.requestId&&t.type===D.d));i===Se.a?(t.vastUrl=e.vastUrl,t.videoCacheKey=e.videoCacheKey):i===Se.c&&(t.vastXml=e.ad,t.vastUrl=e.vastUrl,e.rendererUrl&&(t.renderer=function(e,t={}){const i=zl.a.install({id:e.requestId,url:e.rendererUrl,config:t,adUnitCode:e.adUnitCode,loaded:!1});try{i.setRender((({renderer:t,width:i,height:a,vastXml:n,adUnitCode:r})=>{t.push((()=>{window.onetag.Player.init({...e,width:i,height:a,vastXml:n,nodeId:r,config:t.getConfig()})}))}))}catch(e){}return i}({...e,adUnitCode:a})))}a.push(t)})),i.fledgeAuctionConfigs&&Array.isArray(i.fledgeAuctionConfigs)){const e=i.fledgeAuctionConfigs;return{bids:a,paapi:e}}return a},getUserSyncs:function(e,t,i,a,n){let r=[],o="";return i&&("boolean"==typeof i.gdprApplies&&(o+="&gdpr="+(i.gdprApplies?1:0)),"string"==typeof i.consentString&&(o+="&gdpr_consent="+i.consentString)),n&&"string"==typeof n.gppString&&(o+="&gpp_consent="+n.gppString),a&&"string"==typeof a&&(o+="&us_privacy="+a),e.iframeEnabled&&r.push({type:"iframe",url:Bg+"?cb="+(new Date).getTime()+o}),e.pixelEnabled&&r.push({type:"image",url:Bg+"?tag=img"+o}),r}};(0,Ye.b)(Yg);const Jg=(e,t)=>({...Sl,...t,...e.params.video});gt.a.add(ft.a.onetag,((e,{bid:t,placement:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=Nl(a);Pl(e,i.placementId,n,[{bidder:t.bidder,params:{...t.params,video:void 0}}])}if(a.outstream){const n=(e=>(0,Tt.m)(e)&&(0,Tt.p)(e.forcedPlayerSize))(t.formatterParams)?t.formatterParams.forcedPlayerSize:a.outstream.playerSize,r={...a.outstream,playerSize:n},o={...t.params,video:Jg(t,a.outstream.openRtbParams)};i.rendering?.outstream?.hbvFormat?Ml(e,i.placementId,r,[{bidder:t.bidder,params:o}],i.rendering?.outstream):El(e,i.placementId,r,[{bidder:t.bidder,params:o}])}a.instream&&Ol(e,i.placementId,a.instream,[{bidder:t.bidder,params:t.params}])})),gt.b.add(ft.a.onetag,Yg.gvlid);const Kg="outbrain",Zg="USD",Qg={0:"title",2:"icon",3:"image",5:"sponsoredBy",4:"body",1:"cta"},ey={title:{id:0,name:"title"},icon:{id:2,type:1,name:"img"},image:{id:3,type:3,name:"img"},sponsoredBy:{id:5,name:"data",type:1},body:{id:4,name:"data",type:2},cta:{id:1,type:12,name:"data"}},ty=(0,te.d)({bidderCode:Kg}),iy={code:Kg,gvlid:164,supportedMediaTypes:[D.c,D.b,D.d],isBidRequestValid:e=>"object"==typeof e.params&&"string"==typeof(0,o.a)(e,"params.publisher.id")&&(!e.params.tagid||"string"==typeof e.params.tagid)&&!(e.params.bcat&&("object"!=typeof e.params.bcat||!e.params.bcat.every((e=>"string"==typeof e))))&&!(e.params.badv&&("object"!=typeof e.params.badv||!e.params.badv.every((e=>"string"==typeof e))))&&!!v.config.getConfig("outbrain.bidderUrl")&&(!(!e.nativeParams&&!e.sizes)||function(e){const t=(0,o.a)(e,"mediaTypes.video");return!!t&&!!Array.isArray(t.playerSize)&&""!=t.context}(e)),buildRequests:(e,t)=>{e=(0,s.b)(e);const i=t.ortb2||{},a=t.refererInfo.page,d=navigator.userAgent,l=(0,n.xb)(e,"params.test"),p=(0,n.xb)(e,"params.publisher"),c=i.bcat||(0,n.xb)(e,"params.bcat"),m=i.badv||(0,n.xb)(e,"params.badv"),u=(0,n.xb)(e,"userIdAsEids"),b=i.wlang,f=Zg,g=v.config.getConfig("outbrain.bidderUrl"),y=t.timeout,h=e.map(((e,t)=>{e.netRevenue="net";const i={id:t+1+""};if(e.params.tagid&&(i.tagid=e.params.tagid),e.nativeParams?i.native={request:JSON.stringify({assets:ay(e)})}:ny(e)?i.video=function(e){const t=e.mediaTypes.video.playerSize.flat();return{w:parseInt(t[0],10),h:parseInt(t[1],10),protocols:e.mediaTypes.video.protocols,playbackmethod:e.mediaTypes.video.playbackmethod,mimes:e.mediaTypes.video.mimes,skip:e.mediaTypes.video.skip,delivery:e.mediaTypes.video.delivery,api:e.mediaTypes.video.api,minbitrate:e.mediaTypes.video.minbitrate,maxbitrate:e.mediaTypes.video.maxbitrate,minduration:e.mediaTypes.video.minduration,maxduration:e.mediaTypes.video.maxduration,startdelay:e.mediaTypes.video.startdelay,placement:e.mediaTypes.video.placement,plcmt:e.mediaTypes.video.plcmt,linearity:e.mediaTypes.video.linearity}}(e):i.banner={format:e.sizes?.map((e=>(0,n.mb)(e)))},"function"==typeof e.getFloor){const t=function(e,t){const i=e.getFloor({currency:Zg,mediaType:t,size:"*"});return"object"!=typeof i||i.currency!==Zg||isNaN(parseFloat(i.floor))?null:parseFloat(i.floor)}(e,e.nativeParams?D.c:D.b);t&&(i.bidfloor=t)}return i})),_={id:t.bidderRequestId,site:{page:a,publisher:p},device:i?.device||{ua:d},source:{fd:1},cur:[f],tmax:y,imp:h,bcat:c,badv:m,wlang:b,ext:{prebid:{channel:{name:"pbjs",version:"9.16.0"}}}};l&&(_.is_debug=!!l,_.test=1);const I=ty.getDataFromLocalStorage("OB-USER-TOKEN");return I&&(0,r.a)(_,"user.ext.obusertoken",I),(0,o.a)(t,"gdprConsent.gdprApplies")&&((0,r.a)(_,"user.ext.consent",t.gdprConsent.consentString),(0,r.a)(_,"regs.ext.gdpr",1&t.gdprConsent.gdprApplies)),t.uspConsent&&(0,r.a)(_,"regs.ext.us_privacy",t.uspConsent),!0===v.config.getConfig("coppa")&&(0,r.a)(_,"regs.coppa",1&v.config.getConfig("coppa")),t.gppConsent?((0,r.a)(_,"regs.ext.gpp",t.gppConsent.gppString),(0,r.a)(_,"regs.ext.gpp_sid",t.gppConsent.applicableSections)):(0,o.a)(t,"ortb2.regs.gpp")&&((0,r.a)(_,"regs.ext.gpp",t.ortb2.regs.gpp),(0,r.a)(_,"regs.ext.gpp_sid",t.ortb2.regs.gpp_sid)),u&&(0,r.a)(_,"user.ext.eids",u),{method:"POST",url:g,data:JSON.stringify(_),bids:e}},interpretResponse:(e,{bids:t})=>{if(!e.body)return[];const{seatbid:i,cur:a}=e.body,r=i.map((e=>e.bid)).flat().reduce(((e,t)=>(e[t.impid-1]=t,e)),[]);return t.map(((e,t)=>{const i=r[t];if(i){let t=D.b;e.nativeParams?t=D.c:ny(e)&&(t=D.d);const r={requestId:e.bidId,cpm:i.price,creativeId:i.crid,ttl:360,netRevenue:"net"===e.netRevenue,currency:a,mediaType:t,nurl:i.nurl};return t===D.c?r.native=function(e){const{assets:t,link:i,privacy:a,eventtrackers:n}=JSON.parse(e.adm),r={clickUrl:i.url,clickTrackers:i.clicktrackers||void 0};return t.forEach((e=>{const t=Qg[e.id],i=t&&e[ey[t].name];i&&(r[t]=i.text||i.value||{url:i.url,width:i.w,height:i.h})})),a&&(r.privacyLink=a),n&&(r.impressionTrackers=[],n.forEach((e=>{if(1===e.event)switch(e.method){case 1:r.impressionTrackers.push(e.url);break;case 2:r.javascriptTrackers=`<script src="${e.url}"><\/script>`}}))),r}(i):t===D.b?(r.ad=i.adm,r.width=i.w,r.height=i.h):t===D.d&&(r.vastXml=i.adm,(0,o.a)(e,"mediaTypes.video.context")===Se.c&&(r.renderer=function(e){let t={},i="https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js",a=function(e){e.renderer.push((()=>{window.ANOutstreamVideo.renderAd({sizes:e.sizes,targetId:e.adUnitCode,adResponse:{content:e.vastXml}})}))},r=(0,o.a)(e,"mediaTypes.video.renderer");r||(r=(0,o.a)(e,"renderer")),r&&(t=r.options,i=r.url,a=r.render);const s=zl.a.install({id:e.adUnitCode,url:i,config:t,adUnitCode:e.adUnitCode,loaded:!1});try{s.setRender(a)}catch(e){(0,n.jb)("Prebid Error calling setRender on renderer",e)}return s}(e))),r.meta={},i.adomain&&i.adomain.length>0&&(r.meta.advertiserDomains=i.adomain),r}})).filter(Boolean)},getUserSyncs:(e,t,i,a,n)=>{const r=[];let o=v.config.getConfig("outbrain.usersyncUrl"),s=[];return e.pixelEnabled&&o&&(i&&(s.push("gdpr="+(1&i.gdprApplies)),s.push("gdpr_consent="+encodeURIComponent(i.consentString||""))),a&&s.push("us_privacy="+encodeURIComponent(a)),n&&(s.push("gpp="+encodeURIComponent(n.gppString)),s.push("gpp_sid="+encodeURIComponent(n.applicableSections.join(",")))),r.push({type:"image",url:o+(s.length?"?"+s.join("&"):"")})),r},onBidWon:e=>{e.nurl&&(0,Vi.b)((0,n.tb)(e.nurl,e.originalCpm))}};function ay(e){return(0,n.b)(e.nativeParams,((e,t)=>{const i=ey[t],a={required:1&e.required};if(i){let t,n,r,o;a.id=i.id;let s=e.aspect_ratios;if(s&&s[0]&&(s=s[0],t=s.min_width||0,n=s.ratio_height*t/s.ratio_width|0),e.sizes){const t=e.sizes.flat();r=parseInt(t[0],10),o=parseInt(t[1],10)}return a[i.name]={len:e.len,type:i.type,wmin:t,hmin:n,w:r,h:o},a}})).filter(Boolean)}function ny(e){return"video"===e.mediaType||!!(0,o.a)(e,"mediaTypes.video")}(0,Ye.b)(iy),gt.a.add(ft.a.outbrain,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=Nl(a);Pl(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}a.native&&Ul(e,t.placementId,[{bidder:i.bidder,params:i.params}],a.native)})),gt.b.add(ft.a.outbrain,iy.gvlid);const ry={code:"openx",gvlid:69,supportedMediaTypes:[D.b,D.d],isBidRequestValid:function(e){const t=e.params.delDomain||e.params.platform;return o.a(e,"mediaTypes.banner")&&t?!!e.params.unit||o.a(e,"mediaTypes.banner.sizes.length")>0:!(!e.params.unit||!t)},buildRequests:function(e,t){let i=e.filter((e=>dy(e))),a=e.filter((e=>function(e){return o.a(e,"mediaTypes.banner")||!dy(e)}(e))),n=a.length?[sy(a,t,D.b)]:[];return i.forEach((e=>{n.push(sy([e],t,D.d))})),n},interpretResponse:function(e,t){return e.body||(e.body={nbr:0}),oy.fromORTB({request:t.data,response:e.body})},getUserSyncs:function(e,t,i,a){if(e.iframeEnabled||e.pixelEnabled){let n=e.iframeEnabled?"iframe":"image",r=[],o="https://u.openx.net/w/1.0/pd";if(i&&(r.push("gdpr="+(i.gdprApplies?1:0)),r.push("gdpr_consent="+encodeURIComponent(i.consentString||""))),a&&r.push("us_privacy="+encodeURIComponent(a)),t.length>0&&t[0].body&&t[0].body.ext){const e=t[0].body.ext;e.delDomain?o=`https://${e.delDomain}/w/1.0/pd`:e.platform&&r.push("ph="+e.platform)}else r.push("ph=2d1251ae-7f3a-47cf-bd2a-2f288854a0ba");return[{type:n,url:`${o}${r.length>0?"?"+r.join("&"):""}`}]}}};(0,Ye.b)(ry);const oy=am({context:{netRevenue:!0,ttl:300},imp(e,t,i){const a=e(t,i);return(0,n.lb)(a,{tagid:t.params.unit,ext:{divid:t.adUnitCode}}),t.params.customParams&&r.a(a,"ext.customParams",t.params.customParams),t.params.customFloor&&!a.bidfloor&&(a.bidfloor=t.params.customFloor),a},request(e,t,i,a){const o=e(t,i,a);(0,n.lb)(o,{at:1,ext:{bc:"hb_pb_ortb_2.0",pv:"9.16.0"}});const s=a.bidRequests[0];return s.params.coppa&&r.a(o,"regs.coppa",1),s.params.doNotTrack&&r.a(o,"device.dnt",1),s.params.platform&&r.a(o,"ext.platform",s.params.platform),s.params.delDomain&&r.a(o,"ext.delDomain",s.params.delDomain),s.params.response_template_name&&r.a(o,"ext.response_template_name",s.params.response_template_name),s.params.test&&(o.test=1),o},bidResponse(e,t,i){const a=e(t,i);return t.ext&&(a.meta.networkId=t.ext.dsp_id,a.meta.advertiserId=t.ext.buyer_id,a.meta.brandId=t.ext.brand_id),a},response(e,t,i,a){const{ortbRequest:s}=a;s.ext&&(s.ext.delDomain&&r.a(i,"ext.delDomain",s.ext.delDomain),s.ext.platform&&r.a(i,"ext.platform",s.ext.platform));const d=e(t,i,a);let l=o.a(i,"ext.fledge_auction_configs");return l?(l=Object.entries(l).map((([e,t])=>({bidId:e,config:(0,n.lb)(Object.assign({},t),{auctionSignals:{ortb2Imp:a.impContext[e]?.imp}})}))),{bids:d.bids,paapi:l}):d},overrides:{imp:{bidfloor(e,t,i,a){const n={};e(n,i,{...a,currency:"USD"}),"USD"===n.bidfloorcur&&Object.assign(t,n)},video(e,t,i,a){{let n=i.mediaTypes[D.d];n&&(n=Object.assign({},n,i.params.video),i={...i,mediaTypes:{[D.d]:n}}),e(t,i,a)}}}}});function sy(e,t,i){return{method:"POST",url:v.config.getConfig("openxOrtbUrl")||"https://rtb.openx.net/openrtbb/prebidjs",data:oy.toORTB({bidRequests:e,bidderRequest:t,context:{mediaType:i}})}}function dy(e){return o.a(e,"mediaTypes.video")}gt.a.add(ft.a.OpenX,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=Nl(a);Pl(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}a.outstream&&Ml(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream)})),gt.b.add(ft.a.OpenX,ry.gvlid);const ly="https://prisma.nexx360.io/track-imp",py={code:"prisma",gvlid:965,aliases:["prismadirect"],supportedMediaTypes:[D.b,D.d],isBidRequestValid:function(e){return!(!e.params.account||!e.params.tagId)},buildRequests:function(e,t){const i=[],a=v.config.getConfig("debug")?1:0;let n=null,r=null;Object.keys(e).forEach((a=>{n=e[a];const o={account:n.params.account,tagId:n.params.tagId,label:n.adUnitCode,bidId:n.bidId,auctionId:n.auctionId,transactionId:n.ortb2Imp?.ext?.tid,mediatypes:n.mediaTypes,bidfloor:0,bidfloorCurrency:"USD",keywords:Tc(t.ortb2,n.params.keywords)};i.push(o),n.userIdAsEids&&(r=n.userIdAsEids)}));const o={adUnits:i,href:encodeURIComponent(t.refererInfo.page||t.refererInfo.topmostLocation)};return t&&(t.gdprConsent?(o.gdpr=t.gdprConsent.gdprApplies?1:0,o.gdprConsent=t.gdprConsent.consentString):(o.gdpr=0,o.gdprConsent=""),t.uspConsent&&(o.uspConsent=t.uspConsent),t.schain&&(o.schain=t.schain),null!==r&&(o.userEids=r)),o.connectionType=function(){const e=navigator.connection||navigator.webkitConnection;if(!e)return 0;switch(e.type){case"ethernet":return 1;case"wifi":return 2;case"wimax":return 6;default:switch(e.effectiveType){case"slow-2g":case"2g":return 4;case"3g":return 5;case"4g":return 6;case"5g":return 7;default:return"cellular"==e.type?3:0}}}(),a&&(o.test=1),{method:"POST",url:"https://prisma.nexx360.io/prebid",data:JSON.stringify(o)}},interpretResponse:function(e){const t=e.body,i=[];let a=null,n=null;return t.hasOwnProperty("responses")&&Object.keys(t.responses).forEach((e=>{n=t.responses[e];const r=`https://prisma.nexx360.io/cache?uuid=${n.uuid}`;if(a={requestId:n.bidId,cpm:n.cpm,currency:n.currency,width:n.width,height:n.height,ttl:n.ttl,creativeId:n.creativeId,netRevenue:!0,prisma:{ssp:n.bidder,consent:n.consent,tagId:n.tagId},meta:{advertiserDomains:n.adomain||[]}},"banner"===n.type&&(a.adUrl=r),"video"===n.type){const e={type:"prebid",mediatype:"video",ssp:n.bidder,tag_id:n.tagId,consent:n.consent,price:n.cpm};a.cpm=n.cpm,a.mediaType="video",a.vastUrl=r,a.vastImpUrl=`${ly}?${new URLSearchParams(e).toString()}`}i.push(a)})),i},getUserSyncs:function(e,t){return"object"==typeof t&&null!=t&&t.length>0&&t[0].hasOwnProperty("body")&&t[0].body.hasOwnProperty("cookies")&&"object"==typeof t[0].body.cookies?t[0].body.cookies.slice(0,5):[]},onBidWon:function(e){const t={type:"prebid",mediatype:"banner"};e.hasOwnProperty("prisma")&&(e.prisma.hasOwnProperty("ssp")&&(t.ssp=e.prisma.ssp),e.prisma.hasOwnProperty("tagId")&&(t.tag_id=e.prisma.tagId),e.prisma.hasOwnProperty("consent")&&(t.consent=e.prisma.consent)),t.price=e.cpm;const i=`${ly}?${new URLSearchParams(t).toString()}`;return(0,Vi.b)(i,null,void 0,{method:"GET",withCredentials:!0}),!0}};(0,Ye.b)(py),gt.a.add(ft.a.prisma,bu),gt.b.add(ft.a.prisma,py.gvlid);const cy="pubmatic",my="PubMatic: ",uy="USD",by=void 0,fy="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),gy={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},yy={NUMBER:"number",STRING:"string",BOOLEAN:"boolean",ARRAY:"array",OBJECT:"object"},hy={mimes:yy.ARRAY,minduration:yy.NUMBER,maxduration:yy.NUMBER,startdelay:yy.NUMBER,playbackmethod:yy.ARRAY,api:yy.ARRAY,protocols:yy.ARRAY,w:yy.NUMBER,h:yy.NUMBER,battr:yy.ARRAY,linearity:yy.NUMBER,placement:yy.NUMBER,plcmt:yy.NUMBER,minbitrate:yy.NUMBER,maxbitrate:yy.NUMBER,skip:yy.NUMBER},vy={battr:yy.ARRAY},_y={1:"PMP",5:"PREF",6:"PMPG"},Iy={bootstrapPlayer:function(e){const t={code:e.adUnitCode};if(e.vastXml?t.vastXml=e.vastXml:e.vastUrl&&(t.vastUrl=e.vastUrl),!e.vastXml&&!e.vastUrl)return void(0,n.jb)(`${my}: No vastXml or vastUrl on bid, bailing...`);const i=Iy.getRendererId("pubmatic",e.rendererCode),a=document.getElementById(e.adUnitCode);let r;for(let e=0;e<window.bluebillywig.renderers.length;e++)if(window.bluebillywig.renderers[e]._id===i){r=window.bluebillywig.renderers[e];break}r?r.bootstrap(t,a):(0,n.jb)(`${my}: Couldn't find a renderer with ${i}`)},newRenderer:function(e,t){var i=fy.replace("$RENDERER",e);const a=zl.a.install({url:i,loaded:!1,adUnitCode:t});try{a.setRender(Iy.outstreamRender)}catch(e){(0,n.jb)(`${my}: Error tying to setRender on renderer`,e)}return a},outstreamRender:function(e){e.renderer.push((function(){Iy.bootstrapPlayer(e)}))},getRendererId:function(e,t){return`${e}-${t}`}},wy=[D.b,D.d,D.c];let xy=0,Ty=!1,Dy=["pubmatic"];const Ay=["all"];function Sy(e,t){if(!(0,n.eb)(t))return t&&(0,n.jb)(my+"Ignoring param key: "+e+", expects string-value, found "+typeof t),by;switch(e){case"pmzoneid":return t.split(",").slice(0,50).map((e=>e.trim())).join();case"kadfloor":case"lat":case"lon":return parseFloat(t)||by;case"yob":return parseInt(t)||by;default:return t}}function Cy(){let e=window.navigator&&(window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection);switch(e?.effectiveType){case"ethernet":return 1;case"wifi":return 2;case"slow-2g":case"2g":return 4;case"3g":return 5;case"4g":return 6;default:return 0}}function Ry(e,t,i){var a,r="Ignoring param key: "+e+", expects "+i+", found "+typeof t;switch(i){case yy.BOOLEAN:a=n.W;break;case yy.NUMBER:a=n.ab;break;case yy.STRING:a=n.eb;break;case yy.ARRAY:a=n.V}return a(t)?t:((0,n.jb)(my+r),by)}const ky={desc:"desc",desc2:"desc2",body:"desc",body2:"desc2",sponsoredBy:"sponsored",cta:"ctatext",rating:"rating",address:"address",downloads:"downloads",likes:"likes",phone:"phone",price:"price",salePrice:"saleprice",displayUrl:"displayurl",saleprice:"saleprice",displayurl:"displayurl"},Ey=Object.values(ky);function My(e){var t;if(e.ortb){e=e.ortb,t={ver:"1.2",...e,assets:[]};const{assets:i}=e,a=e=>e.title||e.img||e.data||e.video;if(i.length<1||!i.some((e=>a(e))))return(0,n.jb)(`${my}: Native assets object is empty or contains some invalid object`),Ty=!0,t;i.forEach((e=>{var i=e;i.img&&(3==i.img.type?(i.w=i.w||i.width||(i.sizes?i.sizes[0]:by),i.h=i.h||i.height||(i.sizes?i.sizes[1]:by),i.wmin=i.wmin||i.minimumWidth||(i.minsizes?i.minsizes[0]:by),i.hmin=i.hmin||i.minimumHeight||(i.minsizes?i.minsizes[1]:by)):1==i.img.type&&(i.w=i.w||i.width||(i.sizes?i.sizes[0]:by),i.h=i.h||i.height||(i.sizes?i.sizes[1]:by))),i&&void 0!==i.id&&a(i)&&t.assets.push(i)}))}else t=function(e){if(!e&&!(0,n.bb)(e))return(0,n.jb)(`${my}: Native assets object is empty or not an object: ${e}`),void(Ty=!0);const t={ver:"1.2",assets:[]};for(let i in e){if(d.i.includes(i))continue;if(!d.j.hasOwnProperty(i)&&!Ey.includes(i)){(0,n.jb)(`${my}: Unrecognized native asset code: ${i}. Asset will be ignored.`);continue}const a=e[i];let r=0;a.required&&(0,n.W)(a.required)&&(r=Number(a.required));const o={id:t.assets.length,required:r};if(i in ky)o.data={type:d.g[ky[i]]},(a.len||a.length)&&(o.data.len=a.len||a.length),a.ext&&(o.data.ext=a.ext);else if("icon"===i||"image"===i){if(o.img={type:"icon"===i?d.h.ICON:d.h.MAIN},a.aspect_ratios)if((0,n.V)(a.aspect_ratios))if(a.aspect_ratios.length){const{min_width:e,min_height:t}=a.aspect_ratios[0];(0,n.$)(e)&&(0,n.$)(t)?(o.img.wmin=e,o.img.hmin=t):(0,n.jb)(`${my}: image.aspect_ratios min_width or min_height are invalid: ${e}, ${t}`);const i=a.aspect_ratios.filter((e=>e.ratio_width&&e.ratio_height)).map((e=>`${e.ratio_width}:${e.ratio_height}`));i.length>0&&(o.img.ext={aspectratios:i})}else(0,n.jb)(`${my}: image.aspect_ratios was passed, but it's empty: ${a.aspect_ratios}`);else(0,n.jb)(`${my}: image.aspect_ratios was passed, but it's not a an array: ${a.aspect_ratios}`);o.img.w=a.w||a.width,o.img.h=a.h||a.height,o.img.wmin=a.wmin||a.minimumWidth||(a.minsizes?a.minsizes[0]:by),o.img.hmin=a.hmin||a.minimumHeight||(a.minsizes?a.minsizes[1]:by),a.sizes&&(2===a.sizes.length&&(0,n.$)(a.sizes[0])&&(0,n.$)(a.sizes[1])?((0,n.hb)(`${my}: if asset.sizes exist, by OpenRTB spec we should remove wmin and hmin`),o.img.w=a.sizes[0],o.img.h=a.sizes[1],delete o.img.hmin,delete o.img.wmin):(0,n.jb)(`${my}: image.sizes was passed, but its value is not an array of integers: ${a.sizes}`)),a.ext&&(o.img.ext=a.ext),a.mimes&&(o.img.mimes=a.mimes)}else"title"===i?(o.title={len:a.len||a.length||140},a.ext&&(o.title.ext=a.ext)):"ext"===i&&(o.ext=a,delete o.required);t.assets.push(o)}return t.assets.length<1?((0,n.jb)(`${my}: Could not find any valid asset`),void(Ty=!0)):t}(e);return t}function Oy(e){var t,i=e.mediaTypes.banner.sizes,a=[];if(i!==by&&(0,n.V)(i)){if(t={},e.params.width||e.params.height)t.w=e.params.width,t.h=e.params.height;else{if(0===i.length)return t=by,(0,n.jb)(my+"Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t;t.w=parseInt(i[0][0],10),t.h=parseInt(i[0][1],10),i=i.splice(1,i.length-1)}i.length>0&&(a=[],i.forEach((function(e){e.length>1&&a.push({w:e[0],h:e[1]})})),a.length>0&&(t.format=a)),t.pos=0,t.topframe=(0,n.N)()?0:1;const r={...(0,o.a)(e,"ortb2Imp.banner")};for(let e in vy)r.hasOwnProperty(e)&&(t[e]=Ry(e,r[e],vy[e]))}else(0,n.jb)(my+"Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t=by;return t}function Uy(e){var t,i=(0,n.lb)((0,o.a)(e.mediaTypes,"video"),e.params.video);if(i!==by){for(var a in t={},function(e,t){(0,o.a)(e,"plcmt")||(0,n.jb)("Video.plcmt param missing for "+t)}(i,e.adUnitCode),hy)i.hasOwnProperty(a)&&(t[a]=Ry(a,i[a],hy[a]));(0,n.V)(e.mediaTypes.video.playerSize[0])?(t.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),t.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):(0,n.ab)(e.mediaTypes.video.playerSize[0])&&(t.w=parseInt(e.mediaTypes.video.playerSize[0],10),t.h=parseInt(e.mediaTypes.video.playerSize[1],10))}else t=by,(0,n.jb)(my+"Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return t}function By(e,t){(t=t.filter((function(e){return"string"==typeof e||((0,n.jb)(my+"acat: Each category should be a string, ignoring category: "+e),!1)})).map((e=>e.trim())).filter(((e,t,i)=>i.indexOf(e)===t))).length>0&&((0,n.jb)(my+"acat: Selected: ",t),e.ext.acat=t)}function Py(e){return!0===(0,n.V)(e)&&e.length>0}const Ny={code:cy,gvlid:76,supportedMediaTypes:[D.b,D.d,D.c],isBidRequestValid:e=>{if(e&&e.params){if(!(0,n.eb)(e.params.publisherId))return(0,n.jb)(my+"Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1;if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(D.d)){let t=(0,o.a)(e.mediaTypes,"video.mimes"),i=(0,o.a)(e,"params.video.mimes");if(!1===Py(t)&&!1===Py(i))return(0,n.jb)(my+"Error: For video ads, bid.mediaTypes.video.mimes OR bid.params.video.mimes should be present and must be a non-empty array. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1;if(!e.mediaTypes[D.d].hasOwnProperty("context"))return(0,n.gb)(`${my}: no context specified in bid. Rejecting bid: `,e),!1;if("outstream"===e.mediaTypes[D.d].context&&!(0,n.eb)(e.params.outstreamAU)&&!e.hasOwnProperty("renderer")&&!e.mediaTypes[D.d].hasOwnProperty("renderer"))return e.mediaTypes.hasOwnProperty(D.b)||e.mediaTypes.hasOwnProperty(D.c)?(delete e.mediaTypes[D.d],(0,n.jb)(`${my}: for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting mediatype Video of bid: `,e),!0):((0,n.gb)(`${my}: for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting bid: `,e),!1)}return!0}return!1},buildRequests:(e,t)=>{var i;t&&t.refererInfo&&(i=t.refererInfo);var a,s=function(e){return{pageURL:e?.page||window.location.href,refURL:e?.ref||window.document.referrer}}(i),d=function(e){return{id:""+(new Date).getTime(),at:1,cur:[uy],imp:[],site:{page:e.pageURL,ref:e.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language,connectiontype:Cy()},user:{},ext:{}}}(s),l="",p=[],c=[],m=[],u=(0,n.w)();if(e.forEach((e=>{if(e.params.wiid=e.params.wiid||t.auctionId||u,(a=(0,n.p)(e)).params.adSlot=a.params.adSlot||"",function(e){var t;e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=(t=e.params.adSlot,(0,n.eb)(t)?t.replace(/^\s+/g,"").replace(/\s+$/g,""):(t&&(0,n.jb)(cy+": adSlot must be a string. Ignoring adSlot"),""));var i=e.params.adSlot,a=i.split(":");if(i=a[0],2==a.length&&(e.params.adUnitIndex=a[1]),a=i.split("@"),e.params.adUnit=a[0],a.length>1){if(2!=(a=a[1].split("x")).length)return void(0,n.jb)(my+"AdSlot Error: adSlot not in required format");e.params.width=parseInt(a[0],10),e.params.height=parseInt(a[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(D.b)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var r=0,o=[];r<e.mediaTypes.banner.sizes.length;r++)2===e.mediaTypes.banner.sizes[r].length&&o.push(e.mediaTypes.banner.sizes[r]);e.mediaTypes.banner.sizes=o,e.mediaTypes.banner.sizes.length>=1&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}(a),a.mediaTypes&&a.mediaTypes.hasOwnProperty("video")||a.params.hasOwnProperty("video"));else if(!(a.hasOwnProperty("mediaTypes")&&a.mediaTypes.hasOwnProperty(D.c)||0!==a.params.width||0!==a.params.height))return void(0,n.jb)(my+"Skipping the non-standard adslot: ",a.params.adSlot,JSON.stringify(a));s.pubId=s.pubId||a.params.publisherId,(s=function(e,t){var i,a,r;for(i in t.kadpageurl||(t.kadpageurl=t.pageURL),gy)gy.hasOwnProperty(i)&&(a=e[i])&&("object"==typeof(r=gy[i])&&(a=r.f(a,t)),(0,n.eb)(a)?t[i]=a:(0,n.jb)(my+"Ignoring param : "+i+" with value : "+gy[i]+", expects string-value, found "+typeof a));return t}(a.params,s)).transactionId=a.ortb2Imp?.ext?.tid,""===l?l=a.params.currency||by:a.params.hasOwnProperty("currency")&&l!==a.params.currency&&(0,n.jb)(my+"Currency specifier ignored. Only one currency permitted."),a.params.currency=l,a.params.hasOwnProperty("dctr")&&(0,n.eb)(a.params.dctr)&&p.push(a.params.dctr),a.params.hasOwnProperty("bcat")&&(0,n.V)(a.params.bcat)&&(c=c.concat(a.params.bcat)),a.params.hasOwnProperty("acat")&&(0,n.V)(a.params.acat)&&(m=m.concat(a.params.acat));var i=function(e,t){var i,a,s={},d={},l=e.hasOwnProperty("sizes")?e.sizes:[],p="",c=[],m=t?.paapi?.enabled;if(function(e,t){t.params.deals&&((0,n.V)(t.params.deals)?t.params.deals.forEach((function(t){(0,n.eb)(t)&&t.length>3?(e.pmp||(e.pmp={private_auction:0,deals:[]}),e.pmp.deals.push({id:t})):(0,n.jb)(my+"Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+t)})):(0,n.jb)(my+"Error: bid.params.deals should be an array of strings."))}(s={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:Sy("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:Sy("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?Sy("currency",e.params.currency):uy,displaymanager:"Prebid.js",displaymanagerver:"9.16.0",pmp:e.ortb2Imp?.pmp||void 0},e),function(e,t){var i,a="";if(t.params.dctr)if(a=t.params.dctr,(0,n.eb)(a)&&a.length>0){var r=a.split("|");a="",r.forEach((e=>{a+=e.length>0?e.trim()+"|":""})),i=a.length,"|"===a.substring(i,i-1)&&(a=a.substring(0,i-1)),e.ext.key_val=a.trim()}else(0,n.jb)(my+"Ignoring param : dctr with value : "+a+", expects string-value, found empty or non-string value")}(s,e),function(e,t){var i=t.rtd&&t.rtd.jwplayer&&t.rtd.jwplayer.targeting||void 0,a="";if(void 0!==i&&""!==i&&i.hasOwnProperty("segments")){var n,r=i.segments.length;a+="jw-id="+i.content.id;for(var o=0;o<r;o++)a+="|jw-"+i.segments[o]+"=1";(n=e.ext)&&void 0===n.key_val?n.key_val=a:n.key_val+="|"+a}}(s,e),e.hasOwnProperty("mediaTypes"))for(p in e.mediaTypes)switch(p){case D.b:(i=Oy(e))!==by&&(s.banner=i);break;case D.c:d.request=JSON.stringify(My(e.nativeParams)),Ty?((0,n.jb)(my+"Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."),Ty=!1):s.native=d;break;case D.d:(a=Uy(e))!==by&&(s.video=a)}else i={pos:0,w:e.params.width,h:e.params.height,topframe:(0,n.N)()?0:1},(0,n.V)(l)&&l.length>1&&((l=l.splice(1,l.length-1)).forEach((e=>{c.push({w:e[0],h:e[1]})})),i.format=c),s.banner=i;return function(e,t){const i={...(0,o.a)(t,"ortb2Imp.ext.data")};Object.keys(i).forEach((t=>{"pbadslot"===t?"string"==typeof i[t]&&i[t]&&(0,r.a)(e,"ext.data.pbadslot",i[t]):"adserver"===t?["name","adslot"].forEach((t=>{const a=(0,o.a)(i,`adserver.${t}`);"string"==typeof a&&a&&((0,r.a)(e,`ext.data.adserver.${t.toLowerCase()}`,a),"adslot"===t&&(0,r.a)(e,"ext.dfp_ad_unit_code",a))})):(0,r.a)(e,`ext.data.${t}`,i[t])}));const a=(0,o.a)(t,"ortb2Imp.ext.gpid");a&&(0,r.a)(e,"ext.gpid",a)}(s,e),function(e,t){let i=-1;"function"!=typeof t.getFloor||v.config.getConfig("pubmatic.disableFloors")||[D.b,D.d,D.c].forEach((a=>{if(e.hasOwnProperty(a)){let r=[];"banner"===a&&(e[a].w&&e[a].h&&r.push([e[a].w,e[a].h]),(0,n.V)(e[a].format)&&e[a].format.forEach((e=>r.push([e.w,e.h])))),0===r.length&&r.push("*"),r.forEach((r=>{let o=t.getFloor({currency:e.bidfloorcur,mediaType:a,size:r});if((0,n.hb)(my,"floor from floor module returned for mediatype:",a," and size:",r," is: currency",o.currency,"floor",o.floor),"object"==typeof o&&o.currency===e.bidfloorcur&&!isNaN(parseInt(o.floor))){let e=parseFloat(o.floor);(0,n.hb)(my,"floor from floor module:",e,"previous floor value",i,"Min:",Math.min(e,i)),i=-1===i?e:Math.min(e,i),(0,n.hb)(my,"new floor value:",i)}}))}})),e.bidfloor&&((0,n.hb)(my,"floor from floor module:",i,"impObj.bidfloor",e.bidfloor,"Max:",Math.max(i,e.bidfloor)),i=Math.max(i,e.bidfloor)),e.bidfloor=!isNaN(i)&&i>0?i:by,(0,n.hb)(my,"new impObj.bidfloor value:",e.bidfloor)}(s,e),function(e,t,i){i?(e.ext=e.ext||{},void 0!==t?.ortb2Imp?.ext?.ae&&(e.ext.ae=t.ortb2Imp.ext.ae)):e.ext?.ae&&delete e.ext.ae}(s,e,m),s.hasOwnProperty(D.b)||s.hasOwnProperty(D.c)||s.hasOwnProperty(D.d)?s:by}(a,t);i&&d.imp.push(i)})),0==d.imp.length)return;d.site.publisher.id=s.pubId.trim(),xy=s.pubId.trim(),d.ext.wrapper={},d.ext.wrapper.profile=parseInt(s.profId)||by,d.ext.wrapper.version=parseInt(s.verId)||by,d.ext.wrapper.wiid=s.wiid||t.auctionId,d.ext.wrapper.wv="prebid_prebid_9.16.0",d.ext.wrapper.transactionId=s.transactionId,d.ext.wrapper.wp="pbjs";const b=t?w.a.get(t.bidderCode,"allowAlternateBidderCodes"):void 0;if(void 0!==b){if(d.ext.marketplace={},t&&1==b){let e=w.a.get(t.bidderCode,"allowedAlternateBidderCodes");(0,n.V)(e)?(e=e.map((e=>e.trim().toLowerCase())).filter((e=>!!e)).filter(n.Gb),Dy=e.includes("*")?Ay:[...Dy,...e]):Dy=Ay}d.ext.marketplace.allowedbidders=Dy.filter(n.Gb)}d.user.gender=s.gender?s.gender.trim():by,d.user.geo={},d.user.yob=Sy("yob",s.yob),d.site.page=s.kadpageurl.trim()||d.site.page.trim(),d.site.domain=function(e){let t=document.createElement("a");return t.href=e,t.hostname}(d.site.page),"object"==typeof v.config.getConfig("content")&&(d.site.content=v.config.getConfig("content")),"object"==typeof v.config.getConfig("device")&&(d.device=Object.assign(d.device,v.config.getConfig("device"))),d.device.language=d.device.language&&d.device.language.split("-")[0],(0,r.a)(d,"source.tid",t?.ortb2?.source?.tid),-1!==window.location.href.indexOf("pubmaticTest=true")&&(d.test=1),e[0].schain&&(0,r.a)(d,"source.ext.schain",e[0].schain),t&&t.gdprConsent&&((0,r.a)(d,"user.ext.consent",t.gdprConsent.consentString),(0,r.a)(d,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&(0,r.a)(d,"regs.ext.us_privacy",t.uspConsent),t?.gppConsent?.gppString?((0,r.a)(d,"regs.gpp",t.gppConsent.gppString),(0,r.a)(d,"regs.gpp_sid",t.gppConsent.applicableSections)):t?.ortb2?.regs?.gpp&&((0,r.a)(d,"regs.gpp",t.ortb2.regs.gpp),(0,r.a)(d,"regs.gpp_sid",t.ortb2.regs.gpp_sid)),!0===v.config.getConfig("coppa")&&(0,r.a)(d,"regs.coppa",1),t?.ortb2?.regs?.ext?.dsa&&(0,r.a)(d,"regs.ext.dsa",t.ortb2.regs.ext.dsa),function(e,t){let i=(0,o.a)(t,"0.userIdAsEids");(0,n.V)(i)&&i.length>0&&(0,r.a)(e,"user.eids",i)}(d,e);const f=t&&t.ortb2||{},{user:g,device:y,site:h,bcat:_,badv:I}=f;if(h){const{page:e,domain:t,ref:i}=d.site;(0,n.lb)(d,{site:h}),d.site.page=e,d.site.domain=t,d.site.ref=i}if(g&&(0,n.lb)(d,{user:g}),I&&(0,n.lb)(d,{badv:I}),_&&(c=c.concat(_)),y?.sua&&(d.device.sua=y?.sua),y?.ext?.cdep&&(0,r.a)(d,"device.ext.cdep",y.ext.cdep),g?.geo&&y?.geo?(d.device.geo={...d.device.geo,...y.geo},d.user.geo={...d.user.geo,...g.geo}):(g?.geo||y?.geo)&&(d.user.geo=d.device.geo=g?.geo?{...d.user.geo,...g.geo}:{...d.user.geo,...y.geo}),f.ext?.prebid?.bidderparams?.[t.bidderCode]?.acat){const e=f.ext.prebid.bidderparams[t.bidderCode].acat;By(d,e)}else m.length&&By(d,m);return function(e,t){(t=t.filter((function(e){return"string"==typeof e||((0,n.jb)(my+"bcat: Each category should be a string, ignoring category: "+e),!1)})).map((e=>e.trim())).filter((function(e,t,i){if(e.length>3)return i.indexOf(e)===t;(0,n.jb)(my+"bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)}))).length>0&&((0,n.jb)(my+"bcat: Selected: ",t),e.bcat=t)}(d,c),d.tmax=t?.timeout?t.timeout:window?.PWT?.versionDetails?.timeout,d.ext.epoch=(new Date).getTime(),"object"==typeof v.config.getConfig("app")&&(d.app=v.config.getConfig("app"),d.app.publisher=d.site.publisher,d.app.ext=d.site.ext||by,"object"!=typeof d.app.content&&(d.app.content=d.site.content||by),delete d.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(d),bidderRequest:t}},interpretResponse:(e,t)=>{const i=[];var a=uy;let r=JSON.parse(t.data),s=r.site&&r.site.ref?r.site.ref:"";try{e.body&&e.body.seatbid&&(0,n.V)(e.body.seatbid)&&(a=e.body.cur||a,e.body.seatbid.forEach((e=>{e.bid&&(0,n.V)(e.bid)&&e.bid.forEach((d=>{let l={requestId:d.impid,cpm:parseFloat((d.price||0).toFixed(2)),width:d.w,height:d.h,creativeId:d.crid||d.id,dealId:d.dealid,currency:a,netRevenue:!0,ttl:300,referrer:s,ad:d.adm,pm_seat:e.seat||null,pm_dspid:d.ext&&d.ext.dspid?d.ext.dspid:null,partnerImpId:d.id||""};r.imp&&r.imp.length>0&&r.imp.forEach((e=>{if(d.impid===e.id)switch(function(e,t){if(e.ext&&null!=e.ext.bidtype)t.mediaType=wy[e.ext.bidtype];else{(0,n.hb)(my+"bid.ext.bidtype does not exist, checking alternatively for mediaType");var i=e.adm,a="",r=new RegExp(/VAST\s+version/);if(i.indexOf('span class="PubAPIAd"')>=0)t.mediaType=D.b;else if(r.test(i))t.mediaType=D.d;else try{(a=JSON.parse(i.replace(/\\/g,"")))&&a.native&&(t.mediaType=D.c)}catch(e){(0,n.jb)(my+"Error: Cannot parse native reponse for ad response: "+i)}}}(d,l),l.mediaType){case D.b:break;case D.d:l.width=d.hasOwnProperty("w")?d.w:e.video.w,l.height=d.hasOwnProperty("h")?d.h:e.video.h,l.vastXml=d.adm,function(e,t){let i,a,n;if(t.bidderRequest&&t.bidderRequest.bids){for(let r=0;r<t.bidderRequest.bids.length;r++)t.bidderRequest.bids[r].bidId===e.requestId&&(i=t.bidderRequest.bids[r].params,a=t.bidderRequest.bids[r].mediaTypes[D.d].context,n=t.bidderRequest.bids[r].adUnitCode);a&&"outstream"===a&&i&&i.outstreamAU&&n&&(e.rendererCode=i.outstreamAU,e.renderer=Iy.newRenderer(e.rendererCode,n))}}(l,t),function(e,t,i){if(!t?.ext?.prebiddealpriority)return;const a=(0,n.y)(e.requestId,[i.bidderRequest]),r=(0,o.a)(a,"mediaTypes.video");if(r?.context!=D.a)return;const s=t?.ext?.video?.duration||r?.maxduration;e.video={context:D.a,durationSeconds:s,dealTier:t.ext.prebiddealpriority}}(l,d,t);break;case D.c:!function(e,t){if(e.hasOwnProperty("adm")){var i="";try{i=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){return void(0,n.jb)(my+"Error: Cannot parse native reponse for ad response: "+t.adm)}t.native={ortb:{...i.native}},t.mediaType=D.c,t.width||(t.width=0),t.height||(t.height=0)}}(d,l)}})),d.ext&&d.ext.deal_channel&&(l.dealChannel=_y[d.ext.deal_channel]||null),function(e,t,i){e.meta={},t.ext&&t.ext.dspid&&(e.meta.networkId=t.ext.dspid,e.meta.demandSource=t.ext.dspid),t.ext&&t.ext.dchain&&(e.meta.dchain=t.ext.dchain);const a=i||t.ext&&t.ext.advid;a&&(e.meta.advertiserId=a,e.meta.agencyId=a,e.meta.buyerId=a),t.adomain&&Py(t.adomain)&&(e.meta.advertiserDomains=t.adomain,e.meta.clickUrl=t.adomain[0],e.meta.brandId=t.adomain[0]),t.cat&&Py(t.cat)&&(e.meta.secondaryCatIds=t.cat,e.meta.primaryCatId=t.cat[0]),t.ext&&t.ext.dsa&&Object.keys(t.ext.dsa).length&&(e.meta.dsa=t.ext.dsa)}(l,d,e.seat),e.ext&&e.ext.buyid&&(l.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),d.ext&&d.ext.marketplace&&(l.bidderCode=d.ext.marketplace),i.push(l)}))})));let d=(0,o.a)(e.body,"ext.fledge_auction_configs");if(d)return d=Object.entries(d).map((([e,t])=>({bidId:e,config:Object.assign({auctionSignals:{}},t)}))),{bids:i,paapi:d}}catch(e){(0,n.gb)(e)}return i},getUserSyncs:(e,t,i,a,n)=>{let r=""+xy;return i&&(r+="&gdpr="+(i.gdprApplies?1:0),r+="&gdpr_consent="+encodeURIComponent(i.consentString||"")),a&&(r+="&us_privacy="+encodeURIComponent(a)),n?.gppString&&n?.applicableSections?.length&&(r+="&gpp="+encodeURIComponent(n.gppString),r+="&gpp_sid="+encodeURIComponent(n?.applicableSections?.join(","))),!0===v.config.getConfig("coppa")&&(r+="&coppa=1"),e.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/user_sync.html?kdntuid=1&p="+r}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+r}]}};(0,Ye.b)(Ny);const jy={ver:"1.2",assets:[{id:0,required:0,img:{type:1,wmin:1,hmin:1}},{id:1,required:1,img:{type:3,wmin:1,hmin:1}},{id:2,required:1,title:{len:80}},{id:3,required:0,data:{type:2}},{id:4,required:0,data:{type:1}},{id:5,required:0,data:{type:12}}]},zy=(e,t)=>({...Sl,...t,...e.params.video});gt.a.add(ft.a.pubmatic,((e,{bid:t,placement:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=Nl(a),{video:r,...o}=t.params;Pl(e,i.placementId,n,[{bidder:t.bidder,params:o}])}if(a.native){let n;n=(0,Tt.e)(a.native)||a.native.ortb?{ortb:(0,Tt.e)(a.native)?jy:{...jy,...a.native.ortb}}:a.native,Ul(e,i.placementId,[{bidder:t.bidder,params:t.params}],n)}a.outstream&&Ml(e,i.placementId,a.outstream,[{bidder:t.bidder,params:{...t.params,video:zy(t,a.outstream.openRtbParams)}}],i.rendering?.outstream),a.instream&&Ol(e,i.placementId,a.instream,[{bidder:t.bidder,params:t.params}])})),gt.b.add(ft.a.pubmatic,Ny.gvlid);const qy=[D.b,D.d],$y={PRODUCTION:"hb-multi",TEST:"hb-multi-test"},Fy={code:"rise",aliases:[{code:"risexchange",gvlid:1043},{code:"openwebxchange",gvlid:280}],gvlid:1043,version:"6.0.0",supportedMediaTypes:qy,isBidRequestValid:function(e){return e.params?!!e.params.org||((0,n.jb)("org is a mandatory param for Rise adapter"),!1):((0,n.jb)("no params have been set to Rise adapter"),!1)},buildRequests:function(e,t){const i={},a=e[0],n=a.params.testMode,r=a.params.rtbDomain||"https://hb.yellowblue.io/";return i.params=dg(a,t),i.bids=og(e),{method:"POST",url:rg(n,r,$y),data:i}},interpretResponse:function({body:e}){const t=[];return e.bids&&e.bids.forEach((e=>{const i=sg(e,"USD",360,D.d,D.b);t.push(i)})),t},getUserSyncs:function(e,t){const i=[];for(const a of t)if(e.iframeEnabled&&(0,o.a)(a,"body.params.userSyncURL")&&i.push({type:"iframe",url:(0,o.a)(a,"body.params.userSyncURL")}),e.pixelEnabled&&(0,n.V)((0,o.a)(a,"body.params.userSyncPixels"))){const e=a.body.params.userSyncPixels.map((e=>({type:"image",url:e})));i.push(...e)}return i},onBidWon:function(e){null!=e&&((0,n.hb)("onBidWon:",e),e.hasOwnProperty("nurl")&&e.nurl.length>0&&(0,n.Fb)(e.nurl))}};(0,Ye.b)(Fy),gt.a.add(ft.a.rise,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{a.outstream&&Ml(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream),a.banner&&Pl(e,t.placementId,a.banner.sizes,[{bidder:i.bidder,params:i.params}])})),gt.b.add(ft.a.rise,Fy.gvlid);const Vy=["prebid-eu","prebid-us","prebid-asia"],Ly="https://fledge-ssp.creativecdn.com",Gy="https://fledge-ssp.creativecdn.com/component-seller-prebid.js",Wy=["USD"],Hy=[D.b,D.c],Xy=[{name:"dsarequired",min:0,max:3},{name:"pubrender",min:0,max:2},{name:"datatopub",min:0,max:2}],Yy={NATIVE:{IMAGE_TYPE:{ICON:1,MAIN:3},ASSET_ID:{TITLE:1,IMAGE:2,ICON:3,BODY:4,SPONSORED:5,CTA:6},DATA_ASSET_TYPE:{SPONSORED:1,DESC:2,CTA_TEXT:12}}},Jy={code:"rtbhouse",supportedMediaTypes:Hy,gvlid:16,isBidRequestValid:function(e){return!(!(0,l.c)(Vy,e.params.region)||!e.params.publisherId)},buildRequests:function(e,t){e=(0,s.b)(e);const i={id:t.bidderRequestId,imp:e.map((e=>function(e,t){const i={id:e.bidId,banner:Ky(e),native:eh(e),tagid:e.adUnitCode.toString()},a=function(e){const t=[];return"function"==typeof e.getFloor&&Object.keys(e.mediaTypes).forEach((i=>{(0,l.c)(Hy,i)&&t.push(e.getFloor({currency:Wy[0],mediaType:i,size:e.sizes||"*"}).floor)})),t.length>0?Math.max(...t):parseFloat(e.params.bidfloor)}(e);a&&(i.bidfloor=a),t.paapi?.enabled?(i.ext=i.ext||{},i.ext.ae=e?.ortb2Imp?.ext?.ae):i.ext?.ae&&delete i.ext.ae;const n=(0,o.a)(e,"ortb2Imp.ext.tid");return n&&(i.ext=i.ext||{},i.ext.tid=n),i}(e,t))),site:Zy(e,t),cur:Wy,test:e[0].params.test||0,source:Qy(e[0],t)};if(t&&t.gdprConsent&&t.gdprConsent.gdprApplies){const e=t.gdprConsent.consentString?t.gdprConsent.consentString.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):"",a=t.gdprConsent.gdprApplies?1:0;i.regs={ext:{gdpr:a}},i.user={ext:{consent:e}}}if(e[0].schain){const t=function(e){return e?function(e){if(!e.nodes)return!1;const t=["asi","sid","hp"];return e.nodes.every((e=>t.every((t=>e[t]))))}(e)?e:((0,n.gb)("RTB House: required schain params missing"),null):null}(e[0].schain);t&&(i.ext={schain:t})}if(e[0].userIdAsEids){const t={eids:e[0].userIdAsEids};i.user&&i.user.ext?i.user.ext={...i.user.ext,...t}:i.user={ext:t}}const a=t?.ortb2||{};["site","user","device","bcat","badv"].forEach((e=>{const t=a[e];t&&(0,n.lb)(i,{[e]:t})}));const r=(0,o.a)(a,"regs.ext.dsa");(function(e){return!((0,n.Y)(e)||!(0,n.bb)(e))&&Xy.reduce(((t,i)=>{const a=e[i.name];return t&&(!e.hasOwnProperty(i.name)||(0,n.ab)(a)&&a>=i.min&&a<=i.max)}),!0)&&(!e.hasOwnProperty("transparency")||(0,n.V)(e.transparency)&&e.transparency.every((e=>(0,n.bb)(e)&&(0,n.eb)(e.domain)&&e.domain&&(0,n.V)(e.dsaparams)&&e.dsaparams.every((e=>(0,n.ab)(e))))))})(r)&&(0,n.lb)(i,{regs:{ext:{dsa:r}}});let d="creativecdn.com/bidder/prebid/bids";if(t.paapi?.enabled){const e=v.config.getConfig("paapiConfig")||v.config.getConfig("fledgeConfig")||{sellerTimeout:500},t={seller:Ly,decisionLogicUrl:Gy,...e};(0,n.lb)(i,{ext:{fledge_config:t}}),d="creativecdn.com/bidder/prebidfledge/bids"}return{method:"POST",url:"https://"+e[0].params.region+"."+d,data:JSON.stringify(i)}},interpretOrtbResponse:function(e){const t=e.body;if(!(0,n.V)(t))return[];const i=[];return t.forEach((e=>{if(!e.price)return;let t;t=0===e.adm.indexOf("{")?function(e){return{requestId:e.impid,mediaType:D.c,cpm:e.price,creativeId:e.adid,width:1,height:1,ttl:55,meta:{advertiserDomains:e.adomain},netRevenue:!0,currency:"USD",native:ah(e.adm)}}(e):function(e){return{requestId:e.impid,mediaType:D.b,cpm:e.price,creativeId:e.adid,ad:e.adm,width:e.w,height:e.h,ttl:55,meta:{advertiserDomains:e.adomain},netRevenue:!0,currency:"USD"}}(e),e.ext&&(t.ext=(0,n.p)(e.ext),e.ext.dsa&&(t.meta=Object.assign({},t.meta,{dsa:e.ext.dsa}))),i.push(t)})),i},interpretResponse:function(e,t){let i;const a=e.body;let r=null;if(a.bidid&&(0,n.V)(a?.ext?.igbid)){i=this.interpretOrtbResponse({body:a.seatbid[0]?.bid},t);const e=v.config.getConfig("paapiConfig")||v.config.getConfig("fledgeConfig")||{},o=e.interestGroupBuyers||[],{decisionLogicUrl:s=e.decisionLogicUrl||e.decisionLogicURL||Gy,seller:d=e.seller||Ly,sellerTimeout:l=500}=a.ext,p={seller:d,decisionLogicUrl:s,decisionLogicURL:s,sellerTimeout:l};(0,n.lb)(p,e,p),a.ext.igbid.forEach((e=>{const t={...p.perBuyerSignals};e.igbuyer.forEach((e=>{t[e.igdomain]=e.buyersignal})),r=r||{},r[e.impid]=(0,n.lb)({},p,{interestGroupBuyers:[...new Set([...o,...Object.keys(t)])],perBuyerSignals:t})}))}else i=this.interpretOrtbResponse(e,t);return r?(r=Object.entries(r).map((([e,t])=>({bidId:e,config:Object.assign({auctionSignals:{}},t)}))),(0,n.hb)("Response with FLEDGE:",{bids:i,fledgeAuctionConfigs:r}),{bids:i,paapi:r}):i}};function Ky(e){if("banner"===e.mediaType||(0,o.a)(e,"mediaTypes.banner")||!e.mediaType&&!e.mediaTypes){var t=e.sizes||e.mediaTypes.banner.sizes;return{w:t[0][0],h:t[0][1],format:t.map((e=>({w:e[0],h:e[1]})))}}}function Zy(e,t){let i="unknown",a=null;e&&e.length>0&&(i=e[0].params.publisherId,a=e[0].params.channel&&e[0].params.channel.toString().slice(0,50));let n={publisher:{id:i.toString()},page:t.refererInfo.page,name:window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")};return a&&(n.channel=a),n}function Qy(e,t){return{tid:t?.auctionId||""}}function eh(e){if("native"===e.mediaType||(0,o.a)(e,"mediaTypes.native"))return{request:{assets:th(e)},ver:"1.1"}}function th(e){const t=e.nativeParams||(0,o.a)(e,"mediaTypes.native"),i=[];return t.title&&i.push({id:Yy.NATIVE.ASSET_ID.TITLE,required:t.title.required?1:0,title:{len:t.title.len||25}}),t.image&&i.push({id:Yy.NATIVE.ASSET_ID.IMAGE,required:t.image.required?1:0,img:ih(t.image,Yy.NATIVE.IMAGE_TYPE.MAIN)}),t.icon&&i.push({id:Yy.NATIVE.ASSET_ID.ICON,required:t.icon.required?1:0,img:ih(t.icon,Yy.NATIVE.IMAGE_TYPE.ICON)}),t.sponsoredBy&&i.push({id:Yy.NATIVE.ASSET_ID.SPONSORED,required:t.sponsoredBy.required?1:0,data:{type:Yy.NATIVE.DATA_ASSET_TYPE.SPONSORED,len:t.sponsoredBy.len}}),t.body&&i.push({id:Yy.NATIVE.ASSET_ID.BODY,required:t.body.request?1:0,data:{type:Yy.NATIVE.DATA_ASSET_TYPE.DESC,len:t.body.len}}),t.cta&&i.push({id:Yy.NATIVE.ASSET_ID.CTA,required:t.cta.required?1:0,data:{type:Yy.NATIVE.DATA_ASSET_TYPE.CTA_TEXT,len:t.cta.len}}),i}function ih(e,t){const i={type:t};if(e.aspect_ratios){const t=e.aspect_ratios[0],a=t.min_width||100;i.wmin=a,i.hmin=a/t.ratio_width*t.ratio_height}if(e.sizes){const t=Array.isArray(e.sizes[0])?e.sizes[0]:e.sizes;i.w=t[0],i.h=t[1]}return i}function ah(e){const t=JSON.parse(e).native,i={clickUrl:encodeURI(t.link.url),impressionTrackers:t.imptrackers};return t.assets.forEach((e=>{switch(e.id){case Yy.NATIVE.ASSET_ID.TITLE:i.title=e.title.text;break;case Yy.NATIVE.ASSET_ID.IMAGE:i.image={url:encodeURI(e.img.url),width:e.img.w,height:e.img.h};break;case Yy.NATIVE.ASSET_ID.ICON:i.icon={url:encodeURI(e.img.url),width:e.img.w,height:e.img.h};break;case Yy.NATIVE.ASSET_ID.BODY:i.body=e.data.value;break;case Yy.NATIVE.ASSET_ID.SPONSORED:i.sponsoredBy=e.data.value;break;case Yy.NATIVE.ASSET_ID.CTA:i.cta=e.data.value}})),i}(0,Ye.b)(Jy),gt.a.add(ft.a.rtbhouse,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(!(0,Rt.b)()){if(a.banner||a.skin){const n=Nl(a);Pl(e,t.placementId,n,[{bidder:i.bidder,params:{region:"prebid-eu",publisherId:"lvixcR5IavWU9mlyqjnX",...i.params}}])}a.native&&Ul(e,t.placementId,[{bidder:i.bidder,params:{region:"prebid-eu",publisherId:"lvixcR5IavWU9mlyqjnX",...i.params}}],a.native)}})),gt.b.add(ft.a.rtbhouse,Jy.gvlid);const nh={[D.b]:"banner",[D.c]:"native",[D.d]:"video"},rh={[Li.f]:{extPrebid:{fn:function(e,t){(0,r.a)(e,"ext.prebid",(0,n.lb)({auctiontimestamp:t.auctionStart,targeting:{includewinners:!0,includebidderkeys:!1}},e.ext?.prebid)),v.config.getConfig("debug")&&(e.ext.prebid.debug=!0)}},extPrebidChannel:{fn:function(e){(0,r.a)(e,"ext.prebid.channel",Object.assign({name:"pbjs",version:(0,a.a)().version},e.ext?.prebid?.channel))}},extPrebidAliases:{fn:function(e,t,i,{am:a=ie.a}={}){if(a.aliasRegistry[t.bidderCode]){const i=a.bidderRegistry[t.bidderCode];if(!i||!i.getSpec().skipPbsAliasing){(0,r.a)(e,`ext.prebid.aliases.${t.bidderCode}`,a.aliasRegistry[t.bidderCode]);const n=v.config.getConfig(`gvlMapping.${t.bidderCode}`)||i?.getSpec?.().gvlid;n&&(0,r.a)(e,`ext.prebid.aliasgvlids.${t.bidderCode}`,n)}}}}},[Li.c]:{params:{fn:function(e,t){let i=t.params;i&&(0,r.a)(e,`ext.prebid.bidder.${t.bidder}`,i)}},adUnitCode:{fn:function(e,t){const i=t.adUnitCode;i&&(0,r.a)(e,"ext.prebid.adunitcode",i)}}},[Li.a]:{mediaType:{fn:function(e,t,i){let a=i.mediaType;a||(a=em.hasOwnProperty(t.mtype)?em[t.mtype]:t.ext?.prebid?.type,nh.hasOwnProperty(a)||(a=D.b)),e.mediaType=a},priority:99},videoCache:{fn:function(e,t){if(e.mediaType===D.d){let{cacheId:i,url:a}=(0,o.a)(t,"ext.prebid.cache.vastXml")||{};if(!i||!a){const{hb_uuid:e,hb_cache_host:n,hb_cache_path:r}=(0,o.a)(t,"ext.prebid.targeting")||{};e&&n&&r&&(i=e,a=`https://${n}${r}?uuid=${e}`)}i&&a&&Object.assign(e,{videoCacheKey:i,vastUrl:a})}},priority:-10},bidderCode:{fn(e,t,i){e.bidderCode=i.seatbid.seat,e.adapterCode=(0,o.a)(t,"ext.prebid.meta.adaptercode")||i.bidRequest?.bidder||e.bidderCode}},pbsBidId:{fn(e,t){const i=(0,o.a)(t,"ext.prebid.bidid");(0,n.eb)(i)&&(e.pbsBidId=i)}},adserverTargeting:{fn(e,t){const i=(0,o.a)(t,"ext.prebid.targeting");(0,n.bb)(i)&&(e.adserverTargeting=i)}},extPrebidMeta:{fn(e,t){e.meta=(0,n.lb)({},(0,o.a)(t,"ext.prebid.meta"),e.meta)}},pbsWurl:{fn(e,t){const i=(0,o.a)(t,"ext.prebid.events.win");(0,n.eb)(i)&&(e.pbsWurl=i)}}},[Li.g]:{serverSideStats:{fn(e,t,i){Object.entries({errors:"serverErrors",responsetimemillis:"serverResponseTimeMs"}).forEach((([e,a])=>{const n=(0,o.a)(t,`ext.${e}.${i.bidderRequest.bidderCode}`);n&&(i.bidderRequest[a]=n,i.bidRequests.forEach((e=>e[a]=n)))}))}}}},oh=(0,n.kb)((()=>im(nm(),rh,(0,Li.h)(Li.d))));let sh=v.config.getConfig("rubicon")||{};v.config.getConfig("rubicon",(e=>{(0,n.lb)(sh,e.rubicon)}));var dh={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",261:"480x480",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",484:"720x1280",524:"1x2",548:"500x1000",550:"980x480",552:"300x200",558:"640x640",562:"300x431",564:"320x431",566:"320x300",568:"300x150",570:"300x125",572:"250x350",574:"620x891",576:"610x877",578:"980x552",580:"505x656",622:"192x160",632:"1200x450",634:"340x450"};(0,n.a)(dh,((e,t)=>dh[e]=t));const lh=am({request(e,t,i,o){const{bidRequests:s}=o,d=e(t,i,o);d.cur=["USD"],d.test=v.config.getConfig("debug")?1:0,(0,r.a)(d,"ext.prebid.cache",{vastxml:{returnCreative:!0===sh.returnVast}}),(0,r.a)(d,"ext.prebid.bidders",{rubicon:{integration:sh.int_type||"pbjs"}}),(0,r.a)(d,"ext.prebid.targeting.pricegranularity",function(e){return{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:e.getConfig("customPriceBucket")&&e.getConfig("customPriceBucket").buckets}[e.getConfig("priceGranularity")]}}(v.config));let l=(0,a.a)().installedModules;return!l||l.length&&-1===l.indexOf("rubiconAnalyticsAdapter")||(0,r.a)(d,"ext.prebid.analytics",{rubicon:{"client-analytics":!0}}),function(e,t,i){let a={};const o=hc(i,...t.map((e=>e.params.keywords)));t.forEach((t=>{const i={user:{ext:{data:{...t.params.visitor}}},site:{ext:{data:{...t.params.inventory}}}},r=e.imp.find((e=>e.ext?.prebid?.bidder?.rubicon?.video?.language));r&&(i.site.content={language:r.ext?.prebid?.bidder?.rubicon?.video?.language}),a=(0,n.lb)(a,t.ortb2||{},i);const o=v.config.getConfig("user.id");a.user.id=a.user.id||o})),(0,n.lb)(e,a),o&&o.length&&(0,r.a)(e,"site.keywords",o.join(",")),delete e?.ext?.prebid?.storedrequest}(d,s,i.ortb2),delete d?.ext?.prebid?.storedrequest,!0===sh.disableFloors&&delete d.ext.prebid.floors,s.filter((e=>"object"==typeof e.floorData)).length>0&&(d.ext.prebid.floors={enabled:!1}),d},imp(e,t,i){const a=gh(t);if(a.includes(D.b)&&1==a.length)return;const n=e(t,i);return n.id=t.adUnitCode,delete n.banner,"atf"===t.params.position&&n.video&&(n.video.pos=1),"btf"===t.params.position&&n.video&&(n.video.pos=3),delete n.ext?.prebid?.storedrequest,!0===t.params.bidonmultiformat&&a.length>1&&(0,r.a)(n,"ext.prebid.bidder.rubicon.formats",a),function(e,t){if("USD"!=t.bidfloorcur&&(delete t.bidfloor,delete t.bidfloorcur),!t.bidfloor){let i=parseFloat((0,o.a)(e,"params.floor"));isNaN(i)||(t.bidfloor=i,t.bidfloorcur="USD")}}(t,n),n},bidResponse(e,t,i){const a=e(t,i);a.meta.mediaType=(0,o.a)(t,"ext.prebid.type");const{bidRequest:s}=i;let[d,l]="outstream"===s.mediaTypes.video?.context?uh(s,D.d):[void 0,void 0];return a.width=t.w||d||a.playerWidth||0,a.height=t.h||l||a.playerHeight||0,a.mediaType===D.d&&"outstream"===s.mediaTypes.video.context&&(a.renderer=function(e){const t=zl.a.install({id:e.adId,url:sh.rendererUrl||"https://video-outstream.rubiconproject.com/apex-2.2.1.js",config:sh.rendererConfig||{},loaded:!1,adUnitCode:e.adUnitCode});try{t.setRender(mh)}catch(e){(0,n.jb)("Prebid Error calling setRender on renderer",e)}return t}(a)),(0,o.a)(t,"ext.bidder.rp.advid")&&(0,r.a)(a,"meta.advertiserId",t.ext.bidder.rp.advid),a},context:{netRevenue:!1!==sh.netRevenue,ttl:360},processors:oh}),ph={code:"rubicon",gvlid:52,supportedMediaTypes:[D.b,D.d,D.c],isBidRequestValid:function(e){let t=!0;if("object"!=typeof e.params)return!1;for(let t=0,i=["accountId","siteId","zoneId"];t<i.length;t++)if(e.params[i[t]]=parseInt(e.params[i[t]]),isNaN(e.params[i[t]]))return(0,n.gb)("Rubicon: wrong format of accountId or siteId or zoneId."),!1;let i=gh(e,!0);if(!i.length)return!1;i.includes(D.d)&&(t=function(e){let t=!0,i=Object.prototype.toString.call([]);var a={mimes:i,protocols:i,linearity:Object.prototype.toString.call(0)};return Object.keys(a).forEach((function(i){Object.prototype.toString.call((0,o.a)(e,"mediaTypes.video."+i))!==a[i]&&(t=!1,(0,n.gb)("Rubicon: mediaTypes.video."+i+" is required and must be of type: "+a[i]))})),t}(e));const a=[D.b,D.c].filter((e=>i.includes(e))).length>0;return a?t&&a:t},buildRequests:function(e,t){let i,a=[],r=[];if(i=e.filter((e=>{const t=gh(e)||[],{length:i}=t,{bidonmultiformat:a,video:n}=e.params||{};return 1===i&&(t.includes(D.d)||t.includes(D.c))||2===i&&!t.includes(D.b)||n&&t.includes(D.d)||a&&(t.includes(D.d)||t.includes(D.c))})),i&&i.length){const e=lh.toORTB({bidRequests:i,bidderRequest:t});r.push({method:"POST",url:`https://${sh.videoHost||"prebid-server"}.rubiconproject.com/openrtb2/auction`,data:e,bidRequest:i})}const o=e.filter((e=>{const t=gh(e)||[],{bidonmultiformat:i,video:a}=e.params||{};return t.includes(D.b)&&(1===t.length||i||!i&&!a||!i&&a&&!t.includes(D.d))}));if(!0!==sh.singleRequest)a=r.concat(o.map((e=>{const i=ph.createSlotParams(e,t);return{method:"GET",url:`https://${sh.bannerHost||"fastlane"}.rubiconproject.com/a/api/fastlane.json`,data:ph.getOrderedParams(i).reduce(((e,t)=>{const a=i[t];return(0,n.eb)(a)&&""!==a||(0,n.ab)(a)?`${e}${hh(t,a)}&`:e}),"")+`slots=1&rand=${Math.random()}`,bidRequest:e}})));else{const e=o.reduce(((e,t)=>((e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e)),{}),i=10;a=r.concat(Object.keys(e).reduce(((a,r)=>{var o,s;return(o=e[r],s=i,o.map(((e,t)=>t%s==0?o.slice(t,t+s):null)).filter((e=>e))).forEach((e=>{const i=ph.combineSlotUrlParams(e.map((e=>ph.createSlotParams(e,t))));a.push({method:"GET",url:`https://${sh.bannerHost||"fastlane"}.rubiconproject.com/a/api/fastlane.json`,data:ph.getOrderedParams(i).reduce(((e,t)=>{const a=i[t];return(0,n.eb)(a)&&""!==a||(0,n.ab)(a)?`${e}${hh(t,a)}&`:e}),"")+`slots=${e.length}&rand=${Math.random()}`,bidRequest:e})})),a}),[]))}return a},getOrderedParams:function(e){const t=/^tg_v/,i=/^tg_i/,a=/^eid_|^tpid_/,n=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","gpp","gpp_sid","rp_schain"].concat(Object.keys(e).filter((e=>a.test(e)))).concat(["x_liverampidl","ppuid","rf","p_geo.latitude","p_geo.longitude","kw"]).concat(Object.keys(e).filter((e=>t.test(e)))).concat(Object.keys(e).filter((e=>i.test(e)))).concat(["tk_flint","x_source.tid","l_pb_bid_id","p_screen_res","o_ae","o_cdep","rp_floor","rp_secure","tk_user_key"]);return n.concat(Object.keys(e).filter((e=>-1===n.indexOf(e))))},combineSlotUrlParams:function(e){if(1===e.length)return e[0];const t=e.reduce((function(t,i,a){return Object.keys(i).forEach((function(n){t.hasOwnProperty(n)||(t[n]=new Array(e.length)),t[n].splice(a,1,i[n])})),t}),{}),i=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(t).forEach((function(e){const a=t[e].join(";"),n=a.match(i);t[e]=n?n[1]:a})),t},createSlotParams:function(e,t){e.startTime=(new Date).getTime();const i=e.params,a=uh(e,"banner"),[r,s]=i.latLong||[],d={account_id:i.accountId,site_id:i.siteId,zone_id:i.zoneId,size_id:a[0],alt_size_ids:a.slice(1).join(",")||void 0,rp_floor:(i.floor=parseFloat(i.floor))>=.01?i.floor:void 0,rp_secure:"1",tk_flint:`${sh.int_type||"pbjs_lite"}_v9.16.0`,"x_source.tid":t.ortb2?.source?.tid,"x_imp.ext.tid":e.ortb2Imp?.ext?.tid,l_pb_bid_id:e.bidId,o_cdep:e.ortb2?.device?.ext?.cdep,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:i.userId,"p_geo.latitude":isNaN(parseFloat(r))?void 0:parseFloat(r).toFixed(4),"p_geo.longitude":isNaN(parseFloat(s))?void 0:parseFloat(s).toFixed(4),"tg_fl.eid":e.code,rf:ch(e,t)};if("function"==typeof e.getFloor&&!sh.disableFloors){let t;try{t=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){(0,n.gb)("Rubicon: getFloor threw an error: ",e)}d.rp_hard_floor="object"!=typeof t||"USD"!==t.currency||isNaN(parseInt(t.floor))?void 0:t.floor}!0===i.bidonmultiformat&&(0,o.a)(e,"mediaTypes")&&Object.keys(e.mediaTypes).length>1&&(d.p_formats=Object.keys(e.mediaTypes).join(","));let p={1:"atf",3:"btf"}[(0,o.a)(e,"mediaTypes.banner.pos")]||"";d.p_pos="atf"===i.position||"btf"===i.position?i.position:p;const c=v.config.getConfig("user.id");return c&&(d.ppuid=c),e?.ortb2Imp?.ext?.ae&&(d.o_ae=1),function(e,t){if(!1===sh.readTopics)return;let i=[1,2,5,6,7,507].concat(sh.sendSiteSegtax?.map((e=>Number(e)))||[]),a=[4,508].concat(sh.sendUserSegtax?.map((e=>Number(e)))||[]),n=e.ortb2?.user?.data||[],r=e.ortb2?.site?.content?.data||[];n.forEach(bh(t,"v",a)),r.forEach(bh(t,"i",i))}(t,d),e.userIdAsEids&&e.userIdAsEids.forEach((e=>{try{if("adserver.org"===e.source)d.tpid_tdid=e.uids[0].id,d["eid_adserver.org"]=e.uids[0].id;else if("liveintent.com"===e.source)d["tpid_liveintent.com"]=e.uids[0].id,d["eid_liveintent.com"]=e.uids[0].id,e.ext&&Array.isArray(e.ext.segments)&&e.ext.segments.length&&(d["tg_v.LIseg"]=e.ext.segments.join(","));else if("liveramp.com"===e.source)d.x_liverampidl=e.uids[0].id;else if("id5-sync.com"===e.source)d["eid_id5-sync.com"]=`${e.uids[0].id}^${e.uids[0].atype}^${e.uids[0].ext&&e.uids[0].ext.linkType||""}`;else{const t="rubiconproject.com"===e.source?e.uids[0].id:`${e.uids[0].id}^${e.uids[0].atype||""}`;d[`eid_${e.source}`]=t}if(!d.ppuid){const t=(0,l.b)(e.uids,(e=>e.ext&&"ppuid"===e.ext.stype));t&&t.id&&(d.ppuid=t.id)}}catch(t){(0,n.jb)("Rubicon: error reading eid:",e,t)}})),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(d.gdpr=Number(t.gdprConsent.gdprApplies)),d.gdpr_consent=t.gdprConsent.consentString),t.uspConsent&&(d.us_privacy=encodeURIComponent(t.uspConsent)),t.gppConsent?.gppString&&(d.gpp=t.gppConsent.gppString,d.gpp_sid=t.gppConsent?.applicableSections?.toString()),d.rp_maxbids=t.bidLimit||1,function(e,t,i){const a={user:{ext:{data:{...e.params.visitor}}},site:{ext:{data:{...e.params.inventory}}}};e.params.keywords&&(a.site.keywords=(0,n.V)(e.params.keywords)?e.params.keywords.join(","):e.params.keywords);let r=(0,n.lb)({},e.ortb2||{},a),s=(0,o.a)(e.ortb2Imp,"ext")||{},d=(0,o.a)(e.ortb2Imp,"ext.data")||{};const l=(0,o.a)(e,"ortb2Imp.ext.gpid"),p=(0,o.a)(r,"regs.ext.dsa"),c={user:[4],site:[1,2,5,6]},m={user:"tg_v.",site:"tg_i.",adserver:"tg_i.dfp_ad_unit_code",pbadslot:"tg_i.pbadslot",keywords:"kw"},u=function(e,t,a,r=!0){let s=function(e,t,i){return"data"===t&&Array.isArray(e)?e.filter((e=>e.segment&&(0,o.a)(e,"ext.segtax")&&c[i]&&-1!==c[i].indexOf((0,o.a)(e,"ext.segtax")))).map((e=>{let t=e.segment.filter((e=>e.id)).reduce(((e,t)=>(e.push(t.id),e)),[]);if(t.length>0)return t.toString()})).toString():"object"==typeof e&&!Array.isArray(e)||void 0===e?void 0:Array.isArray(e)?e.filter((e=>{if("object"!=typeof e&&void 0!==e)return e.toString();(0,n.jb)("Rubicon: Filtered value: ",e,"for key",t,": Expected value to be string, integer, or an array of strings/ints")})).toString():e.toString()}(e,a,t),d=m[a]&&r?`${m[a]}`:"data"===a?`${m[t]}iab`:`${m[t]}${a}`;i[d]=i[d]?i[d].concat(",",s):s};if(t===D.b){["site","user"].forEach((e=>{Object.keys(r[e]).forEach((t=>{"site"===e&&"content"===t&&r[e][t].data?u(r[e][t].data,e,"data"):"ext"!==t?u(r[e][t],e,t):r[e][t].data&&Object.keys(r[e].ext.data).forEach((t=>{u(r[e].ext.data[t],e,t,!1)}))}))})),Object.keys(d).forEach((e=>{"adserver"!==e?u(d[e],"site",e):"gam"===d[e].name&&u(d[e].adslot,name,e)})),l&&(i.p_gpid=l),p&&Object.keys(p).length&&(0,n.rb)(p,["dsainfo",e=>i.dsainfo=e,"dsarequired",e=>i.dsarequired=e,"pubrender",e=>i.dsapubrender=e,"datatopub",e=>i.dsadatatopubs=e,"transparency",e=>{Array.isArray(e)&&e.length&&(i.dsatransparency=e.reduce(((e,t)=>{const i=t.domain||"";if(!i)return e;const a=t.dsaparams||t.params;return Array.isArray(a)&&0!==a.length?(e&&(e+="~~"),e+`${i}~${a.join("_")}`):e}),""))}]),i["tg_i.pbadslot"]&&delete i["tg_i.dfp_ad_unit_code"];const e=(0,o.a)(r,"device.sua");e&&!1!==sh.chEnabled&&(0,n.rb)(e,["architecture",e=>i.m_ch_arch=e,"bitness",e=>i.m_ch_bitness=e,"browsers",e=>{if(!Array.isArray(e))return;const[t,a]=e.reduce(((e,t)=>(e[0].push(`"${t?.brand}"|v="${t?.version?.[0]}"`),e[1].push(`"${t?.brand}"|v="${t?.version?.join?.(".")}"`),e)),[[],[]]);i.m_ch_ua=t?.join?.(","),i.m_ch_full_ver=a?.join?.(",")},"mobile",e=>i.m_ch_mobile=`?${e}`,"model",e=>i.m_ch_model=e,"platform",e=>{i.m_ch_platform=e?.brand,i.m_ch_platform_ver=e?.version?.join?.(".")}])}else Object.keys(s).length&&(0,n.lb)(i.imp[0].ext,s),l&&(i.imp[0].ext.gpid=l),(0,n.lb)(i,r)}(e,D.b,d),!0===v.config.getConfig("coppa")&&(d.coppa=1),e.schain&&yh(e.schain)&&(d.rp_schain=ph.serializeSupplyChain(e.schain)),d},serializeSupplyChain:function(e){if(!yh(e))return"";const{ver:t,complete:i,nodes:a}=e;return`${t},${i}!${ph.serializeSupplyChainNodes(a)}`},serializeSupplyChainNodes:function(e){const t=["asi","sid","hp","rid","name","domain"];return e.map((e=>t.map((t=>encodeURIComponent(e[t]||""))).join(","))).join("!")},interpretResponse:function(e,t){e=e.body;const{data:i}=t;if(!e||"object"!=typeof e)return[];if(e.seatbid){const t=(0,o.a)(e,"ext.errors.rubicon");return Array.isArray(t)&&t.length>0&&(0,n.jb)("Rubicon: Error in video response"),lh.fromORTB({request:i,response:e}).bids}let a,r=e.ads,s=0;const{bidRequest:d}=t;if("object"==typeof d&&!Array.isArray(d)&&gh(d).includes(D.d)&&"object"==typeof r&&(r=r[d.adUnitCode]),!Array.isArray(r)||r.length<1)return[];let l=r.reduce(((t,i,r)=>{if(i.impression_id&&a===i.impression_id?s++:a=i.impression_id,"ok"!==i.status)return t;const o=Array.isArray(d)?d[r-s]:d;if(o&&"object"==typeof o){let e={requestId:o.bidId,currency:"USD",creativeId:i.creative_id||`${i.network||""}-${i.advertiser||""}`,cpm:i.cpm||0,dealId:i.deal,ttl:360,netRevenue:!1!==sh.netRevenue,rubicon:{advertiserId:i.advertiser,networkId:i.network},meta:{advertiserId:i.advertiser,networkId:i.network,mediaType:D.b}};i.creative_type&&(e.mediaType=i.creative_type),i.dsa&&Object.keys(i.dsa).length&&(e.meta.dsa=i.dsa),i.adomain&&(e.meta.advertiserDomains=Array.isArray(i.adomain)?i.adomain:[i.adomain]),i.creative_type===D.d?(e.width=o.params.video.playerWidth,e.height=o.params.video.playerHeight,e.vastUrl=i.creative_depot_url,e.impression_id=i.impression_id,e.videoCacheKey=i.impression_id):(e.ad=(l=i.script,`<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='${i.impression_id}'>\n<script type='text/javascript'>${l}<\/script>\n</div>\n</body>\n</html>`),[e.width,e.height]=dh[i.size_id].split("x").map((e=>Number(e)))),e.rubiconTargeting=(Array.isArray(i.targeting)?i.targeting:[]).reduce(((e,t)=>(e[t.key]=t.values[0],e)),{rpfl_elemid:o.adUnitCode}),t.push(e)}else(0,n.gb)(`Rubicon: bidRequest undefined at index position:${r}`,d,e);var l;return t}),[]).sort(((e,t)=>(t.cpm||0)-(e.cpm||0))),p=e.component_auction_config?.map((e=>({config:e,bidId:e.bidId})));return p?{bids:l,paapi:p}:l},getUserSyncs:function(e,t,i,a,r){if(!vh&&e.iframeEnabled){let e=function(e,t,i){let a={};return e&&("boolean"==typeof e.gdprApplies&&(a.gdpr=Number(e.gdprApplies)),"string"==typeof e.consentString&&(a.gdpr_consent=e.consentString)),t&&(a.us_privacy=encodeURIComponent(t)),i?.gppString&&(a.gpp=i.gppString,a.gpp_sid=i.applicableSections?.toString()),a}(i,a,r);return e=Object.keys(e).length?`?${(0,n.v)(e)}`:"",vh=!0,{type:"iframe",url:`https://${sh.syncHost||"eus"}.rubiconproject.com/usync.html`+e}}}};function ch(e,t){let i;return i=e.params.referrer?e.params.referrer:t.refererInfo.page,e.params.secure?i.replace(/^http:/i,"https:"):i}function mh(e){const t=document.getElementById(e.adUnitCode);!function(e){const t=e.querySelector("div[id^='google_ads']");t&&t.style.setProperty("display","none")}(t),function(e){const t=e.querySelector("script[id^='sas_script']"),i=t&&t.nextSibling;i&&"iframe"===i.localName&&i.style.setProperty("display","none")}(t);const i={align:"center",position:"append",closeButton:!1,label:void 0,collapse:!0,...e.renderer.getConfig()};e.renderer.push((()=>{window.MagniteApex.renderAd({width:e.width,height:e.height,vastUrl:e.vastUrl,placement:{attachTo:t,align:i.align,position:i.position},closeButton:i.closeButton,label:i.label,collapse:i.collapse})}))}function uh(e,t){let i=e.params;if(t===D.d){let t=[];return i.video&&i.video.playerWidth&&i.video.playerHeight?t=[i.video.playerWidth,i.video.playerHeight]:Array.isArray((0,o.a)(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?t=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&e.sizes.length>0&&Array.isArray(e.sizes[0])&&e.sizes[0].length>1&&(t=e.sizes[0]),t}let a=[];return Array.isArray(i.sizes)?a=i.sizes:void 0!==(0,o.a)(e,"mediaTypes.banner.sizes")?a=fh(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&e.sizes.length>0?a=fh(e.sizes):(0,n.jb)("Rubicon: no sizes are setup or found"),function(e){const t=[15,2,9];return e.sort(((e,i)=>{const a=t.indexOf(e),n=t.indexOf(i);return a>-1||n>-1?-1===a?1:-1===n?-1:a-n:e-i}))}(a)}function bh(e,t,i){return a=>{const n=Number(a.ext?.segtax);i.includes(n)&&(e[`tg_${t}.tax${n}`]=a.segment?.map((e=>e.id)).join(","))}}function fh(e){return(0,n.pb)(e).reduce(((e,t)=>{let i=parseInt(dh[t],10);return i&&e.push(i),e}),[])}function gh(e,t=!1){let i=[];if(function(e){let t=void 0!==(0,o.a)(e,`mediaTypes.${D.d}`),i=void 0!==(0,o.a)(e,`mediaTypes.${D.b}`),a=void 0!==(0,o.a)(e,"params.bidonmultiformat"),n="object"!=typeof(0,o.a)(e,"params.video");return!(!t||!a)||(i&&n&&(t=!1),t&&n&&(0,r.a)(e,"params.video",{}),t)}(e)){if(-1===["outstream","instream"].indexOf((0,o.a)(e,`mediaTypes.${D.d}.context`)))return t&&(0,n.gb)("Rubicon: mediaTypes.video.context must be outstream or instream"),i;if(uh(e,D.d).length<2)return t&&(0,n.gb)("Rubicon: could not determine the playerSize of the video"),i;t&&(0,n.ib)("Rubicon: making video request for adUnit",e.adUnitCode),i.push(D.d)}if(void 0!==(0,o.a)(e,`mediaTypes.${D.c}`)&&i.push(D.c),void 0!==(0,o.a)(e,`mediaTypes.${D.b}`)){if(0===uh(e,D.b).length)return t&&(0,n.gb)("Rubicon: could not determine the sizes for banner request"),i;t&&(0,n.ib)("Rubicon: making banner request for adUnit",e.adUnitCode),i.push(D.b)}return i}function yh(e){let t=!1;const i=["asi","sid","hp"];return e.nodes?(t=e.nodes.reduce(((e,t)=>e?i.every((e=>t.hasOwnProperty(e))):e),!0),t||(0,n.gb)("Rubicon: required schain params missing"),t):t}function hh(e,t){return"rp_schain"===e?`rp_schain=${t}`:`${e}=${encodeURIComponent(t)}`}var vh=!1;(0,Ye.b)(ph),gt.a.add(ft.a.Rubicon,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=Nl(a);Pl(e,t.placementId,n,[{bidder:i.bidder,params:{...i.params,video:void 0}}])}a.native&&Ul(e,t.placementId,[{bidder:i.bidder,params:{...i.params,video:void 0}}],a.native),a.outstream&&Ml(e,t.placementId,a.outstream,[{bidder:i.bidder,params:{video:{},...i.params}}],t.rendering?.outstream),a.instream&&Ol(e,t.placementId,a.instream,[{bidder:i.bidder,params:{video:{},...i.params}}])})),gt.b.add(ft.a.Rubicon,ph.gvlid);const _h=["inScreen","inImage","inArticle","inBanner"],Ih={[D.b]:"display",[D.d]:"video"},wh="fixed",xh=()=>{const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection||{};switch(e.type||e.effectiveType){case"wifi":case"ethernet":return wh;case"cellular":case"wimax":return"mobile";default:return/iPad|iPhone|iPod/.test(navigator.userAgent)||/android/i.test(navigator.userAgent)?"unknown":wh}};function Th(e){return!!e.mediaTypes&&!!e.mediaTypes.video}function Dh(e){const t=e.params;return!!t.publisherId&&!!t.adUnitId&&_h.indexOf(t.placement)>-1}function Ah(e){const t=e.params,i=(0,n.b)(Object.keys(e.mediaTypes),(function(e){return Ih[e]})),a={id:e.bidId,transactionId:e.ortb2Imp?.ext?.tid,gpid:e.ortb2Imp?.ext?.gpid,sizes:e.sizes,supplyTypes:i,adUnitId:t.adUnitId,adUnitCode:e.adUnitCode,geom:Rh(e.adUnitCode),placement:t.placement,requestCount:e.bidderRequestsCount||1};Th(e)&&(a.videoParams=Sh(e));const r=function(e){let t={};return"function"==typeof e.getFloor&&(t=e.getFloor({currency:"USD",mediaType:"*",size:"*"})),t.floor}(e);return r&&(a.bidFloor=r),a}function Sh(e){const t=e.mediaTypes.video||{};return t.playerSize&&(t.w=t.playerSize[0][0],t.h=t.playerSize[0][1]),t}function Ch(){const e=(()=>{try{const e=performance.getEntriesByType("navigation")[0];return Math.round(e.responseStart-e.startTime)}catch(e){try{const e=performance.timing;return Math.round(e.responseStart-e.fetchStart)}catch(e){return 0}}})();return e>=0&&e<=performance.now()?e:0}function Rh(e){const t=document.getElementById(e);if(t){const e=window.scrollY,{top:i,left:a,width:n,height:r}=t.getBoundingClientRect();return{scrollY:e,top:i,left:a,width:n,height:r,viewport:{width:window.innerWidth,height:window.innerHeight}}}}const kh={code:"seedtag",gvlid:157,aliases:["st"],supportedMediaTypes:[D.b,D.d],isBidRequestValid:e=>Th(e)?function(e){const t=Sh(e);let i=!!e.params.publisherId&&!!e.params.adUnitId&&Th(e)&&!!t.playerSize&&(0,n.V)(t.playerSize)&&t.playerSize.length>0;return"inStream"===e.params.placement?i&&"instream"===t.context:i&&"outstream"===t.context&&function(e){return!!e.mediaTypes&&!!e.mediaTypes.banner}(e)&&Dh(e)}(e):Dh(e),buildRequests(e,t){const i={url:t.refererInfo.page,publisherToken:e[0].params.publisherId,cmp:!!t.gdprConsent,timeout:t.timeout,version:"9.16.0",connectionType:xh(),auctionStart:t.auctionStart||Date.now(),ttfb:Ch(),bidRequests:(0,n.b)(e,Ah),user:{topics:[],eids:[]},site:{}};if(i.cmp){const e=t.gdprConsent.gdprApplies;void 0!==e&&(i.ga=e),i.cd=t.gdprConsent.consentString}t.uspConsent&&(i.uspConsent=t.uspConsent),e[0].schain&&(i.schain=e[0].schain);let a=v.config.getConfig("coppa");return a&&(i.coppa=a),t.gppConsent?i.gppConsent={gppString:t.gppConsent.gppString,applicableSections:t.gppConsent.applicableSections}:t.ortb2?.regs?.gpp&&(i.gppConsent={gppString:t.ortb2.regs.gpp,applicableSections:t.ortb2.regs.gpp_sid}),t.ortb2?.user?.data&&(i.user.topics=t.ortb2.user.data),e[0]&&e[0].userIdAsEids&&(i.user.eids=e[0].userIdAsEids),t.ortb2?.bcat&&(i.bcat=t.ortb2?.bcat),t.ortb2?.badv&&(i.badv=t.ortb2?.badv),t.ortb2?.device?.sua&&(i.sua=t.ortb2.device.sua),t.ortb2?.site?.cat&&(i.site.cat=t.ortb2.site.cat),t.ortb2?.site?.cattax&&(i.site.cattax=t.ortb2.site.cattax),t.ortb2?.site?.pagecat&&(i.site.pagecat=t.ortb2.site.pagecat),{method:"POST",url:"https://s.seedtag.com/c/hb/bid",data:JSON.stringify(i)}},interpretResponse:function(e){const t=e.body;return t&&t.bids&&(0,n.V)(t.bids)?(0,n.b)(t.bids,(function(e){return function(e){const t="display"===(i=e.mediaType)?D.b:"video"===i?D.d:i;var i;const a={requestId:e.bidId,cpm:e.price,width:e.width,height:e.height,creativeId:e.creativeId,currency:e.currency,netRevenue:!0,mediaType:t,ttl:e.ttl,nurl:e.nurl,meta:{advertiserDomains:e&&e.adomain&&e.adomain.length>0?e.adomain:[]}};return t===D.d?a.vastXml=e.content:a.ad=e.content,a}(e)})):[]},getUserSyncs(e,t){const i=t[0];if(e.iframeEnabled&&i){const e=i.body.cookieSync;return e?[{type:"iframe",url:e}]:[]}return[]},onTimeout(e){const t=function(e){let t="";if((0,n.V)(e)&&e[0]&&(0,n.V)(e[0].params)&&e[0].params[0]){const i=e[0].params[0],a=e[0].timeout;t="?publisherToken="+i.publisherId+"&adUnitId="+i.adUnitId+"&timeout="+a}return"https://s.seedtag.com/se/hb/timeout"+t}(e);(0,n.Fb)(t)},onBidWon:function(e){e&&e.nurl&&(0,n.Fb)(e.nurl)}};(0,Ye.b)(kh),gt.a.add(ft.a.seedtag,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=Nl(a);Pl(e,t.placementId,n,[{bidder:i.bidder,params:{...i.params,video:void 0}}])}if(a.outstream){const n=1===a.outstream.playerSize[0]&&1===a.outstream.playerSize[1]?[a.outstream.playerSize]:[[1,1],a.outstream.playerSize];Pl(e,t.placementId,n,[{bidder:i.bidder,params:{...i.params,video:void 0}}],{displayFormat:wa.a.outstream})}a.instream&&Ol(e,t.placementId,a.instream,[{bidder:i.bidder,params:i.params}])})),gt.b.add(ft.a.seedtag,kh.gvlid);const Eh=function(){return window.location.protocol},Mh={code:"sharethrough",supportedMediaTypes:[D.d,D.b],gvlid:80,isBidRequestValid:e=>!!e.params.pkey,buildRequests:(e,t)=>{const i=t.timeout,a=t.ortb2||{},r=Eh().indexOf("http")<0||Eh().indexOf("https")>-1,s={id:(0,n.w)(),at:1,cur:["USD"],tmax:i,site:{domain:(0,o.a)(t,"refererInfo.domain",window.location.hostname),page:(0,o.a)(t,"refererInfo.page",window.location.href),ref:(0,o.a)(t,"refererInfo.ref"),...a.site},device:{ua:navigator.userAgent,language:navigator.language,js:1,dnt:"1"===navigator.doNotTrack?1:0,h:window.screen.height,w:window.screen.width,ext:{}},regs:{coppa:!0===v.config.getConfig("coppa")?1:0,ext:{}},source:{tid:t.ortb2?.source?.tid,ext:{version:"9.16.0",str:"4.3.0",schain:e[0].schain}},bcat:(0,o.a)(t.ortb2,"bcat")||e[0].params.bcat||[],badv:(0,o.a)(t.ortb2,"badv")||e[0].params.badv||[],test:0};if(t.ortb2?.device?.ext?.cdep&&(s.device.ext.cdep=t.ortb2.device.ext.cdep),t?.ortb2?.device&&(0,n.lb)(s.device,t.ortb2.device),s.user=Uh(a.user,{}),s.user.ext||(s.user.ext={}),s.user.ext.eids=e[0].userIdAsEids||[],t.gdprConsent){const e=!0===t.gdprConsent.gdprApplies;s.regs.ext.gdpr=e?1:0,e&&(s.user.ext.consent=t.gdprConsent.consentString)}return t.uspConsent&&(s.regs.ext.us_privacy=t.uspConsent),t?.gppConsent?.gppString?(s.regs.gpp=t.gppConsent.gppString,s.regs.gpp_sid=t.gppConsent.applicableSections):t?.ortb2?.regs?.gpp&&(s.regs.ext.gpp=t.ortb2.regs.gpp,s.regs.ext.gpp_sid=t.ortb2.regs.gpp_sid),t?.ortb2?.regs?.ext?.dsa&&(s.regs.ext.dsa=t.ortb2.regs.ext.dsa),e.map((e=>{const i={ext:{}},a=(0,o.a)(e,"ortb2Imp.ext.tid");a&&(i.ext.tid=a);const s=(0,o.a)(e,"ortb2Imp.ext.gpid")||(0,o.a)(e,"ortb2Imp.ext.data.pbadslot");s&&(i.ext.gpid=s);const d=(0,o.a)(e,"mediaTypes.video");if(t.paapi?.enabled&&e.mediaTypes.banner&&(0,n.lb)(i,{ext:{ae:1}}),d){let[e,t]=[640,360];d.playerSize&&d.playerSize[0]&&d.playerSize[0][0]&&d.playerSize[0][1]&&([e,t]=d.playerSize[0]);const a=(e,t,i)=>{!["api","battr","mimes","playbackmethod","protocols"].includes(e)||Array.isArray(t[e])&&0!==t[e].length||!t[e]?t[e]&&(i.video[e]=t[e]):(0,n.jb)(`Sharethrough: Invalid video request property: "${e}" must be an array with at least 1 entry.  Value supplied: "${t[e]}".  This will not be added to the bid request.`)};i.video={pos:Uh(d.pos,0),topframe:(0,n.N)()?0:1,w:e,h:t},["api","battr","companionad","companiontype","delivery","linearity","maxduration","mimes","minduration","placement","playbackmethod","plcmt","protocols","skip","skipafter","skipmin","startdelay"].forEach((e=>{a(e,d,i)}))}else{i.banner={pos:(0,o.a)(e,"mediaTypes.banner.pos",0),topframe:(0,n.N)()?0:1,format:e.sizes.map((e=>({w:+e[0],h:+e[1]})))};const t=(0,o.a)(e,"mediaTypes.banner.battr",null)||(0,o.a)(e,"ortb2Imp.banner.battr");t&&(i.banner.battr=t)}return{id:e.bidId,tagid:String(e.params.pkey),secure:r?1:0,bidfloor:Oh(e),...i}})).filter((e=>!!e)).map((e=>({method:"POST",url:"https://btlr.sharethrough.com/universal/v1?supply_id=WYu2BXv1",data:{...s,imp:[e]}})))},interpretResponse:({body:e},t)=>{if(!e||!e.seatbid||0===e.seatbid.length||!e.seatbid[0].bid||0===e.seatbid[0].bid.length)return[];const i=e.ext?.auctionConfigs,a=e.seatbid[0].bid.map((i=>{const a={requestId:i.impid,width:+i.w,height:+i.h,cpm:+i.price,creativeId:i.crid,dealId:i.dealid||null,mediaType:t.data.imp[0].video?D.d:D.b,currency:e.cur||"USD",netRevenue:!0,ttl:360,ad:i.adm,nurl:i.nurl,meta:{advertiserDomains:i.adomain||[],networkId:i.ext?.networkId||null,networkName:i.ext?.networkName||null,agencyId:i.ext?.agencyId||null,agencyName:i.ext?.agencyName||null,advertiserId:i.ext?.advertiserId||null,advertiserName:i.ext?.advertiserName||null,brandId:i.ext?.brandId||null,brandName:i.ext?.brandName||null,demandSource:i.ext?.demandSource||null,dchain:i.ext?.dchain||null,primaryCatId:i.ext?.primaryCatId||null,secondaryCatIds:i.ext?.secondaryCatIds||null,mediaType:i.ext?.mediaType||null}};return a.mediaType===D.d&&(a.ttl=3600,a.vastXml=i.adm),a}));return i?{bids:a,paapi:e.ext?.auctionConfigs||{}}:a},getUserSyncs:(e,t)=>e.pixelEnabled&&void 0!==(0,o.a)(t,"0.body.cookieSyncUrls")?t[0].body.cookieSyncUrls.map((e=>({type:"image",url:e}))):[],onTimeout:()=>{},onBidWon:()=>{},onSetTargeting:()=>{}};function Oh(e){let t=null;if("function"==typeof e.getFloor){const i=e.getFloor({currency:"USD",mediaType:e.mediaTypes&&e.mediaTypes.video?"video":"banner",size:e.sizes.map((e=>({w:e[0],h:e[1]})))});"object"!=typeof i||"USD"!==i.currency||isNaN(parseFloat(i.floor))||(t=parseFloat(i.floor))}return null!==t?t:e.params.floor}function Uh(e,t){return e??t}(0,Ye.b)(Mh),gt.a.add(ft.a.sharethrough,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=Nl(a);Pl(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}a.outstream&&Ml(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream)})),gt.b.add(ft.a.sharethrough,Mh.gvlid);const Bh={code:"smartadserver",gvlid:45,aliases:["smart"],supportedMediaTypes:[D.b,D.d],isBidRequestValid:function(e){return!!(e.params&&e.params.siteId&&e.params.pageId&&e.params.formatId)},serializeSupplyChain:function(e){if(!e||!e.nodes)return null;const t=["asi","sid","hp","rid","name","domain"];return`${e.ver},${e.complete}!`+e.nodes.map((e=>t.map((t=>e[t]?encodeURIComponent(e[t]):"")).join(","))).join("!")},adaptBannerSizes:function(e){return e.map((e=>({w:e[0],h:e[1]})))},fillPayloadForVideoBidRequest:function(e,t,i){const a=t.playerSize[0],r={maxbitrate:"vbrmax",maxduration:"vdmax",minbitrate:"vbrmin",minduration:"vdmin",placement:"vpt",plcmt:"vplcmt",skip:"skip"};e.mediaType=D.d,e.isVideo="instream"===t.context,e.videoData={};for(const[i,a]of Object.entries(r))e.videoData={...e.videoData,...this.getValuableProperty(a,t[i])};e.videoData={...e.videoData,...this.getValuableProperty("playerWidth",a[0]),...this.getValuableProperty("playerHeight",a[1]),...this.getValuableProperty("adBreak",this.getStartDelayForVideoBidRequest(t,i)),...this.getValuableProperty("videoProtocol",this.getProtocolForVideoBidRequest(t,i)),...(0,n.U)(t.api)&&t.api.length?{iabframeworks:t.api.toString()}:{},...(0,n.U)(t.playbackmethod)&&t.playbackmethod.length?{vpmt:t.playbackmethod}:{}}},getValuableProperty:function(e,t){return"string"==typeof e&&(0,n.$)(t)&&t?{[e]:t}:{}},getProtocolForVideoBidRequest:function(e,t){return void 0!==t&&t.protocol?t.protocol:void 0!==e&&Array.isArray(e.protocols)?Math.max.apply(Math,e.protocols):null},getStartDelayForVideoBidRequest:function(e,t){if(t?.startDelay)return t.startDelay;if(e?.startdelay){if(e.startdelay>0||-1==e.startdelay)return 2;if(-2==e.startdelay)return 3}return 1},createServerRequest:function(e,t){return{method:"POST",url:(void 0!==t?t:"https://prg.smartadserver.com")+"/prebid/v1",data:JSON.stringify(e),options:{browsingTopics:!1}}},buildRequests:function(e,t){const i=v.config.getConfig("currency.adServerCurrency"),a=(0,o.a)(t,"ortb2.user.data",v.config.getAnyConfig("ortb2.user.data")),r=(0,o.a)(t,"ortb2.site.content.data",v.config.getAnyConfig("ortb2.site.content.data"));return e.reduce(((e,s)=>{let d={siteid:s.params.siteId,pageid:s.params.pageId,formatid:s.params.formatId,currencyCode:i,targeting:s.params.target&&""!==s.params.target?s.params.target:void 0,buid:s.params.buId&&""!==s.params.buId?s.params.buId:void 0,appname:s.params.appName&&""!==s.params.appName?s.params.appName:void 0,ckid:s.params.ckId||0,tagId:s.adUnitCode,pageDomain:t&&t.refererInfo&&t.refererInfo.page?t.refererInfo.page:void 0,transactionId:s.ortb2Imp?.ext?.tid,timeout:v.config.getConfig("bidderTimeout"),bidId:s.bidId,prebidVersion:"9.16.0",schain:Bh.serializeSupplyChain(s.schain),sda:a,sdc:r};const l=(0,o.a)(s,"ortb2Imp.ext.gpid")||(0,o.a)(s,"ortb2Imp.ext.data.pbadslot");l&&(d.gpid=l);const p=(0,o.a)(s,"ortb2.regs.ext.dsa");p&&(d.dsa=p),t&&(t.gdprConsent&&(d.addtl_consent=t.gdprConsent.addtlConsent,d.gdpr_consent=t.gdprConsent.consentString,d.gdpr=t.gdprConsent.gdprApplies),t.gppConsent&&(d.gpp=t.gppConsent.gppString,d.gpp_sid=t.gppConsent.applicableSections),t.uspConsent&&(d.us_privacy=t.uspConsent)),s&&s.userIdAsEids&&(d.eids=s.userIdAsEids),t&&t.uspConsent&&(d.us_privacy=t.uspConsent);const c=(0,o.a)(s,"mediaTypes.banner"),m=(0,o.a)(s,"mediaTypes.video"),u=m&&("instream"===m.context||"outstream"===m.context);if(c||u){let t;if(c){if(t=D.b,d.sizes=Bh.adaptBannerSizes(c.sizes),u){let t=(0,n.p)(d);Bh.fillPayloadForVideoBidRequest(t,m,s.params.video),t.bidfloor=s.params.bidfloor||Bh.getBidFloor(s,i,D.d),e.push(Bh.createServerRequest(t,s.params.domain))}}else t=D.d,Bh.fillPayloadForVideoBidRequest(d,m,s.params.video);d.bidfloor=s.params.bidfloor||Bh.getBidFloor(s,i,t),e.push(Bh.createServerRequest(d,s.params.domain))}else e.push({});return e}),[])},interpretResponse:function(e,t){const i=[];let a=e.body;try{if(a&&!a.isNoAd&&(a.ad||a.adUrl)){const e=JSON.parse(t.data);let r={requestId:e.bidId,cpm:a.cpm,width:a.width,height:a.height,creativeId:a.creativeId,dealId:a.dealId,currency:a.currency,netRevenue:a.isNetCpm,ttl:a.ttl,dspPixels:a.dspPixels,meta:{...(0,n.V)(a.adomain)&&!(0,n.Y)(a.adomain)?{advertiserDomains:a.adomain}:{},...(0,n.Y)(a.dsa)?{}:{dsa:a.dsa}}};e.mediaType===D.d?(r.mediaType=D.d,r.vastUrl=a.adUrl,r.vastXml=a.ad,r.content=a.ad):(r.adUrl=a.adUrl,r.ad=a.ad),i.push(r)}}catch(e){(0,n.gb)("Error while parsing smart server response",e)}return i},getBidFloor:function(e,t,i){if(!(0,n.Z)(e.getFloor))return 0;const a=e.getFloor({currency:t||"USD",mediaType:i,size:"*"});return(0,n.bb)(a)&&!isNaN(a.floor)?a.floor:0},getUserSyncs:function(e,t){const i=[];return e.iframeEnabled&&t.length>0&&null!=t[0].body.cSyncUrl?i.push({type:"iframe",url:t[0].body.cSyncUrl}):e.pixelEnabled&&t.length>0&&void 0!==t[0].body.dspPixels&&t[0].body.dspPixels.forEach((function(e){i.push({type:"image",url:e})})),i}};(0,Ye.b)(Bh),gt.a.add(ft.a.Smart,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=Nl(a);Pl(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}if(a.outstream&&Ml(e,t.placementId,a.outstream,[{bidder:i.bidder,params:{video:{protocol:8,startDelay:1},...i.params}}],t.rendering?.outstream),a.instream&&Ol(e,t.placementId,a.instream,[{bidder:i.bidder,params:{video:{protocol:6},...i.params}}]),a.native){const n=bt.readConfig("s2sConfig");n?.enabled&&n.bidders?.includes(i.bidder)&&Ul(e,t.placementId,[{bidder:i.bidder,params:i.params}],a.native)}})),gt.b.add(ft.a.Smart,Bh.gvlid);const Ph={mimes:e=>Array.isArray(e)&&e.length>0&&e.every((e=>"string"==typeof e)),minduration:e=>(0,n.$)(e),maxduration:e=>(0,n.$)(e),protocols:e=>Array.isArray(e)&&e.every((e=>e>=1&&e<=10)),w:e=>(0,n.$)(e),h:e=>(0,n.$)(e),startdelay:e=>(0,n.$)(e),linearity:e=>-1!==[1,2].indexOf(e),skip:e=>-1!==[0,1].indexOf(e),skipmin:e=>(0,n.$)(e),skipafter:e=>(0,n.$)(e),sequence:e=>(0,n.$)(e),battr:e=>Array.isArray(e)&&e.every((e=>e>=1&&e<=17)),maxextended:e=>(0,n.$)(e),minbitrate:e=>(0,n.$)(e),maxbitrate:e=>(0,n.$)(e),boxingallowed:e=>-1!==[0,1].indexOf(e),playbackmethod:e=>Array.isArray(e)&&e.every((e=>e>=1&&e<=6)),playbackend:e=>-1!==[1,2,3].indexOf(e),api:e=>Array.isArray(e)&&e.every((e=>e>=1&&e<=6)),placement:e=>(0,n.$)(e)&&e>=1&&e<=5,plcmt:e=>(0,n.$)(e)&&e>=1&&e<=4,delivery:e=>Array.isArray(e)&&e.every((e=>e>=1&&e<=3)),pos:e=>(0,n.$)(e)&&e>=1&&e<=7},Nh={context:e=>e!==D.a,mimes:Ph.mimes,maxduration:Ph.maxduration,protocols:Ph.protocols},jh={code:"sovrn",supportedMediaTypes:[D.b,D.d],gvlid:13,isBidRequestValid:function(e){const t=e?.mediaTypes?.video;return!(!e.params.tagid||isNaN(parseFloat(e.params.tagid))||!isFinite(e.params.tagid)||t&&!Object.keys(Nh).every((e=>Nh[e](t[e]))))},buildRequests:function(e,t){try{let i,a,s,d,l=[];(0,n.a)(e,(function(e){!s&&e.userIdAsEids&&(s=e.userIdAsEids,s.forEach((function(e){e.uids&&e.uids[0]&&"criteo.com"===e.source&&(d=e.uids[0].id)}))),e.schain&&(a=a||e.schain),i=i||(0,n.x)("iv",e.params);const r={adunitcode:e.adUnitCode,id:e.bidId,tagid:String((0,n.x)("tagid",e.params)),bidfloor:zh(e)};if((0,o.a)(e,"mediaTypes.banner")){let t=(0,o.a)(e,"mediaTypes.banner.sizes")||e.sizes;t=(0,n.V)(t)&&(0,n.V)(t[0])?t:[t],t=t.filter((e=>(0,n.V)(e)));const i=t.map((e=>({w:parseInt(e[0],10),h:parseInt(e[1],10)})));r.banner={format:i,w:1,h:1}}(0,o.a)(e,"mediaTypes.video")&&(r.video=function(e){const t={},i=(0,o.a)(e,"sizes"),a=(0,o.a)(e,"mediaTypes.video",{}),r=(0,o.a)(e,"params.video",{}),s={};if(i){const e=Array.isArray(i[0])?i[0]:i;s.w=e[0],s.h=e[1]}else if(Array.isArray(a.playerSize)){const e=Array.isArray(a.playerSize[0])?a.playerSize[0]:a.playerSize;s.w=e[0],s.h=e[1]}const d={...s,...a,...r};return Object.keys(Ph).forEach((e=>{d.hasOwnProperty(e)&&(Ph[e](d[e])?t[e]=d[e]:(0,n.jb)(`The OpenRTB video param ${e} has been skipped due to misformating. Please refer to OpenRTB 2.5 spec.`))})),t}(e)),r.ext=(0,n.x)("ext",e.ortb2Imp)||void 0;const p=(0,n.x)("segments",e.params);p&&(r.ext=r.ext||{},r.ext.deals=p.split(",").map((e=>e.trim())));const c=e?.ortb2Imp?.ext?.ae;t.paapi?.enabled&&(0,n.$)(c)?(r.ext=r.ext||{},r.ext.ae=c):r.ext?.ae&&delete r.ext.ae,l.push(r)}));const p=t.ortb2||{},c=p.site||{};c.page=t.refererInfo.page,c.domain=t.refererInfo.domain;const m=(0,o.a)(t,"timeout"),u={id:(0,n.G)(),imp:l,site:c,user:p.user||{},tmax:m};a&&(u.source={ext:{schain:a}});const b=(0,o.a)(t,"ortb2.source.tid");b&&(0,r.a)(u,"source.tid",b),(0,o.a)(t,"ortb2.regs.coppa")&&(0,r.a)(u,"regs.coppa",1),t.gdprConsent&&((0,r.a)(u,"regs.ext.gdpr",+t.gdprConsent.gdprApplies),(0,r.a)(u,"user.ext.consent",t.gdprConsent.consentString)),t.uspConsent&&(0,r.a)(u,"regs.ext.us_privacy",t.uspConsent),t.gppConsent&&((0,r.a)(u,"regs.gpp",t.gppConsent.gppString),(0,r.a)(u,"regs.gpp_sid",t.gppConsent.applicableSections)),t?.ortb2?.device&&(u.device=u.device||{},(0,n.lb)(u.device,t.ortb2.device)),s&&((0,r.a)(u,"user.ext.eids",s),d&&(0,r.a)(u,"user.ext.prebid_criteoid",d));let f="https://ap.lijit.com/rtb/bid?src=prebid_prebid_9.16.0";return i&&(f+=`&iv=${i}`),{method:"POST",url:f,data:JSON.stringify(u),options:{contentType:"text/plain"}}}catch(e){(0,n.gb)("Could not build bidrequest, error deatils:",e)}},interpretResponse:function({body:{id:e,seatbid:t,ext:i}}){if(!e||!t||!Array.isArray(t))return[];try{let e=t.filter((e=>e)).map((e=>e.bid.map((e=>{const t={requestId:e.impid,cpm:parseFloat(e.price),width:parseInt(e.w),height:parseInt(e.h),creativeId:e.crid||e.id,dealId:e.dealid||null,currency:"USD",netRevenue:!0,mediaType:e.nurl?D.b:D.d,ttl:e.ext?.ttl||90,meta:{advertiserDomains:e&&e.adomain?e.adomain:[]}};return e.nurl?t.ad=decodeURIComponent(`${e.adm}<img src="${e.nurl}">`):t.vastXml=decodeURIComponent(e.adm),t})))).flat(),a=null;if((0,n.V)(i?.igbid)){const e=i.seller,t=i.decisionLogicUrl,r=i.sellerTimeout;i.igbid.filter((e=>{return t=e,!(0,n.X)(t.impid)&&(0,n.V)(t.igbuyer)&&t.igbuyer.length;var t})).forEach((i=>{const o={};i.igbuyer.filter((e=>{return t=e,!(0,n.X)(t.igdomain);var t})).forEach((e=>{o[e.igdomain]=e.buyerdata}));const s=[...Object.keys(o)];s.length&&(a=a||{},a[i.impid]={seller:e,decisionLogicUrl:t,sellerTimeout:r,interestGroupBuyers:s,perBuyerSignals:o})}))}return a?(a=Object.entries(a).map((([e,t])=>({bidId:e,config:Object.assign({auctionSignals:{}},t)}))),{bids:e,paapi:a}):e}catch(e){return(0,n.gb)("Could not interpret bidresponse, error details:",e),e}},getUserSyncs:function(e,t,i,a,n){try{const r=[];if(t&&0!==t.length){if(e.iframeEnabled){const e=t.filter((e=>(0,o.a)(e,"body.ext.iid"))).map((e=>e.body.ext.iid)),s=[];i&&i.gdprApplies&&"string"==typeof i.consentString&&s.push(["gdpr_consent",i.consentString]),a&&s.push(["us_privacy",a]),n&&(s.push(["gpp",n.gppString]),s.push(["gpp_sid",n.applicableSections])),e[0]&&(s.push(["informer",e[0]]),r.push({type:"iframe",url:"https://ce.lijit.com/beacon?"+s.map((e=>e.join("="))).join("&")}))}e.pixelEnabled&&t.filter((e=>(0,o.a)(e,"body.ext.sync.pixels"))).reduce(((e,t)=>e.concat(t.body.ext.sync.pixels)),[]).map((e=>e.url)).forEach((e=>r.push({type:"image",url:e})))}return r}catch(e){return[]}}};function zh(e){const t=e.getFloor&&"function"==typeof e.getFloor?e.getFloor({currency:"USD",mediaType:e.mediaTypes&&e.mediaTypes.banner?"banner":"video",size:"*"}):{},i=parseFloat(t.floor);if(!isNaN(i))return i;const a=parseFloat((0,n.x)("bidfloor",e.params));return isNaN(a)?void 0:a}(0,Ye.b)(jh),gt.a.add(ft.a.sovrn,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=Nl(a);Pl(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}if(a.outstream){const n={...Sl,...a.outstream.openRtbParams};n.protocols=n.protocols.filter((e=>e>=1&&e<=10)),n.api=n.api.filter((e=>e>=1&&e<=6)),0===n.pos&&(n.pos=void 0);const r={...a.outstream,openRtbParams:n};Ml(e,t.placementId,r,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream)}})),gt.b.add(ft.a.sovrn,jh.gvlid);let qh=null;const $h=()=>!1!==qh;function Fh(e=window){let t;try{t=e.top.history.length}catch(e){t=void 0}return t}function Vh(e=window){let t;try{t=e.top.navigator.hardwareConcurrency}catch(e){t=void 0}return t}function Lh(e=window){let t;try{t=e.top.navigator.deviceMemory}catch(e){t=void 0}return t}!function(){const e=navigator.userAgent.match(/iPhone OS (\d+)_(\d+)/);if(null!==e&&parseInt(e[1])<17&&!navigator.userAgent.includes("Safari"))return;const t=document.createElement("video");t.src="data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAAADxtZGF0AAAAMGWIhAAV//73ye/Apuvb3rW/k89I/Cy3PsIqP39atohOSV14BYa1heKCYgALQC5K4QAAAwZtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAD6AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACMHRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAD6AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAoAAAAFoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAA+gAAAAAAAEAAAAAAahtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAAEAAAABAAFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAFTbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABE3N0YmwAAACvc3RzZAAAAAAAAAABAAAAn2F2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAoABaAEgAAABIAAAAAAAAAAEVTGF2YzYwLjMxLjEwMiBsaWJ4MjY0AAAAAAAAAAAAAAAY//8AAAA1YXZjQwFkAAr/4QAYZ2QACqzZQo35IQAAAwABAAADAAIPEiWWAQAGaOvjyyLA/fj4AAAAABRidHJ0AAAAAAAAAaAAAAGgAAAAGHN0dHMAAAAAAAAAAQAAAAEAAEAAAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAABRzdHN6AAAAAAAAADQAAAABAAAAFHN0Y28AAAAAAAAAAQAAADAAAABidWR0YQAAAFptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABtZGlyYXBwbAAAAAAAAAAAAAAAAC1pbHN0AAAAJal0b28AAAAdZGF0YQAAAAEAAAAATGF2ZjYwLjE2LjEwMA==",t.setAttribute("playsinline","true"),t.muted=!0,t.play().then((()=>{qh=!0,t.src=""})).catch((()=>{qh=!1}))}();const Gh="teads",Wh=(0,te.d)({bidderCode:Gh}),Hh={code:Gh,gvlid:132,supportedMediaTypes:["video","banner"],isBidRequestValid:function(e){let t=!1;if(void 0!==e.params){let i=ev((0,n.I)(e.params,"placementId")),a=ev((0,n.I)(e.params,"pageId"));t=i&&a}return t||(0,n.gb)("Teads placementId and pageId parameters are required. Bid aborted."),t},buildRequests:function(e,t){const i=e.map(Qh),a=window.top,n={referrer:Yh(t),pageReferrer:document.referrer,pageTitle:Jh().slice(0,300),pageDescription:Kh().slice(0,300),networkBandwidth:(r=window.navigator,r&&r.connection&&r.connection.downlink>=0?r.connection.downlink.toString():""),timeToFirstByte:Zh(window),data:i,device:t?.ortb2?.device||{},deviceWidth:screen.width,deviceHeight:screen.height,devicePixelRatio:a.devicePixelRatio,screenOrientation:screen.orientation?.type,historyLength:Fh(),viewportHeight:a.visualViewport?.height,viewportWidth:a.visualViewport?.width,hardwareConcurrency:Vh(),deviceMemory:Lh(),hb_version:"9.16.0",...Xh(e),...tv(e)};var r;const s=e[0];s.schain&&(n.schain=s.schain);let d=t.gppConsent;if(t&&d){let e="string"==typeof d.gppString,t=Array.isArray(d.applicableSections)&&d.applicableSections.every((e=>"number"==typeof e));n.gpp={consentString:e?d.gppString:"",applicableSectionIds:t?d.applicableSections:[]}}let l=t.gdprConsent;if(t&&l){let e="boolean"==typeof l.gdprApplies,t="string"==typeof l.consentString,i=e?function(e,t){let i=12;return e?t&&!t.isServiceSpecific&&(i=11):i=0,i}(l.gdprApplies,l.vendorData):22;n.gdpr_iab={consent:t?l.consentString:"",status:i,apiVersion:l.apiVersion}}t&&t.uspConsent&&(n.us_privacy=t.uspConsent);const p=(0,o.a)(s,"ortb2.device.sua");p&&(n.userAgentClientHints=p);const c=(0,o.a)(t,"ortb2.regs.ext.dsa");return c&&(n.dsa=c),{method:"POST",url:"https://a.teads.tv/hb/bid-request",data:JSON.stringify(n)}},interpretResponse:function(e){if(!(e=e.body).responses)return[];const t=$h();return e.responses.filter((e=>!e.needAutoplay||t)).map((e=>{const t={cpm:e.cpm,width:e.width,height:e.height,currency:e.currency,netRevenue:!0,ttl:e.ttl,meta:{advertiserDomains:e&&e.adomain?e.adomain:[]},ad:e.ad,requestId:e.bidId,creativeId:e.creativeId,placementId:e.placementId};return e.dealId&&(t.dealId=e.dealId),e?.ext?.dsa&&(t.meta.dsa=e.ext.dsa),t}))}};function Xh(e){const t={unifiedId2:"uid2.id",liveRampId:"idl_env",lotamePanoramaId:"lotamePanoramaId",id5Id:"id5id.uid",criteoId:"criteoId",yahooConnectId:"connectId",quantcastId:"quantcastId",epsilonPublisherLinkId:"publinkId",publisherFirstPartyViewerId:"pubcid",merkleId:"merkleId.id",kinessoId:"kpuid"};let i={};for(const a in t){const n=t[a],r=(0,o.a)(e,`0.userId.${n}`);r&&(i[a]=r)}return i}function Yh(e){let t="";return e&&e.refererInfo&&e.refererInfo.page&&(t=e.refererInfo.page),t}function Jh(){try{const e=window.top.document.querySelector('meta[property="og:title"]');return window.top.document.title||e&&e.content||""}catch(e){const t=document.querySelector('meta[property="og:title"]');return document.title||t&&t.content||""}}function Kh(){let e;try{e=window.top.document.querySelector('meta[name="description"]')||window.top.document.querySelector('meta[property="og:description"]')}catch(t){e=document.querySelector('meta[name="description"]')||document.querySelector('meta[property="og:description"]')}return e&&e.content||""}function Zh(e){const t=e.performance||e.webkitPerformance||e.msPerformance||e.mozPerformance,i=t&&"function"==typeof t.getEntriesByType&&"[object Function]"===Object.prototype.toString.call(t.getEntriesByType)&&t.getEntriesByType("navigation")[0]&&t.getEntriesByType("navigation")[0].responseStart&&t.getEntriesByType("navigation")[0].requestStart&&t.getEntriesByType("navigation")[0].responseStart>0&&t.getEntriesByType("navigation")[0].requestStart>0&&Math.round(t.getEntriesByType("navigation")[0].responseStart-t.getEntriesByType("navigation")[0].requestStart);if(i)return i.toString();const a=t&&t.timing.responseStart&&t.timing.requestStart&&t.timing.responseStart>0&&t.timing.requestStart>0&&t.timing.responseStart-t.timing.requestStart;return a?a.toString():""}function Qh(e){const t={};let i=(0,n.I)(e.params,"placementId"),a=(0,n.I)(e.params,"pageId");const r=(0,o.a)(e,"ortb2Imp.ext.gpid"),s=(0,o.a)(e,"mediaTypes.video.plcmt");return t.sizes=function(e){return(0,n.pb)(function(e){let t=(0,o.a)(e,"mediaTypes.video.playerSize"),i=(0,o.a)(e,"mediaTypes.video.sizes"),a=(0,o.a)(e,"mediaTypes.banner.sizes");return(0,n.V)(a)||(0,n.V)(t)||(0,n.V)(i)?[a,i,t].reduce((function(e,t){return(0,n.V)(t)&&((0,n.V)(t[0])?t.forEach((function(t){e.push(t)})):e.push(t)),e}),[]):e.sizes}(e))}(e),t.bidId=(0,n.x)("bidId",e),t.bidderRequestId=(0,n.x)("bidderRequestId",e),t.placementId=parseInt(i,10),t.pageId=parseInt(a,10),t.adUnitCode=(0,n.x)("adUnitCode",e),t.transactionId=e.ortb2Imp?.ext?.tid||"",r&&(t.gpid=r),s&&(t.videoPlcmt=s),t}function ev(e){return parseInt(e)>0}function tv(e){const t=(0,o.a)(e,"0.userId.teadsId");if(t)return{firstPartyCookieTeadsId:t};if(Wh.cookiesAreEnabled(null)){const e=Wh.getCookie("_tfpvi",null);if(e)return{firstPartyCookieTeadsId:e}}return{}}(0,Ye.b)(Hh),gt.a.add(ft.a.Teads,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.outstream){const n=[];a.banner&&n.push(...a.banner.sizes),a.outstream&&n.push([1,1]),Pl(e,t.placementId,n,[{bidder:i.bidder,params:i.params}],{displayFormat:wa.a.outstream})}})),gt.b.add(ft.a.Teads,Hh.gvlid);var iv=i(34);const av=e=>{switch(e){case"atf":return 1;case"btf":return 3}return 0},nv=(e,t,i)=>{const a=((e,t,i)=>e&&0!==e.length?t===ba?e.filter((e=>!e.allowedDisplayFormats||e.allowedDisplayFormats.includes(wa.a.native))):t===ua?e.filter((e=>!e.allowedDisplayFormats||e.allowedDisplayFormats.includes(wa.a.banner))):t===fa?((e,t)=>"outstream"===t.context?e.filter((e=>!e.allowedDisplayFormats||e.allowedDisplayFormats.includes(wa.a.outstream))):"instream"===t.context?e.filter((e=>!e.allowedDisplayFormats||e.allowedDisplayFormats.includes(wa.a.instream))):e)(e,i):e:[])((0,St.a)(e.params.deals),i,e.mediaTypes.video);if(0!==a.length)return{private_auction:0,deals:a.map((a=>{const n=(0,Tt.q)(a)?a:a.name,r=(0,Tt.q)(a)?0:((e,t)=>{if((0,Tt.m)(e)){const i=e[t];if((0,Tt.l)(i))return i}if((0,Tt.l)(e))return e})(a.priceFloor,i);return{id:n,bidfloor:Math.max(r??0,t??0),at:Ft.a.firstPrice,wseat:e.params.wseat}}))}},rv=(e,t)=>"outstream"===e?-100:t??0,ov=(e,t)=>({id:e.siteId,page:location.href,publisher:{id:e.publisherId,name:e.publisherName,domain:e.publisherDomain},domain:e.siteDomain,cat:e.iabCategories,ref:t.refererInfo?.ref,keywords:t.ortb2?.site?.keywords,content:{keywords:t.ortb2?.site?.keywords}}),sv=(new Set(["1","true",!0]),{}),dv={},{warn:lv}=et.a.tag("screen-size"),pv=e=>{switch(e){case"Cellular":switch(navigator.connection?.effectiveType){case"2g":return 4;case"3g":return 5;case"4g":return 6}return 3;case"Cable/DSL":return 2;case"Corporate":case"Dialup":return 1;default:return 0}},{warn:cv}=et.a.tag("ortb-bid-adapter"),mv=(e,t,i=[])=>{if(!e.getFloor)return.1;const a=e.getFloor.bind(e);return i.reduce(((e,i)=>{const{floor:n}=a({currency:"USD",mediaType:t,size:i});return(0,Tt.r)(n)?e:Math.min(e??n,n)}),void 0)??a({currency:"USD",mediaType:t,size:"*"}).floor??.1},uv=[Al.a.vast10,Al.a.vast20,Al.a.vast30,Al.a.vast40,Al.a.vast10Wrapper,Al.a.vast20Wrapper,Al.a.vast30Wrapper,Al.a.vast40Wrapper,Al.a.vast41,Al.a.vast41Wrapper,Al.a.vast42,Al.a.vast42Wrapper],bv=[Dl.a.vpaid10,Dl.a.vpaid20,Dl.a.mraid1,Dl.a.mraid2,Dl.a.mraid3],fv=(e,t)=>{t.mediaTypes.banner&&((e,t)=>{if(!t.mediaTypes.banner||t.mediaTypes.banner.sizes.length<=0)return cv("Banner BidRequest without sizes was skipped",e);const{sizes:i}=t.mediaTypes.banner,a=`b:${t.bidId}`,n=i[0]?.[0]??0,r=i[0]?.[1]??0;var o;o={size:[n,r]},dv[a]=o;const s=t.ortb2Imp?.ext?.gpid,d={id:a,tagid:s||(t.params.tagId??t.adUnitCode),secure:Ft.b.yes,instl:t.params.instl??Ft.b.no,bidfloor:mv(t,ua,i),bidfloorcur:"USD",banner:{w:n,h:r,format:i.map((([e,t])=>({w:e,h:t}))),pos:av(t.params.position)},ext:t.ortb2Imp?.ext};d.pmp=nv(t,d.bidfloor,ua),e.imp.push(d)})(e,t),t.mediaTypes.video&&((e,t)=>{if(!t.mediaTypes.video||t.mediaTypes.video.playerSize.length<=0)return cv("Video BidRequest without sizes was skipped",e);const{context:i,playerSize:a,startdelay:n,placement:r,plcmt:o,minduration:s,maxduration:d,protocols:l,api:p,mimes:c,skip:m,playbackmethod:u,maxbitrate:b,minbitrate:f}=t.mediaTypes.video,{video:g}=t.params,y=`v:${t.bidId}`,[h,v]=a[0];var _;_={size:[h,v]},sv[y]=_;const I=((e,t)=>{switch(e){case"instream":return 1;case"inbanner":return 2;case"inarticle":return 3;case"infeed":return 4;case"interstitial":return 5}return t??0})(t.params.video?.placement,r),w=((e,t,i)=>{switch(e){case"instream":return 1;case"interstitial":return 3;case"standalone":return 4;case"accompanying":return 2}if(t)return t;switch(i){case 1:return 1;case 5:return 3;case 2:case 3:case 4:return 4}return 0})(t.params.video?.plcmt,o,I),x=t.ortb2Imp?.ext?.gpid,T={id:y,tagid:x||(t.params.tagId??t.adUnitCode),secure:Ft.b.yes,bidfloor:mv(t,fa),bidfloorcur:"USD",video:{playbackmethod:u,mimes:(0,St.a)(g?.mimesTypes??c),minduration:g?.minDuration??s??1,maxduration:g?.maxDuration??d??30,maxbitrate:b,minbitrate:f,protocols:l??uv,w:h,h:v,startdelay:rv(i,n),linearity:1,api:p??bv,placement:I,plcmt:w,pos:av(t.params.videoPosition),skip:m??Ft.b.yes},ext:t.ortb2Imp?.ext};T.pmp=nv(t,T.bidfloor,fa),e.imp.push(T)})(e,t),t.mediaTypes.native&&((e,t)=>{if(!t.mediaTypes.native)return cv("Wrong media type (native)",e);try{if(!t.nativeOrtbRequest)throw Error("Native ortb request is not defined");const i=t.ortb2Imp?.ext?.gpid,a=i||(t.params.tagId??t.adUnitCode),n={id:`n:${t.bidId}`,tagid:a,secure:Ft.b.yes,bidfloor:mv(t,ba),bidfloorcur:"USD",native:{request:JSON.stringify(t.nativeOrtbRequest),ver:t.nativeOrtbRequest.ver},ext:t.ortb2Imp?.ext};n.pmp=nv(t,n.bidfloor,ba),e.imp.push(n)}catch(e){(0,Ia.a)(new _a.b(_a.a.generateNativeOrtbRequestFailed,e,"generating native ortb request failed"))}})(e,t)},{warn:gv}=et.a.tag("ortb-bid-adapter"),yv=(e,t)=>({agencyId:t.seat??void 0,advertiserId:e.ext?.advid,advertiserDomains:e.adomain??void 0,primaryCatId:e.cat?.[0]??void 0,secondaryCatIds:e.cat?.slice(1)??void 0}),hv=(e,t,i,a,n)=>{a.impid.startsWith("b:")?((e,t,i,a,{assumeRequestSizeForEmptyResponseSize:n})=>{if(!a.crid)return gv("Skipped invalid bid with no creativeId provided",a);if(!a.adm&&!a.nurl)return gv("Skipped invalid banner with no creative markup or url",a);const r=(o=a.impid,dv[o]);var o;const s=n?a.w??r?.size[0]:a.w,d=n?a.h??r?.size[1]:a.h;if(!s||!d)return gv("Skipped invalid bid with no size provided",a);e.push({requestId:a.impid.replace(/^b:/,""),cpm:a.price,width:s,height:d,creativeId:a.crid,dealId:a.dealid??void 0,currency:t.cur??"USD",netRevenue:!0,ttl:a.exp??60,mediaType:ua,ad:a.adm??void 0,adUrl:a.nurl??void 0,meta:yv(a,i)})})(e,t,i,a,n):a.impid.startsWith("v:")?((e,t,i,a)=>{if(!a.crid)return gv("Skipped invalid bid with no creativeId provided",a);if(!a.nurl&&!a.adm)return gv("Skipped invalid video with no vast url or markup provided",a);const n=(r=a.impid,sv[r]);var r;const[o,s]=n?.size??[640,480];e.push({requestId:a.impid.replace(/^v:/,""),cpm:a.price,width:o,height:s,creativeId:a.crid,dealId:a.dealid??void 0,currency:t.cur??"USD",netRevenue:!0,ttl:a.exp??60,meta:yv(a,i),mediaType:fa,vastXml:a.adm??void 0,vastUrl:a.nurl??void 0})})(e,t,i,a):a.impid.startsWith("n:")&&((e,t,i,a)=>{if(!a.crid)return gv("Skipped invalid bid with no creativeId provided",a);if(!a.adm)return gv("Skipped invalid native with no creative markup or url",a);const n=(e=>{try{const{adm:t,price:i}=e;if(!t)return;const a=ma(t,i);return JSON.parse(a).native}catch(t){return gv("failed to format native data",e,t)}})(a);if(!n)return gv("Skipped invalid native with no native data",a);e.push({requestId:a.impid.replace(/^n:/,""),cpm:a.price,width:1,height:1,creativeId:a.crid,dealId:a.dealid??void 0,currency:t.cur??"USD",netRevenue:!0,ttl:a.exp??60,mediaType:ba,meta:yv(a,i),native:{ortb:n}})})(e,t,i,a)},{warn:vv,error:_v,debug:Iv}=et.a.tag("ttd-bid-adapter"),wv={code:"ttdDirectPath",supportedMediaTypes:[ua,fa,ba],gvlid:21,isBidRequestValid:e=>!!(e=>(0,Tt.m)(e)&&(0,Tt.a)(e.position,void 0,"atf","btf")&&(0,Tt.n)(e.deals,(0,Tt.h)(Tt.b,Tl))&&(0,Tt.n)(e.tagId,Tt.q)&&(0,Tt.n)(e.video,xl)&&(0,Tt.n)(e.categoryBlocklist,(0,Tt.h)(Tt.b,Tt.q))&&(0,Tt.n)(e.domainBlocklist,(0,Tt.h)(Tt.b,Tt.q))&&(0,Tt.n)(e.wseat,(0,Tt.h)(Tt.b,Tt.q)))(e.params)||(_v("Bid request parameters are invalid",e),!1),buildRequests(e,t){if(!e)return[];const i=v.config.getConfig("hubvisor")?.context;if(!i)return vv("TTD Context unavailable, cannot build bid requests"),[];const a=(()=>{const e=v.config.getConfig("hubvisor")?.contentBlocklist;if((0,Tt.b)(e,Tt.q)&&e.length>0)return e})(),n=(()=>{const e=v.config.getConfig("hubvisor")?.domainBlocklist;if((0,Tt.b)(e,Tt.q)&&e.length>0)return e})(),r=Yn(e,(e=>e.bidderRequestId));return Object.entries(r).map((([e,r])=>{const o=(({id:e,bidderRequest:t,context:i,buyeruid:a})=>{const n=Dt.currentValue,[r,o]=(()=>{try{const e=window.mraid?.getScreenSize();if((0,Tt.m)(e)&&(0,Tt.l)(e.width)&&(0,Tt.l)(e.height))return[e.width,e.height]}catch(e){lv("mraid.getScreenSize() failed with error: ",e)}})()??[screen.width,screen.height],s=t.ortb2;return{id:e,at:Ft.a.firstPrice,cattax:1,cur:["USD"],site:ov(i,t),device:{...s?.device,ip:n?.ip,w:r,h:o,ua:navigator.userAgent,language:navigator.language.includes("-")?navigator.language.split("-")[0]:navigator.language,geo:{country:n?.geo?.country?.alpha3,lat:n?.geo?.location?.latitude,lon:n?.geo?.location?.longitude,accuracy:n?.geo?.location?.accuracyRadius,ipservice:3,city:n?.geo?.city?.name,zip:n?.geo?.city?.zip},devicetype:yt.a,dnt:n?.dnt?Ft.b.yes:Ft.b.no,js:Ft.b.yes,make:n?.ua?.device?.vendor,model:n?.ua?.device?.model,os:n?.ua?.os?.name,osv:n?.ua?.os?.version,connectiontype:pv(n?.cxn),lmt:0},user:{buyeruid:a,ext:{consent:t.gdprConsent?.consentString}},source:{tid:t.ortb2?.source?.tid,fd:1,ext:{schain:{ver:"1.0",complete:Ft.b.yes,nodes:[{asi:"hubvisor.io",sid:i.publisherId,hp:Ft.b.yes}]}}},regs:{ext:{gdpr:t.gdprConsent?.gdprApplies?Ft.b.yes:Ft.b.no,dsa:t.ortb2?.regs?.ext?.dsa}},imp:[]}})({id:e,bidderRequest:t,context:i,buyeruid:ri.tdid});a&&(o.bcat=a),n&&(o.badv=n),t.uspConsent&&o.regs?.ext&&(o.regs.ext.us_privacy=t.uspConsent),o.regs&&!0===v.config.readConfig("coppa")&&(o.regs.coppa=1),o.user.ext.eids=r?.[0]?.userIdAsEids;for(const e of r??[])fv(o,e);return{method:"POST",url:"https://eur-bid-hubvisor.adsrvr.org/bid/bidder/hubvisor",data:o}}))},interpretResponse(e){if(!(0,iv.c)(e.body))return Iv("response body is not a bid response",e.body),[];const{assumeRequestSizeForEmptyResponseSize:t=!0}=v.config.getConfig("hubvisor"),i=v.config.getConfig("hubvisor").context,a=e.body,n=[];if(!a.seatbid)return n;for(const e of a.seatbid)if(e.bid)for(const r of e.bid)hv(n,a,e,r,{context:i,assumeRequestSizeForEmptyResponseSize:t});return n}};function xv(e,t,i){return i?e+t+"="+encodeURIComponent(i)+"&":e}(0,Ye.b)(wv),gt.a.add(ft.a.ttdDirectPath,((e,{bid:t,placement:i,resolvedMediaTypes:a})=>{if(ar.a)return;const n=(0,Tt.m)(i.position)?i.position?.banner:i.position,r=(0,Tt.m)(i.position)?i.position?.video:i.position;n&&(t.params={...t.params,position:n}),r&&(t.params={...t.params,videoPosition:r});const o=[...t.params.deals??[],...i.bidRequest.deals??[]];window.ethereum&&(o.push({name:"ttd-c-1ae24aab33"}),(a.instream||a.outstream)&&o.push({name:"ttd-dp-alld-vid",allowedDisplayFormats:[wa.a.instream,wa.a.outstream]}),a.native&&o.push({name:"ttd-dp-alld-native",allowedDisplayFormats:[wa.a.native]}),a.skin?o.push({name:"ttd-dp-alld-sk",allowedDisplayFormats:[wa.a.banner]}):a.banner&&o.push({name:"ttd-dp-alld-classic",allowedDisplayFormats:[wa.a.banner]}));const s=(e=>{const t=[];for(const i of e)Tl(i)&&t.push(i.name);return t})(o??[]),d={...t.params,deals:o};if(a.banner||a.skin){const n=Nl(a);Pl(e,i.placementId,n,[{bidder:t.bidder,params:{...d,video:void 0}}],{requestDealIds:s})}a.outstream&&(i.rendering?.outstream?.hbvFormat?Ml(e,i.placementId,a.outstream,[{bidder:t.bidder,params:d}],{...i.rendering?.outstream},{requestDealIds:s}):Ml(e,i.placementId,a.outstream,[{bidder:t.bidder,params:d}],{...i.rendering?.outstream,expand:qa.b.whenVisible},{requestDealIds:s})),a.instream&&Ol(e,i.placementId,a.instream,[{bidder:t.bidder,params:d}],{requestDealIds:s}),a.native&&Ul(e,i.placementId,[{bidder:t.bidder,params:{...d,video:void 0}}],a.native,{requestDealIds:s})})),gt.b.add(ft.a.ttdDirectPath,wv.gvlid);const Tv="triplelift";let Dv=null,Av=null;const Sv=(0,te.d)({bidderCode:Tv}),Cv={gvlid:28,code:Tv,supportedMediaTypes:[D.b,D.d],isBidRequestValid:function(e){return void 0!==e.params.inventoryCode},buildRequests:function(e,t){let i="https://tlx.3lift.com/header/auction?",a=function(e,t){let i={},{schain:a}=e[0];const r=function(e){const t={},i={},a={},r=e.ortb2||{},o=function(){const e=Sv.getDataFromLocalStorage("opecloud_ctx");if(!e)return null;try{return JSON.parse(e)}catch(e){return(0,n.gb)("Triplelift: error parsing JSON: ",e),null}}(),s=Object.assign({},r.site),d=Object.assign({},r.user);if(o){d.data=d.data||[];try{d.data.push({name:"www.1plusx.com",ext:o})}catch(e){(0,n.gb)("Triplelift: error adding 1plusX segments: ",e)}}return Ov(i,s),Ov(a,d),(0,n.Y)(i)||(t.context=i),(0,n.Y)(a)||(t.user=a),t}(t);i.imp=e.map((function(e,t){let i={id:t,tagid:e.params.inventoryCode,floor:Mv(e)};return Rv(e)&&(i.video=function(e){let t={...e.params.video,...e.mediaTypes.video};try{t.w||(t.w=t.playerSize[0][0]),t.h||(t.h=t.playerSize[0][1])}catch(e){(0,n.jb)("Video size not defined",e)}return t.playbackmethod&&Number.isInteger(t.playbackmethod)&&(t.playbackmethod=Array.from(String(t.playbackmethod),Number)),delete t.playerSize,t}(e)),e.mediaTypes.banner&&!kv(e)&&(i.banner={format:(a=e.sizes,a.filter(Uv).map((function(e){return{w:e[0],h:e[1]}})))}),(0,n.Y)(e.ortb2Imp)||(i.fpd=function(e){const t={},i={};return Ov(i,e.ext),(0,n.Y)(i)||(t.context=i),t}(e.ortb2Imp),(0,n.Y)(e.ortb2Imp.ext)||(i.ext={...e.ortb2Imp.ext})),i;var a}));let s=[];e[0].userIdAsEids&&(s=o.a(e[0],"userIdAsEids"),i.user={ext:{eids:s}});let d=function(e,t){let i={};return(0,n.Y)(e)||(i.schain={...e}),(0,n.Y)(t)||(i.fpd={...t}),i}(a,r);return(0,n.Y)(d)||(i.ext=d),t?.ortb2?.regs?.gpp&&(i.regs=Object.assign({},t.ortb2.regs)),t?.ortb2&&(i.ext.ortb2=Object.assign({},t.ortb2)),i}(e,t);return i=xv(i,"lib","prebid"),i=xv(i,"v","9.16.0"),t&&t.refererInfo&&(i=xv(i,"referrer",t.refererInfo.page)),t&&t.timeout&&(i=xv(i,"tmax",t.timeout)),t&&t.gdprConsent&&(Dv=void 0===t.gdprConsent.gdprApplies||t.gdprConsent.gdprApplies,i=xv(i,"gdpr",Dv.toString()),void 0!==t.gdprConsent.consentString&&(Av=t.gdprConsent.consentString,i=xv(i,"cmp_cs",Av))),t&&t.uspConsent&&(i=xv(i,"us_privacy",t.uspConsent)),t?.paapi?.enabled&&(i=xv(i,"fledge",t.paapi.enabled)),!0===v.config.getConfig("coppa")&&(i=xv(i,"coppa",!0)),i.lastIndexOf("&")===i.length-1&&(i=i.substring(0,i.length-1)),(0,n.ib)("tlCall request built: "+i),{method:"POST",url:i,data:a,bidderRequest:t}},interpretResponse:function(e,{bidderRequest:t}){let i=e.body.bids||[];const a=e.body.paapi||[];if(i=i.map((e=>function(e,t){let i={},a=t.width||1,n=t.height||1,r=t.deal_id||"",o=t.crid||"",s=e.bids[t.imp_id];return 0!=t.cpm&&t.ad&&(i={requestId:s.bidId,cpm:t.cpm,width:a,height:n,netRevenue:!0,ad:t.ad,creativeId:o,dealId:r,currency:"USD",ttl:300,tl_source:t.tl_source,meta:{}},Rv(s)&&"video"===t.media_type&&(i.vastXml=t.ad,i.mediaType="video",i.ttl=3600),t.advertiser_name&&(i.meta.advertiserName=t.advertiser_name),t.adomain&&t.adomain.length&&(i.meta.advertiserDomains=t.adomain),t.tl_source&&"hdx"==t.tl_source&&(Rv(s)&&"video"===t.media_type?i.meta.mediaType="video":i.meta.mediaType="banner"),t.tl_source&&"tlx"==t.tl_source&&(i.meta.mediaType="native"),o&&(i.meta.networkId=o.slice(0,o.indexOf("_")))),i}(t,e))),a.length>0){const e=a.map((e=>({bidId:t.bids[e.imp_id].bidId,config:e.auctionConfig})));return(0,n.ib)("Response with FLEDGE:",{bids:i,fledgeAuctionConfigs:e}),{bids:i,paapi:e}}return i},getUserSyncs:function(e,t,i,a,n){let r=function(e){if(e)return e.iframeEnabled?"iframe":e.pixelEnabled?"image":void 0}(e);if(!r)return;let o="https://eb2.3lift.com/sync?";return"image"===r&&(o=xv(o,"px",1),o=xv(o,"src","prebid")),(null!==Av||Dv)&&(o=xv(o,"gdpr",Dv),o=xv(o,"cmp_cs",Av)),a&&(o=xv(o,"us_privacy",a)),n&&(n.gppString&&(o=xv(o,"gpp",n.gppString)),n.applicableSections&&0!==n.applicableSections.length&&(o=xv(o,"gpp_sid",n.applicableSections.filter((e=>Number.isInteger(e))).join(",")))),[{type:r,url:o}]}};function Rv(e){return Ev(e)&&(kv(e)||function(e){return Ev(e)&&"outstream"===e.mediaTypes.video.context.toLowerCase()}(e))}function kv(e){return Ev(e)&&"instream"===e.mediaTypes.video.context.toLowerCase()}function Ev(e){return e.mediaTypes.video&&e.mediaTypes.video.context}function Mv(e){let t=null;if("function"==typeof e.getFloor)try{const i=e.getFloor({currency:"USD",mediaType:Rv(e)?"video":"banner",size:"*"});"object"!=typeof i||"USD"!==i.currency||isNaN(parseFloat(i.floor))||(t=parseFloat(i.floor))}catch(e){(0,n.gb)("Triplelift: getFloor threw an error: ",e)}return null!==t?t:e.params.floor}function Ov(e,t){(0,n.Y)(t)||Object.keys(t).forEach((i=>{null!=t[i]&&(e[i]=t[i])}))}function Uv(e){return 2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}(0,Ye.b)(Cv);const Bv=e=>(0,Tt.m)(e)&&((0,Tt.j)(e.forcedSize)||(0,Tt.p)(e.forcedSize))&&((0,Tt.j)(e.isVideo)||(0,Tt.e)(e.isVideo));function Pv(e){return e?`gdpr=${e.gdprApplies?"1":"0"}&gdprstr=${e.consentString?e.consentString:""}`:null}function Nv(e){let t=document.getElementById(e),i=-1,a=-1;if(t){i=t.offsetLeft,a=t.offsetTop;let e=t.offsetParent;return e&&(i+=e.offsetLeft,a+=e.offsetTop),[i,a]}return null}gt.a.add(ft.a.TripleLift,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){let n=Nl(a);Bv(i.formatterParams)&&i.formatterParams.forcedSize&&(n=[i.formatterParams.forcedSize]),Pl(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}if(a.nativeBanner||a.outstream){let n=[[1,1]];Bv(i.formatterParams)&&i.formatterParams.forcedSize&&(n=[i.formatterParams.forcedSize]),a.outstream&&Bv(i.formatterParams)&&i.formatterParams.isVideo?Ml(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream):Pl(e,t.placementId,n,[{bidder:i.bidder,params:i.params}],{displayFormat:a.nativeBanner?wa.a.nativeBanner:wa.a.outstream})}if(a.instream){const[n,r]=a.instream.playerSize;Ol(e,t.placementId,a.instream,[{bidder:i.bidder,params:{...i.params,video:{w:n,h:r,...i.params.video}}}])}})),gt.b.add(ft.a.TripleLift,Cv.gvlid);const jv={code:"undertone",gvlid:677,supportedMediaTypes:[D.b,D.d],isBidRequestValid:function(e){if(e&&e.params&&e.params.publisherId)return e.params.publisherId=parseInt(e.params.publisherId),!0},buildRequests:function(e,t){const i=Math.max(document.documentElement.clientWidth,window.innerWidth||0),a=Math.max(document.documentElement.clientHeight,window.innerHeight||0),r=0==i||0==a?null:[i,a],s={adapterVersion:"9.16.0",uids:e[0].userId,pageSize:r};e[0].schain&&(s.schain=e[0].schain);const d={"x-ut-hb-params":[],commons:s},l=t.refererInfo.topmostLocation,p=t.refererInfo.canonicalUrl;l&&(s.referrer=l),p&&(s.canonicalUrl=p);const c=(0,n.qb)(l).hostname;let m=(0,n.t)(c);const u=p||l;let b=`https://hb.undertone.com/hb?pid=${e[0].params.publisherId}&domain=${m}`,f=Pv(t.gdprConsent);return f&&(b+=`&${f}`),t.uspConsent&&(b+=`&ccpa=${t.uspConsent}`),t.gppConsent&&(b+=`&gpp=${t.gppConsent.gppString??""}&gpp_sid=${t.gppConsent.applicableSections??""}`),e.map((e=>{const t={bidRequestId:e.bidId,coordinates:Nv(e.adUnitCode),hbadaptor:"prebid",url:u,domain:m,placementId:null!=e.params.placementId?e.params.placementId:null,publisherId:e.params.publisherId,gpid:(0,o.a)(e,"ortb2Imp.ext.gpid",(0,o.a)(e,"ortb2Imp.ext.data.pbadslot","")),sizes:e.sizes,params:e.params},i=(0,o.a)(e,"mediaTypes.video"),a=i?D.d:D.b;t.mediaType=a,t.bidfloor=function(e,t){if("function"!=typeof e.getFloor)return 0;const i=e.getFloor({currency:"USD",mediaType:t,size:"*"});return i&&"USD"===i.currency&&i.floor||0}(e,a),i&&(t.video={playerSize:(0,o.a)(e,"mediaTypes.video.playerSize")||null,streamType:(0,o.a)(e,"mediaTypes.video.context")||null,playbackMethod:(0,o.a)(e,"params.video.playbackMethod")||null,maxDuration:(0,o.a)(e,"params.video.maxDuration")||null,skippable:(0,o.a)(e,"params.video.skippable")||null,placement:(0,o.a)(e,"mediaTypes.video.placement")||null,plcmt:(0,o.a)(e,"mediaTypes.video.plcmt")||null}),d["x-ut-hb-params"].push(t)})),{method:"POST",url:b,withCredentials:!0,data:JSON.stringify(d)}},interpretResponse:function(e){const t=[],i=e.body;return i&&Array.isArray(i)&&i.length>0&&i.forEach((e=>{if(e.ad&&e.cpm>0){const i={requestId:e.bidRequestId,cpm:e.cpm,width:e.width,height:e.height,creativeId:e.adId,currency:e.currency,netRevenue:e.netRevenue,ttl:e.ttl||360,meta:{advertiserDomains:e.adomain?e.adomain:[]}};e.mediaType&&"video"===e.mediaType?(i.vastXml=e.ad,i.mediaType=e.mediaType):i.ad=e.ad,t.push(i)}})),t},getUserSyncs:function(e,t,i,a){const n=[];let r=Pv(i),o="",s="";return r&&(o+=`?${r}`,s+=`&${r}`),a&&(o+=""!=o?"&":"?",o+=`ccpa=${a}`,s+=`&ccpa=${a}`),e.iframeEnabled?n.push({type:"iframe",url:"https://cdn.undertone.com/js/usersync.html"+o}):e.pixelEnabled&&n.push({type:"image",url:"https://usr.undertone.com/userPixel/syncOne?id=1&of=2"+s},{type:"image",url:"https://usr.undertone.com/userPixel/syncOne?id=2&of=2"+s}),n}};(0,Ye.b)(jv),gt.a.add(ft.a.undertone,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{a.outstream&&Ml(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream),a.banner&&Pl(e,t.placementId,a.banner.sizes,[{bidder:i.bidder,params:i.params}])})),gt.b.add(ft.a.undertone,jv.gvlid);const zv={code:"unruly",supportedMediaTypes:[D.d,D.b],gvlid:36,isBidRequestValid:function(e){let t=(0,o.a)(e,"params.siteId")&&(e=>{const t=(0,o.a)(e,"mediaTypes.video"),i=(0,o.a)(e,"mediaTypes.banner");let a=!(!t&&!i);return a&&t&&(a=(e=>!!e.context&&-1!==["outstream","instream"].indexOf(e.context))(t)),a&&i&&(a=(e=>e.sizes)(i)),a})(e);return!!t},buildRequests:function(e,t){let i="https://targeting.unrulymedia.com/unruly_prebid";return e[0]&&(i=(0,o.a)(e[0],"params.endpoint")||i),((e,t,i)=>{const{bids:a,bidderRequestId:n,bidderCode:r,...s}=i,d=i.bids.length-t.length;let l={};t.forEach((t=>{const i=t.params.siteId;(e=>{Object.keys(e.mediaTypes).forEach((t=>{let i;i="function"==typeof e.getFloor?e.getFloor({currency:"USD",mediaType:t,size:"*"}).floor||0:e.params.floor||0,e.mediaTypes[t].floor=i}))})(t),(e=>{let t=(0,o.a)(e,"mediaTypes.banner");if(t){let e={},i=[];t.sizes.forEach((t=>{e[t.toString()]||(e[t.toString()]=!0,i.push(t))})),t.sizes=i}})(t),((e,t)=>{!t&&e.ortb2Imp&&e.ortb2Imp.ext&&delete e.ortb2Imp.ext.ae})(t,e.protectedAudienceEnabled),l[i]=l[i]||[],l[i].push(t)}));let p=[];return Object.keys(l).forEach((t=>{let i={bidderRequest:Object.assign({},{bids:l[t],invalidBidsCount:d,prebidVersion:"9.16.0",...s})};p.push(Object.assign({},{data:i,...e}))})),p})({url:i,method:"POST",options:{contentType:"application/json"},protectedAudienceEnabled:t.paapi?.enabled},e,t)},interpretResponse:function(e){if(!e||!e.body||!e.body.auctionConfigs&&!e.body.bids)return[];const t=e.body;let i=[],a=null;if(t.bids.length&&(i=(e=>{let t=[];return e.forEach((e=>{let i,a=(0,o.a)(e,"meta.mediaType");if(a&&"banner"===a.toLowerCase())e.mediaType=D.b,i=(e=>{if(e.ad)return e;(0,n.gb)(new Error("UnrulyBidAdapter: Missing ad config."))})(e);else if(a&&"video"===a.toLowerCase()){let t=(0,o.a)(e,"meta.videoContext");e.mediaType=D.d,"instream"===t?i=(e=>{if(e.vastUrl||e.vastXml)return e;(0,n.gb)(new Error("UnrulyBidAdapter: Missing vastUrl or vastXml config."))})(e):"outstream"===t&&(i=(e=>{const t=!!(0,o.a)(e,"ext.renderer.config"),i=!!(0,o.a)(e,"ext.renderer.config.siteId");if(!t)return void(0,n.gb)(new Error("UnrulyBidAdapter: Missing renderer config."));if(!i)return void(0,n.gb)(new Error("UnrulyBidAdapter: Missing renderer siteId."));const a=(0,o.a)(e,"ext.renderer");!function(e,t){if(!e.config)throw new Error("UnrulyBidAdapter: Missing renderer config.");if(!e.config.siteId)throw new Error("UnrulyBidAdapter: Missing renderer siteId.");parent.window.unruly=parent.window.unruly||{},parent.window.unruly.native=parent.window.unruly.native||{},parent.window.unruly.native.siteId=parent.window.unruly.native.siteId||e.config.siteId,parent.window.unruly.native.adSlotId=t,parent.window.unruly.native.supplyMode="prebid"}(a,e.requestId),parent.window.unruly.native.prebid=parent.window.unruly.native.prebid||{},parent.window.unruly.native.prebid.uq=parent.window.unruly.native.prebid.uq||[];const r=zl.a.install(Object.assign({},a)),s=Object.assign({},e,{renderer:r,adUnitCode:(0,o.a)(e,"ext.adUnitCode")});return r.setRender((()=>{var e;e=s,parent.window.unruly.native.prebid.uq.push(["render",e])})),e.renderer=e.renderer||r,e})(e))}i&&t.push(i)})),t})(t.bids)),t.auctionConfigs){let e=t.auctionConfigs,i=Object.keys(e);i.length&&i.forEach((t=>{a=[{bidId:t,config:e[t]}]}))}return a?{bids:i,paapi:a}:i}};function qv(){try{return(0,n.qb)(window.top.document.URL,{decodeSearchAsString:!0}).search}catch(e){return""}}function $v(e){return e.cId||e.CID||e.cID||e.CId||e.cid||e.ciD||e.Cid||e.CiD}function Fv(e){return e.pId||e.PID||e.pID||e.PId||e.pid||e.piD||e.Pid||e.PiD}function Vv(e){return e.subDomain||e.SubDomain||e.Subdomain||e.subdomain||e.SUBDOMAIN||e.subDOMAIN}function Lv(e,t,i,a){try{const n=a||Date.now(),r=JSON.stringify({value:i,created:n});e.setDataInLocalStorage(t,r)}catch(e){}}function Gv(e,t){try{return function(e){try{return JSON.parse(e)}catch(t){return e}}(e.getDataFromLocalStorage(t,null))}catch(e){}return null}function Wv(e,t){let i=e.getDataFromLocalStorage(t,null);return i||(i=String(Date.now()),e.setDataInLocalStorage(t,i,null)),i}function Hv(e,t,i,a,r,s,d,l,p){const{params:c,bidId:m,userId:u,adUnitCode:b,schain:f,mediaTypes:g,ortb2Imp:y,bidderRequestId:h,bidRequestsCount:v,bidderRequestsCount:_,bidderWinsCount:I}=e,{ext:x}=c;let{bidFloor:T}=c;const D=function(e,t="_"){const i=e.length;let a=0,n=0;if(i>0)for(;n<i;)a=(a<<5)-a+e.charCodeAt(n++)|0;return t+a}(t),A=(0,n.Z)(p)?p(D,e):{},S=function(e,t,i=36e5){const a=`u_${t}`,n=Date.now(),r=Gv(e,a);let o;return!r||!r.value||n-r.created>i?(o=`${t}_${n.toString()}`,Lv(e,a,o)):o=r.value,o}(s,D),C=Fv(c),R=w.a.get(l,"storageAllowed"),k=(0,o.a)(e,"ortb2Imp.ext.gpid")||(0,o.a)(e,"ortb2Imp.ext.data.pbadslot",""),E=(0,o.a)(a,"ortb2.site.cat",[]),M=(0,o.a)(a,"ortb2.site.pagecat",[]),O=(0,o.a)(a,"ortb2.site.content.data",[]),U=(0,o.a)(a,"ortb2.user.data",[]),B=(0,o.a)(a,"ortb2.site.content.language")||document.documentElement.lang,P=(0,o.a)(a,"ortb2.regs.coppa",0);if((0,n.Z)(e.getFloor)){const t=e.getFloor({currency:"USD",mediaType:"*",size:"*"});"USD"===t.currency&&(T=t.floor)}let N={url:encodeURIComponent(t),uqs:qv(),cb:Date.now(),bidFloor:T,bidId:m,referrer:a.refererInfo.ref,adUnitCode:b,publisherId:C,sizes:i,uniqueDealId:S,bidderVersion:d,prebidVersion:"$prebid.version$",res:`${screen.width}x${screen.height}`,schain:f,mediaTypes:g,isStorageAllowed:R,gpid:k,cat:E,contentData:O,contentLang:B,coppa:P,userData:U,pagecat:M,transactionId:y?.ext?.tid,bidderRequestId:h,bidRequestsCount:v,bidderRequestsCount:_,bidderWinsCount:I,bidderTimeout:r,...A};!function(e,t){let i;(0,n.a)(t,((t,a)=>{switch(i=`uid.${a}`,a){case"lipb":e[i]=t.lipbid;break;case"id5id":e[i]=t.uid;break;default:e[i]=t}}))}(N,u);const j=(0,o.a)(a,"ortb2.device.sua");if(j&&(N.sua=j),a.gdprConsent&&(a.gdprConsent.consentString&&(N.gdprConsent=a.gdprConsent.consentString),void 0!==a.gdprConsent.gdprApplies&&(N.gdpr=a.gdprConsent.gdprApplies?1:0)),a.uspConsent&&(N.usPrivacy=a.uspConsent),a.gppConsent?(N.gppString=a.gppConsent.gppString,N.gppSid=a.gppConsent.applicableSections):a.ortb2?.regs?.gpp&&(N.gppString=a.ortb2.regs.gpp,N.gppSid=a.ortb2.regs.gpp_sid),a.paapi?.enabled){const e=(0,o.a)(a,"ortb2Imp.ext.ae");e&&(N.fledge=e)}if((0,o.a)(g,"video.api",[]).includes(7)){const e=(0,o.a)(a,"ortb2.source.ext");e?.omidpv&&(N.omidpv=e.omidpv),e?.omidpn&&(N.omidpn=e.omidpn)}const z=(0,o.a)(a,"ortb2.regs.ext.dsa");return z&&(N.dsa=z),(0,n.a)(x,((e,t)=>{N["ext."+t]=e})),N}(0,Ye.b)(zv),gt.a.add(ft.a.Unruly,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=Nl(a);Pl(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}a.outstream&&(t.rendering?.outstream?.hbvFormat?Ml(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream):El(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}])),a.instream&&Ol(e,t.placementId,a.instream,[{bidder:i.bidder,params:i.params}])})),gt.b.add(ft.a.Unruly,zv.gvlid);const Xv="vidazoo",Yv="1.0.0",Jv=(0,te.d)({bidderCode:Xv}),Kv="wsid_"+parseInt(Date.now()*Math.random()),Zv=function(e,t,i,a,r){function o(n,o,s,d,l){const{params:p}=n,c=$v(p),m=Vv(p),u=Hv(n,o,s,d,l,i,r,a,t);return{method:"POST",url:`${e(m)}/prebid/multi/${c}`,data:u}}return function(s,d){const l=d.refererInfo.page||d.refererInfo.topmostLocation,p=d.timeout||v.config.getConfig("bidderTimeout"),c=v.config.getConfig(`${a}.singleRequest`),m=[];if(c){const c=s.filter((e=>(0,n.V)(e.mediaTypes)?e.mediaTypes.includes(D.b):void 0!==e.mediaTypes[D.b]));if(c.length>0){const o=function(o,s,d,l){const{params:p}=o[0],c=$v(p),m=Vv(p);return Sc(o.map((e=>{const o=(0,n.pb)(e.sizes);return Hv(e,d,o,s,l,i,r,a,t)})),Math.min(20,v.config.getConfig(`${a}.chunkSize`)||10)).map((t=>({method:"POST",url:`${e(m)}/prebid/multi/${c}`,data:{bids:t}})))}(c,d,l,p);m.push(...o)}s.filter((e=>void 0!==e.mediaTypes[D.d])).forEach((e=>{const t=(0,n.pb)(e.sizes),i=o(e,l,t,d,p);m.push(i)}))}else s.forEach((e=>{const t=(0,n.pb)(e.sizes),i=o(e,l,t,d,p);m.push(i)}));return m}}((function(e="prebid"){return`https://${e}.cootlogix.com`}),(function(e){const t=function(e,t,i=9e5){try{const a=Gv(e,t);let n,r=0;a&&a.value&&Date.now()-a.created<i&&(r=a.value,n=a.created);const o=r+1;return Lv(e,t,o,n),o}catch(e){return 0}}(Jv,e),i=function(e){return Gv(e,"vidSid")||""}(Jv);return{dealId:t,sessionId:i,ptrace:Wv(Jv,"vdzwopt"),vdzhum:Wv(Jv,"vdzHum"),webSessionId:Kv}}),Jv,Xv,Yv),Qv=function(e){return function(t,i){if(!t||!t.body)return[];const a=v.config.getConfig(`${e}.singleRequest`),n=(0,o.a)(i,"data.bidId"),{results:r}=t.body;let s=[];try{return r.forEach((e=>{const{creativeId:t,ad:i,price:r,exp:o,width:d,height:l,currency:p,bidId:c,nurl:m,advertiserDomains:u,metaData:b,mediaType:f=D.b}=e;if(!i||!r)return;const g={requestId:a&&c?c:n,cpm:r,width:d,height:l,creativeId:t,currency:p||"USD",netRevenue:!0,ttl:o||300};m&&(g.nurl=m),b?Object.assign(g,{meta:b}):Object.assign(g,{meta:{advertiserDomains:u||[]}}),f===D.b?Object.assign(g,{ad:i}):Object.assign(g,{vastXml:i,mediaType:D.d}),s.push(g)})),s}catch(e){return[]}}}(Xv),e_=function(e={iframeSyncUrl:"",imageSyncUrl:""}){return function(t,i,a={},r="",s={}){const d=[],{iframeEnabled:l,pixelEnabled:p}=t,{gdprApplies:c,consentString:m=""}=a,{gppString:u,applicableSections:b}=s,f=i.filter((e=>(0,o.a)(e,"body.cid"))).map((e=>e.body.cid)).filter(n.Gb);let g=`?cid=${encodeURIComponent(f.join(","))}&gdpr=${c?1:0}&gdpr_consent=${encodeURIComponent(m||"")}&us_privacy=${encodeURIComponent(r||"")}`;return u&&b?.length&&(g+="&gpp="+encodeURIComponent(u),g+="&gpp_sid="+encodeURIComponent(b.join(","))),l&&e.iframeSyncUrl&&d.push({type:"iframe",url:`${e.iframeSyncUrl}/${g}`}),p&&e.imageSyncUrl&&d.push({type:"image",url:`${e.imageSyncUrl}/${g}`}),d}}({iframeSyncUrl:"https://sync.cootlogix.com/api/sync/iframe",imageSyncUrl:"https://sync.cootlogix.com/api/sync/image"}),t_={code:Xv,version:Yv,gvlid:744,supportedMediaTypes:[D.b,D.d],isBidRequestValid:function(e){const t=e.params||{};return!(!$v(t)||!Fv(t))},buildRequests:Zv,interpretResponse:Qv,getUserSyncs:e_,onBidWon:function(e){if(!e.nurl)return;const t={adId:e.adId,creativeId:e.creativeId,auctionId:e.auctionId,transactionId:e.transactionId,adUnitCode:e.adUnitCode,cpm:e.cpm,currency:e.currency,originalCpm:e.originalCpm,originalCurrency:e.originalCurrency,netRevenue:e.netRevenue,mediaType:e.mediaType,timeToRespond:e.timeToRespond,status:e.status},i=(0,n.v)(t),a=e.nurl+(-1===e.nurl.indexOf("?")?"?":"&")+i;(0,n.Fb)(a)}};(0,Ye.b)(t_),gt.a.add(ft.a.vidazoo,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.instream&&Ol(e,t.placementId,a.instream,[{bidder:i.bidder,params:i.params}]),a.banner){const n=Nl(a),r={...i.params,video:void 0};Pl(e,t.placementId,n,[{bidder:i.bidder,params:r}])}a.outstream&&Ml(e,t.placementId,{...a.outstream,openRtbParams:{playbackmethod:[2]}},[{bidder:i.bidder,params:i.params}],t.rendering?.outstream)})),gt.b.add(ft.a.vidazoo,t_.gvlid);const i_="https://ad.yieldlab.net",a_="EUR",n_={code:"yieldlab",gvlid:70,supportedMediaTypes:[D.d,D.b,D.c],isBidRequestValid:e=>!!(e&&e.params&&e.params.adslotId&&e.params.supplyId),buildRequests(e,t){e=(0,s.b)(e);const i=[],a=[],r=[],d={ts:Date.now(),json:!0};if((0,n.a)(e,(function(e){i.push(e.params.adslotId);const t=function(e){const{mediaTypes:t}=e,i=[];if((0,n.bb)(t)){const{[D.b]:e}=t;e&&(0,n.V)(e.sizes)&&((0,n.V)(e.sizes[0])?i.push(e.sizes):i.push([e.sizes]))}else(0,n.V)(e.sizes)&&((0,n.V)(e.sizes[0])?i.push(e.sizes):i.push([e.sizes]));const a=new Set(i.flat().map((([e,t])=>e+"x"+t)));return Array.from(a)}(e);if(t.length>0&&a.push(e.params.adslotId+":"+t.join("|")),e.params.extId&&(d.id=e.params.extId),e.params.targeting&&(d.t=function(e){const t=[];for(const i in e)if(e.hasOwnProperty(i)){const a=i,n=e[i];t.push(a+"="+n)}return t.join("&")}(e.params.targeting)),e.userIdAsEids&&Array.isArray(e.userIdAsEids)&&(d.ids=function(e){const t=[];for(let i=0;i<e.length;i++)t.push(e[i].source+":"+e[i].uids[0].id);return t.join(",")}(e.userIdAsEids),d.atypes=function(e){const t=[];for(let i=0;i<e.length;i++)e[i].uids[0].atype&&t.push(e[i].source+":"+e[i].uids[0].atype);return t.join(",")}(e.userIdAsEids)),e.params.customParams&&(0,n.bb)(e.params.customParams))for(const t in e.params.customParams)d[t]=e.params.customParams[t];e.schain&&(0,n.bb)(e.schain)&&Array.isArray(e.schain.nodes)&&(d.schain=function(e){const t=e.ver||"",i=1===e.complete||0===e.complete?e.complete:"",a=["asi","sid","hp","rid","name","domain","ext"];return`${t},${i}${e.nodes.reduce(((e,t)=>e+`!${a.map((e=>{return t[e]?(i=t[e],encodeURIComponent(i).replace(/!/g,"%21")):"";var i})).join(",")}`),"")}`}(e.schain));const s=function(e){if(e.params.iabContent&&(0,n.bb)(e.params.iabContent))return e.params.iabContent;const t=(0,o.a)(e,"ortb2.site")?(0,o.a)(e,"ortb2.site.content"):(0,o.a)(e,"ortb2.app.content");return t&&(0,n.bb)(t)?t:void 0}(e);s&&(d.iab_content=function(e){const t=["keywords","cat"],i=[],a=(e={},n="")=>{for(const r in e)-1!==t.indexOf(r)&&Array.isArray(e[r])?i.push("".concat(r,":",e[r].map((e=>encodeURIComponent(e))).join("|"))):"object"!=typeof e[r]?i.push("".concat(n+r,":",encodeURIComponent(e[r]))):a(e[r],"".concat(n,r,"."));return i.join(",")};return encodeURIComponent(a(e))}(s));const l=function(e,t){if(!(0,n.Z)(e.getFloor))return;const i=(0,o.a)(e,"mediaTypes"),a=void 0!==i?Object.keys(i)[0].toLowerCase():void 0,r=e.getFloor({currency:a_,mediaType:void 0!==a&&n_.supportedMediaTypes.includes(a)?a:"*",size:1!==t.length?"*":t[0].split("x")});return r.currency===a_?(100*r.floor).toFixed(0):void 0}(e,t);l&&r.push(e.params.adslotId+":"+l)})),t){if(t.refererInfo&&t.refererInfo.page&&(d.pubref=t.refererInfo.page),t.gdprConsent&&(d.gdpr="boolean"!=typeof t.gdprConsent.gdprApplies||t.gdprConsent.gdprApplies,d.gdpr&&(d.consent=t.gdprConsent.consentString)),void 0!==t.ortb2?.regs?.ext?.dsa){const e=t.ortb2.regs.ext.dsa;if(l_(d,"dsarequired",e.dsarequired),l_(d,"dsapubrender",e.pubrender),l_(d,"dsadatatopub",e.datatopub),Array.isArray(e.transparency)){const t=e.transparency.filter((({domain:e,dsaparams:t})=>e&&!e.includes("~")&&Array.isArray(t)&&t.length>0&&t.every((e=>"number"==typeof e))));if(1===t.length){const{domain:e,dsaparams:i}=t[0];l_(d,"dsadomain",e),l_(d,"dsaparams",i.join(","))}else if(t.length>1){const e=t.map((({domain:e,dsaparams:t})=>`${e}~${t.join("_")}`)).join("~~");e&&(d.dsatransparency=e)}}}const e=function(e){const t=((0,o.a)(e,"ortb2.user.data")||[]).filter((e=>e.segment&&(0,n.V)(e.segment)&&e.segment.length>0&&e.segment.every((e=>e.id&&!(0,n.X)(e.id)&&isFinite(e.id)))))[0];if(t)return{segtax:t.ext?.segtax,segclass:t.ext?.segclass,segments:t.segment.map((e=>Number(e.id))).join(",")}}(t);e&&(l_(d,"segtax",e.segtax),l_(d,"segclass",e.segclass),l_(d,"segments",e.segments))}const l=i.join(",");a.length>0&&(d.sizes=a.join(",")),r.length>0&&(d.floor=r.join(","));const p=function(e){const t=[];for(const i in e)if(e.hasOwnProperty(i)){const a=e[i];"schain"!==i&&"iab_content"!==i?t.push(encodeURIComponent(i)+"="+encodeURIComponent(a)):t.push(i+"="+a)}return t.join("&")}(d);return{method:"GET",url:`${i_}/yp/${l}?${p}`,validBidRequests:e,queryParams:d}},interpretResponse(e,t){const i=[],a=Date.now(),r=t.queryParams;return t.validBidRequests.forEach((function(t){if(!e.body)return;const s=(0,l.b)(e.body,(function(e){return t.params.adslotId==e.id}));if(s){const e=2!==t.sizes.length||(0,n.V)(t.sizes[0])?t.sizes[0]:t.sizes,c=void 0!==t.params.adSize?r_(t.params.adSize):void 0!==s.adsize?r_(s.adsize):e,m=void 0!==t.params.extId?"&id="+t.params.extId:"",u=void 0!==s.adtype?s.adtype:"",b=r.gdpr?"&gdpr="+r.gdpr:"",f=r.consent?"&consent="+r.consent:"",g=void 0!==s.pvid?"&pvid="+s.pvid:"",y=r.iab_content?"&iab_content="+r.iab_content:"",h={requestId:t.bidId,cpm:s.price/100,width:c[0],height:c[1],creativeId:""+s.id,dealId:s["c.dealid"]?s["c.dealid"]:s.pid,currency:a_,netRevenue:!1,ttl:300,referrer:"",ad:`<script src="${i_}/d/${s.id}/${t.params.supplyId}/?ts=${a}${m}${b}${f}${g}${y}"><\/script>`,meta:{advertiserDomains:[s.advertiser?s.advertiser:"n/a"]}},v=function(e){if(e.dsa){const{behalf:t,paid:i,transparency:a,adrender:n}=e.dsa;return{...void 0!==t&&{behalf:t},...void 0!==i&&{paid:i},...void 0!==a&&{transparency:a},...void 0!==n&&{adrender:n}}}}(s);if(void 0!==v&&(h.meta={...h.meta,dsa:v}),d=t,p=u,(0,o.a)(d,"mediaTypes.video")&&"video"===p.toLowerCase()){const e=function(e){const t=(0,o.a)(e,"mediaTypes.video.playerSize");return t&&(0,n.V)(t[0])?t[0]:t}(t);if(e&&(h.width=e[0],h.height=e[1]),h.mediaType=D.d,h.vastUrl=`${i_}/d/${s.id}/${t.params.supplyId}/?ts=${a}${m}${b}${f}${g}${y}`,function(e){return"outstream"===(0,o.a)(e,"mediaTypes.video.context")}(t)){const e=zl.a.install({id:t.bidId,url:"https://ad.adition.com/dynamic.ad?a=o193092&ma_loadEvent=ma-start-event",loaded:!1});e.setRender(o_),h.renderer=e}}if(function(e,t){return(0,o.a)(e,"mediaTypes.native")&&"native"===t.toLowerCase()}(t,u)){const{native:e}=s,{assets:i}=e;h.adUrl=`${i_}/d/${s.id}/${t.params.supplyId}/?ts=${a}${m}${b}${f}${g}`,h.mediaType=D.c;const n=(0,l.b)(i,d_(1)),r=(0,l.b)(i,d_(3)),o=r?r.img:{url:"",w:0,h:0},d=(0,l.b)(i,(e=>s_(e,"title"))),p=(0,l.b)(i,(e=>s_(e,"data")));h.native={title:d?d.title.text:"",body:p?p.data.value:"",...n?.img&&{icon:{url:n.img.url,width:n.img.w,height:n.img.h}},image:{url:o.url,width:o.w,height:o.h},clickUrl:e.link.url,impressionTrackers:e.imptrackers,assets:i}}i.push(h)}var d,p})),i},getUserSyncs(e,t,i,a){const r=[];if(e.iframeEnabled){const e=[];e.push(`ts=${(0,n.Db)()}`),e.push("type=h"),i&&"boolean"==typeof i.gdprApplies&&e.push(`gdpr=${Number(i.gdprApplies)}`),i&&"string"==typeof i.consentString&&e.push(`gdpr_consent=${i.consentString}`),r.push({type:"iframe",url:`${i_}/d/6846326/766/2x2?${e.join("&")}`})}return r}};function r_(e){return e.split("x").map(Number)}function o_(e){e.renderer.push((()=>{window.ma_width=e.width,window.ma_height=e.height,window.ma_vastUrl=e.vastUrl,window.ma_container=e.adUnitCode,window.document.dispatchEvent(new Event("ma-start-event"))}))}function s_(e,t){return e.hasOwnProperty(t)&&null!=e[t]}function d_(e){return t=>t?.img?.type===e}function l_(e,t,i){void 0!==i&&(e[t]=i)}(0,Ye.b)(n_),gt.a.add(ft.a.yieldlab,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=Nl(a);Pl(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}a.native&&Ul(e,t.placementId,[{bidder:i.bidder,params:i.params}],a.native),a.outstream&&El(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}]),a.instream&&Ol(e,t.placementId,a.instream,[{bidder:i.bidder,params:i.params}])})),gt.b.add(ft.a.yieldlab,n_.gvlid);const p_=(0,yo.a)({value:!0,weight:99},{value:!1,weight:1}),c_=()=>(0,Tt.i)(bt.readConfig("coppa")),m_=()=>!!bt.readConfig("coppa"),u_=(0,_t.a)("enable-3rd-mpu")?1:0,b_={...ft.a,media152_xandr:"152media-xandr",Azerion_ImproveDigital:"azerion-improveDigital",Dailymotion_33across:"dailymotion-33across",Dailymotion_Adagio:"dailymotion-adagio",Dailymotion_Amazon:"dailymotion-amazon",Dailymotion_Amx:"dailymotion-amx",Dailymotion_Criteo:"dailymotion-criteo",Dailymotion_Criteo_Native:"dailymotion-criteo Native",Dailymotion_Discovery:"dailymotion-discovery",Dailymotion_Freewheel:"dailymotion-freewheel",Dailymotion_Gumgum:"dailymotion-gumgum",Dailymotion_IndexExchange:"dailymotion-indexExchange",Dailymotion_Invibes:"dailymotion-invibes",Dailymotion_Iqzone:"dailymotion-iqzone",Dailymotion_Magnite:"dailymotion-magnite",Dailymotion_Medianet:"dailymotion-medianet",Dailymotion_Mediasquare:"dailymotion-mediasquare",Dailymotion_OneTag:"dailymotion-oneTag",Dailymotion_OpenX:"dailymotion-openX",Dailymotion_Outbrain_Native:"dailymotion-outbrain Native",Dailymotion_Pubmatic:"dailymotion-pubmatic",Dailymotion_RhythmOne:"dailymotion-rhythmOne",Dailymotion_Sharethrough:"dailymotion-sharethrough",Dailymotion_Smart:"dailymotion-smart",Dailymotion_Sovrn:"dailymotion-sovrn",Dailymotion_Teads:"dailymotion-teads",Dailymotion_TripleLift_Native:"dailymotion-triplelift Native",Dailymotion_TripleLift_Outstream:"dailymotion-triplelift Outstream",Dailymotion_TTD:"dailymotion-ttd",Dailymotion_Xandr:"dailymotion-xandr",Dailymotion_Prisma:"dailymotion-prisma",Dailymotion_Choueiri_Magnite:"dailymotion-choueiri-magnite",Dailymotion_Choueiri_Equativ:"dailymotion-choueiri-equativ",Dailymotion_RTBhouse:"dailymotion-rtbhouse",Dailymotion_MinuteMedia:"dailymotion-minutemedia",Dailymotion_NextMillennium:"dailymotion-nextMillennium",Dailymotion_Adform:"dailymotion-adform",Dailymotion_PubVentures:"dailymotion-pubventures",Dailymotion_Seedtag:"dailymotion-seedtag",Dailymotion_Nexx360:"dailymotion-nexx360",Dailymotion_Vidazoo:"dailymotion-vidazoo",Dailymotion_Yieldlab:"dailymotion-yieldlab",Dailymotion_NoBid_Banner:"dailymotion-nobid Banner",Dailymotion_NoBid_Video:"dailymotion-nobid Video",Dailymotion_Qortex:"dailymotion-qortex",Dailymotion_Audienzz:"dailymotion-audienzz",Dailymotion_TripleLift_Instream:"dailymotion-triplelift Instream",Dailymotion_OnCoreDigital:"dailymotion-OnCoreDigital",Dailymotion_Eskimi:"dailymotion-eskimi",Dailymotion_Xapads:"dailymotion-xapads",Dailymotion_Insticator:"dailymotion-insticator",Dailymotion_Undertone:"dailymotion-undertone",Dailymotion_Rise:"dailymotion-rise"},f_={ppid:[]},g_=()=>f_.ppid,y_=()=>{const e=bt.readConfig();return"coppa"in e?c_()?"on - "+(e.coppa?"1":"0"):"on - ?":"off"},h_=(e,t)=>{const i=window.__GKS__?.NEON_HEADER_BIDDING_VIDEO?"1":"0",a=e.auctionId,n={hbv_aid:a,hbv_instream:i,hbAuId:a,hbDebug:t.hbv_debug,hbIns:i,hbUplift:t.hbv_uplift,hbv_abtest_coppa:y_(),hbv_abtest_mnwp:window.__GKS__?.NEON_NEW_WATCHING_PAGE_MOBILE?"1":"0",hbv_abtest_ppid:g_()?"1":"0"};if(e.content.some((e=>e.bidResponse.providerId===ca.a))&&(n.hbBid=t.hbv_instream_bidder,n.hbCaId=t.hbv_instream_cacheid,n.hbPr=t.hbv_instream_pb),e.content.some((e=>e.bidResponse.bidder===b_.Dailymotion_Amazon))&&(n.hbAmznIid=t.amzniid,n.hbAmznP=t.amznp,n.hbAmznSz=t.amznsz,n.hbAmznBid=t.amznbid,n.hbAmznActt=t.amznactt),"visibility"===e.config.refreshReason&&e.placement.placementId.endsWith("mpu_3"))try{1===u_&&(n.hbv_abtest_mpu_v=(e=>{if(0===u_)return"control_visible";const t=window.googletag?.pubads().getSlots().find((t=>t.getSlotElementId()===e));return"true"===t?.getTargeting("hbv_visible_placement_abtest")[0]?"experiment_visible":"experiment_not_visible"})(e.placement.placementId))}catch{}return n},v_={[b_.media152_xandr]:b_.AppNexus,[b_.Azerion_ImproveDigital]:b_.ImproveDigital,[b_.Dailymotion_33across]:b_["33across"],[b_.Dailymotion_Adagio]:b_.Adagio,[b_.Dailymotion_Amazon]:b_.amazon,[b_.Dailymotion_Amx]:b_.amx,[b_.Dailymotion_Criteo]:b_.Criteo,[b_.Dailymotion_Criteo_Native]:b_.Criteo,[b_.Dailymotion_Discovery]:b_.AppNexus,[b_.Dailymotion_Freewheel]:b_.Freewheel,[b_.Dailymotion_Gumgum]:b_.gumgum,[b_.Dailymotion_IndexExchange]:b_.IndexExchange,[b_.Dailymotion_Invibes]:b_.Invibes,[b_.Dailymotion_Iqzone]:b_.iqzone,[b_.Dailymotion_Magnite]:b_.Rubicon,[b_.Dailymotion_Medianet]:b_.medianet,[b_.Dailymotion_Mediasquare]:b_.mediasquare,[b_.Dailymotion_OneTag]:b_.onetag,[b_.Dailymotion_OpenX]:b_.OpenX,[b_.Dailymotion_Outbrain_Native]:b_.outbrain,[b_.Dailymotion_Pubmatic]:b_.pubmatic,[b_.Dailymotion_RhythmOne]:b_.Unruly,[b_.Dailymotion_Sharethrough]:b_.sharethrough,[b_.Dailymotion_Smart]:b_.Smart,[b_.Dailymotion_Sovrn]:b_.sovrn,[b_.Dailymotion_Teads]:b_.Teads,[b_.Dailymotion_TripleLift_Native]:b_.TripleLift,[b_.Dailymotion_TripleLift_Outstream]:b_.TripleLift,[b_.Dailymotion_TTD]:b_.ttdDirectPath,[b_.Dailymotion_Xandr]:b_.AppNexus,[b_.Dailymotion_Prisma]:b_.prisma,[b_.Dailymotion_Choueiri_Magnite]:b_.Rubicon,[b_.Dailymotion_Choueiri_Equativ]:b_.Smart,[b_.Dailymotion_RTBhouse]:b_.rtbhouse,[b_.Dailymotion_MinuteMedia]:b_.minuteMedia,[b_.Dailymotion_NextMillennium]:b_.nextMillennium,[b_.Dailymotion_Adform]:b_.Adform,[b_.Dailymotion_PubVentures]:b_.AppNexus,[b_.Dailymotion_Seedtag]:b_.seedtag,[b_.Dailymotion_Nexx360]:b_.nexx360,[b_.Dailymotion_Vidazoo]:b_.vidazoo,[b_.Dailymotion_Yieldlab]:b_.yieldlab,[b_.Dailymotion_NoBid_Banner]:b_.noBid,[b_.Dailymotion_NoBid_Video]:b_.noBid,[b_.Dailymotion_Qortex]:b_.adkernel,[b_.Dailymotion_Audienzz]:b_.AppNexus,[b_.Dailymotion_TripleLift_Instream]:b_.TripleLift,[b_.Dailymotion_OnCoreDigital]:b_.mediafuse,[b_.Dailymotion_Eskimi]:b_.eskimi,[b_.Dailymotion_Xapads]:b_.adkernel,[b_.Dailymotion_Insticator]:b_.insticator,[b_.Dailymotion_Undertone]:b_.undertone,[b_.Dailymotion_Rise]:b_.rise},__=(e,t)=>{if(e.bidResponse.bidder===b_.Dailymotion_Amazon&&t.bidResponse.bidder===b_.Dailymotion_Amazon){if("video"===e.bidResponse.mediaType&&"video"!==t.bidResponse.mediaType)return 1;if("video"!==e.bidResponse.mediaType&&"video"===t.bidResponse.mediaType)return-1}},I_=e=>{const t=Dt.currentValue?.geo?.country?.iso;if(e.mediaType===ua&&e.bidder===b_.Dailymotion_Smart&&("QA"===t||"KW"===t))return.5},w_=(0,Va.a)();let x_=(0,Va.a)();x_.resolve();const T_=(e,t,i)=>{const a=document.createDocumentFragment();for(const e of t){if((0,Tt.j)(e)||""===e)continue;if((0,Tt.q)(e)||(0,Tt.l)(e)||(0,Tt.e)(e)){a.append(document.createTextNode(`${e}`));continue}if((0,Tt.c)(e)){T_(a,e,i);continue}if(e instanceof Element){a.append(e);continue}const t=D_(e,i);t&&a.append(t)}e.appendChild(a)},D_=(e,t)=>{if((0,Tt.q)(e.type)){"svg"===e.type.toLowerCase()&&(t={...t,ns:"http://www.w3.org/2000/svg"});const{children:i,...a}=e.props,n=((e,t)=>t.ns?document.createElementNS(t.ns,e):document.createElement(e))(e.type,t);return((e,t)=>{for(const[i,a]of Object.entries(t))e.setAttribute("className"===i?"class":i,a)})(n,a),T_(n,i,t),n}{const i=e.type(e.props);return D_(i,t)}},A_=(e,t,...i)=>({type:e,props:{...t,children:i}}),S_=(0,ct.a)((()=>{(0,$a.a)("hbv-native",'.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation{background:#fff;border:1px solid #ddd;box-sizing:border-box;display:grid;font-family:Roboto,sans-serif;font-size:12px;grid-template-areas:"m" "c" "a";grid-template-columns:1fr;grid-template-rows:min-content 44px auto;height:248px;position:relative;width:300px}.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 a:active,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 a:hover,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 a:link,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 a:visited,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 a:active,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 a:hover,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 a:link,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 a:visited,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 a:active,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 a:hover,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 a:link,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 a:visited,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation a:active,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation a:hover,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation a:link,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation a:visited,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation a:active,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation a:hover,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation a:link,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation a:visited,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 a:active,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 a:hover,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 a:link,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 a:visited,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 a:active,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 a:hover,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 a:link,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 a:visited,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 a:active,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 a:hover,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 a:link,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 a:visited,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation a:active,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation a:hover,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation a:link,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation a:visited{border-bottom:0;-webkit-text-decoration:none;text-decoration:none}.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 .hbv-media,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 .hbv-media,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 .hbv-media,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation .hbv-media,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation .hbv-media,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 .hbv-media,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 .hbv-media,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 .hbv-media,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation .hbv-media{grid-area:m;width:100%}.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 .hbv-media a,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 .hbv-media a,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 .hbv-media a,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation .hbv-media a,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation .hbv-media a,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 .hbv-media a,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 .hbv-media a,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 .hbv-media a,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation .hbv-media a{align-content:center;display:flex;justify-content:center}.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 .hbv-media img,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 .hbv-media img,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 .hbv-media img,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation .hbv-media img,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation .hbv-media img,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 .hbv-media img,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 .hbv-media img,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 .hbv-media img,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation .hbv-media img{aspect-ratio:1.91;display:block;height:100%;-o-object-fit:cover;object-fit:cover;width:100%}.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 .hbv-ad,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 .hbv-ad,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 .hbv-ad,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation .hbv-ad,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation .hbv-ad,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 .hbv-ad,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 .hbv-ad,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 .hbv-ad,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation .hbv-ad{align-items:center;align-self:start;background-color:#f4b400;border-radius:2px;box-shadow:0 1px 2px rgba(0,0,0,.5);color:#212121;display:flex;font-size:13px;grid-area:m;justify-self:left;margin:4px 0 0 4px;padding:0 3px;place-self:start left}.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 .hbv-title,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 .hbv-title,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 .hbv-title,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation .hbv-title,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation .hbv-title,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 .hbv-title,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 .hbv-title,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 .hbv-title,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation .hbv-title{font-size:12px;grid-area:c;height:43px;overflow:hidden;padding:4px 8px;text-overflow:ellipsis;white-space:normal;-webkit-line-clamp:3;-webkit-box-orient:vertical;border-bottom:1px solid #ddd;display:-webkit-box}.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 .hbv-title a,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 .hbv-title a,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 .hbv-title a,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation .hbv-title a,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation .hbv-title a,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 .hbv-title a,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 .hbv-title a,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 .hbv-title a,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation .hbv-title a{color:#212121;font-weight:400}.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 .hbv-sponsor,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 .hbv-sponsor,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 .hbv-sponsor,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation .hbv-sponsor,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation .hbv-sponsor,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 .hbv-sponsor,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 .hbv-sponsor,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 .hbv-sponsor,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation .hbv-sponsor{align-items:center;align-self:end;display:flex;flex-direction:row;grid-area:a;height:100%;justify-self:left;padding:8px;place-self:end left;width:100%}.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 .hbv-sponsor .hbv-sponsor-advertiser,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 .hbv-sponsor .hbv-sponsor-advertiser,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 .hbv-sponsor .hbv-sponsor-advertiser,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation .hbv-sponsor .hbv-sponsor-advertiser,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation .hbv-sponsor .hbv-sponsor-advertiser,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 .hbv-sponsor .hbv-sponsor-advertiser,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 .hbv-sponsor .hbv-sponsor-advertiser,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 .hbv-sponsor .hbv-sponsor-advertiser,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation .hbv-sponsor .hbv-sponsor-advertiser{color:#777;-webkit-text-decoration:none;text-decoration:none}.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 .hbv-sponsor .hbv-sponsor-cta,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 .hbv-sponsor .hbv-sponsor-cta,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 .hbv-sponsor .hbv-sponsor-cta,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation .hbv-sponsor .hbv-sponsor-cta,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation .hbv-sponsor .hbv-sponsor-cta,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 .hbv-sponsor .hbv-sponsor-cta,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 .hbv-sponsor .hbv-sponsor-cta,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 .hbv-sponsor .hbv-sponsor-cta,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation .hbv-sponsor .hbv-sponsor-cta{margin-left:auto}.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 .hbv-sponsor .hbv-sponsor-cta-link,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 .hbv-sponsor .hbv-sponsor-cta-link,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 .hbv-sponsor .hbv-sponsor-cta-link,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation .hbv-sponsor .hbv-sponsor-cta-link,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation .hbv-sponsor .hbv-sponsor-cta-link,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 .hbv-sponsor .hbv-sponsor-cta-link,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 .hbv-sponsor .hbv-sponsor-cta-link,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 .hbv-sponsor .hbv-sponsor-cta-link,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation .hbv-sponsor .hbv-sponsor-cta-link{color:#4285f4;font-size:14px;font-weight:500;-webkit-text-decoration:none;text-decoration:none}.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 .hbv-sponsor .hbv-sponsor-logo,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 .hbv-sponsor .hbv-sponsor-logo,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 .hbv-sponsor .hbv-sponsor-logo,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation .hbv-sponsor .hbv-sponsor-logo,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation .hbv-sponsor .hbv-sponsor-logo,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 .hbv-sponsor .hbv-sponsor-logo,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 .hbv-sponsor .hbv-sponsor-logo,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 .hbv-sponsor .hbv-sponsor-logo,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation .hbv-sponsor .hbv-sponsor-logo{margin-right:8px;width:22px}.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 .hbv-sponsor .hbv-sponsor-logo img,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 .hbv-sponsor .hbv-sponsor-logo img,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 .hbv-sponsor .hbv-sponsor-logo img,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation .hbv-sponsor .hbv-sponsor-logo img,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation .hbv-sponsor .hbv-sponsor-logo img,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 .hbv-sponsor .hbv-sponsor-logo img,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 .hbv-sponsor .hbv-sponsor-logo img,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 .hbv-sponsor .hbv-sponsor-logo img,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation .hbv-sponsor .hbv-sponsor-logo img{height:100%;width:100%}.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 .hbv-pixel,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 .hbv-pixel,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 .hbv-pixel,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation .hbv-pixel,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation .hbv-pixel,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 .hbv-pixel,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 .hbv-pixel,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 .hbv-pixel,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation .hbv-pixel{position:absolute}.display_ads_tablet_320x50_atf_below_video_description,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player{background:#fff;border:1px solid #ddd;box-sizing:border-box;display:grid;font-family:Roboto,sans-serif;font-size:12px;grid-template-areas:"m c" "m a";grid-template-columns:auto 2fr;grid-template-rows:1fr;height:50px;position:relative;width:320px}.display_ads_tablet_320x50_atf_below_video_description a:active,.display_ads_tablet_320x50_atf_below_video_description a:hover,.display_ads_tablet_320x50_atf_below_video_description a:link,.display_ads_tablet_320x50_atf_below_video_description a:visited,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description a:active,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description a:hover,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description a:link,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description a:visited,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer a:active,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer a:hover,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer a:link,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer a:visited,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player a:active,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player a:hover,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player a:link,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player a:visited{border-bottom:0;-webkit-text-decoration:none;text-decoration:none}.display_ads_tablet_320x50_atf_below_video_description .hbv-media,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description .hbv-media,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer .hbv-media,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player .hbv-media{grid-area:m;width:92px}.display_ads_tablet_320x50_atf_below_video_description .hbv-media a,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description .hbv-media a,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer .hbv-media a,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player .hbv-media a{align-content:center;display:flex;justify-content:center}.display_ads_tablet_320x50_atf_below_video_description .hbv-media img,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description .hbv-media img,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer .hbv-media img,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player .hbv-media img{aspect-ratio:1.91;display:block;height:100%;-o-object-fit:cover;object-fit:cover;width:100%}.display_ads_tablet_320x50_atf_below_video_description .hbv-ad,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description .hbv-ad,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer .hbv-ad,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player .hbv-ad{align-items:center;align-self:start;background-color:#f4b400;border-radius:2px;box-shadow:0 1px 2px rgba(0,0,0,.5);color:#212121;display:flex;font-size:13px;grid-area:m;justify-self:left;margin:4px 0 0 4px;padding:0 3px;place-self:start left}.display_ads_tablet_320x50_atf_below_video_description .hbv-title,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description .hbv-title,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer .hbv-title,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player .hbv-title{font-size:12px;grid-area:c;overflow:hidden;padding:8px 8px 4px 6px;text-overflow:ellipsis;white-space:nowrap}.display_ads_tablet_320x50_atf_below_video_description .hbv-title a,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description .hbv-title a,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer .hbv-title a,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player .hbv-title a{color:#212121;font-weight:500}.display_ads_tablet_320x50_atf_below_video_description .hbv-sponsor,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description .hbv-sponsor,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer .hbv-sponsor,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player .hbv-sponsor{align-items:center;align-self:end;display:flex;flex-direction:row;grid-area:a;height:100%;justify-self:left;padding:8px 8px 4px 6px;place-self:end left;width:100%}.display_ads_tablet_320x50_atf_below_video_description .hbv-sponsor .hbv-sponsor-advertiser,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description .hbv-sponsor .hbv-sponsor-advertiser,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer .hbv-sponsor .hbv-sponsor-advertiser,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player .hbv-sponsor .hbv-sponsor-advertiser{color:#777;font-size:10px;-webkit-text-decoration:none;text-decoration:none}.display_ads_tablet_320x50_atf_below_video_description .hbv-sponsor .hbv-sponsor-cta,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description .hbv-sponsor .hbv-sponsor-cta,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer .hbv-sponsor .hbv-sponsor-cta,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player .hbv-sponsor .hbv-sponsor-cta{margin-left:auto}.display_ads_tablet_320x50_atf_below_video_description .hbv-sponsor .hbv-sponsor-cta-link,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description .hbv-sponsor .hbv-sponsor-cta-link,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer .hbv-sponsor .hbv-sponsor-cta-link,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player .hbv-sponsor .hbv-sponsor-cta-link{color:#4285f4;font-size:11px;font-weight:500;-webkit-text-decoration:none;text-decoration:none}.display_ads_tablet_320x50_atf_below_video_description .hbv-sponsor .hbv-sponsor-logo,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description .hbv-sponsor .hbv-sponsor-logo,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer .hbv-sponsor .hbv-sponsor-logo,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player .hbv-sponsor .hbv-sponsor-logo{display:none}.display_ads_tablet_320x50_atf_below_video_description .hbv-pixel,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description .hbv-pixel,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer .hbv-pixel,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player .hbv-pixel{position:absolute}.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer{background:#fff;border:1px solid #ddd;box-sizing:border-box;display:grid;font-family:Roboto,sans-serif;font-size:12px;grid-template-areas:"m c b" "m a b";grid-template-columns:min-content 3fr 1fr;grid-template-rows:1fr;height:90px;position:relative;width:728px}.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer a:active,.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer a:hover,.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer a:link,.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer a:visited,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer a:active,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer a:hover,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer a:link,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer a:visited{border-bottom:0;-webkit-text-decoration:none;text-decoration:none}.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer .hbv-media,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer .hbv-media{grid-area:m;width:168px}.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer .hbv-media a,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer .hbv-media a{align-content:center;display:flex;justify-content:center}.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer .hbv-media img,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer .hbv-media img{aspect-ratio:1.91;display:block;height:100%;-o-object-fit:cover;object-fit:cover;width:100%}.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer .hbv-ad,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer .hbv-ad{align-items:center;align-self:start;background-color:#f4b400;border-radius:2px;box-shadow:0 1px 2px rgba(0,0,0,.5);color:#212121;display:flex;font-size:13px;grid-area:m;justify-self:left;margin:4px 0 0 4px;padding:0 3px;place-self:start left}.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer .hbv-title,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer .hbv-title{font-size:20px;grid-area:c;overflow:hidden;padding:16px 16px 8px 12px;text-overflow:ellipsis;white-space:nowrap}.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer .hbv-title a,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer .hbv-title a{color:#212121;font-weight:500}.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer .hbv-sponsor,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer .hbv-sponsor{align-items:center;align-self:end;display:flex;flex-direction:row;grid-area:a;height:100%;justify-self:left;padding:16px 16px 8px 12px;place-self:end left;width:100%}.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer .hbv-sponsor .hbv-sponsor-advertiser,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer .hbv-sponsor .hbv-sponsor-advertiser{color:#777;font-size:12px;font-weight:400;-webkit-text-decoration:none;text-decoration:none}.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer .hbv-sponsor .hbv-sponsor-logo,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer .hbv-sponsor .hbv-sponsor-logo{margin-right:10px;width:23px}.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer .hbv-sponsor .hbv-sponsor-logo img,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer .hbv-sponsor .hbv-sponsor-logo img{height:100%;width:100%}.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer .hbv-sponsor-cta,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer .hbv-sponsor-cta{border-left:1px solid #ddd;display:grid;grid-area:b}.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer .hbv-sponsor-cta .hbv-sponsor-cta-link,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer .hbv-sponsor-cta .hbv-sponsor-cta-link{align-self:center;color:#4285f4;font-size:14px;font-weight:500;justify-self:center;place-self:center;-webkit-text-decoration:none;text-decoration:none}.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer .hbv-pixel,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer .hbv-pixel{position:absolute}')})),C_=(e,{bidResponse:t})=>{S_();const{placementId:i}=t,a=document.getElementById(i);if(!a)throw new _a.b(_a.a.nativeAdserverPlacementInvalid,"dfpDiv wasn't found");const n=((e,t)=>{if((0,wa.b)(t))return((e,t)=>{const i=!!t.iconUrl,a=t.privacy&&A_("a",{href:t.privacy.optoutClickUrl,target:"_blank",rel:"noopener nofollow",style:"position: absolute; right: 0px; top: 0px;"},A_("img",{src:t.privacy.optoutImageUrl,style:"display:block"})),n=JSON.stringify(t.clickTrackers);return(e=>{const t=D_(e,{ns:void 0});if((0,$a.i)(t))return t;throw new Error("vnode does not render to HTMLElement")})(A_("article",{class:`hbv-native-prebid-${e}`},a,t.impTrackers.map((e=>A_("img",{class:"hbv-pixel",src:e,width:"1",height:"1"}))),A_("div",{class:"hbv-media"},A_("a",{href:t.clickUrl,"data-hbv-clk":n,target:"_blank",rel:"noopener nofollow"},A_("img",{src:t.imageUrl}))),A_("div",{class:"hbv-ad"},"Ad"),A_("div",{class:"hbv-title"},A_("a",{href:t.clickUrl,"data-hbv-clk":n,target:"_blank",rel:"noopener nofollow"},t.title)),A_("div",{class:"hbv-sponsor"},i?A_("div",{class:"hbv-sponsor-logo"},A_("a",{href:t.clickUrl,"data-hbv-clk":n,target:"_blank",rel:"noopener nofollow"},A_("img",{src:t.iconUrl}))):void 0,t.sponsoredBy&&A_("a",{class:"hbv-sponsor-advertiser",href:t.clickUrl},t.sponsoredBy),A_("div",{class:"hbv-sponsor-cta"},A_("a",{class:"hbv-sponsor-cta-link",href:t.clickUrl,"data-hbv-clk":n,target:"_blank",rel:"noopener nofollow"},t.cta))),A_("div",{"data-hbv-jstracker":"",style:"display:none"})))})(e,{impTrackers:(i=t.prebid).impressionTrackers,clickUrl:i.clickUrl,clickTrackers:i.clickTrackers,title:i.title,body:i.body,cta:i.cta,iconUrl:i.icon?.url,imageUrl:i.image.url,sponsoredBy:i.sponsoredBy});var i;throw new Error("Unsupported native payload type")})(i,t.native);n.id=`hbv-native-${i}`;const r=(0,Fa.a)(document,t,{creativeType:"native"});if(a.append(n,r),ei.f){const e=document.createComment(` ${JSON.stringify(t.native,null,2)} `);a.append(e)}},R_=["g123.jp"],k_=["IAB25-2","IAB25-3","IAB25-4","IAB25-5","IAB25-6","IAB25-7","IAB26","IAB26-1","IAB26-2","IAB26-3","IAB26-4"],E_=(e,t)=>{if(t.bidder===b_.Dailymotion_OpenX||t.bidder===b_.Dailymotion_Smart)return{useSandbox:!0}},{debug:M_,warn:O_}=et.a.tag("dailymotion:setup-gam"),U_=async()=>{if(!(0,Tt.i)(window.googletag?.apiReady))try{await(0,Ma.a)("https://securepubads.g.doubleclick.net/tag/js/gpt.js")}catch(e){throw O_("failed to load gpt! Aborting all.",e),e}},B_=(0,ct.a)((e=>{e.pubads().disableInitialLoad(),e.pubads().enableSingleRequest(),e.enableServices()})),P_=e=>{const t=e.pubads().getSlots();M_("destroying all slots"),e.destroySlots(t)},N_=async(e,t)=>{if(t.refreshReason===At.b.pageView)return(async e=>{const t=e.filter((e=>e.rendering?.renderer!==qa.a.instream));if(0!==t.length)try{M_("setting up GAM");const e=await Io.a;P_(e);const i=t.map((t=>((e,t)=>{if(t.rendering&&(0,qa.d)(t.rendering.dfp)&&(0,qa.c)(t.rendering.dfp)){const i=t.rendering.dfp.adUnitPath,a=t.rendering.dfp.elementId,n=t.bidRequest.mediaTypes.banner?.sizes??[];return e.defineSlot(i,[...n,[1,1]],a).addService(e.pubads())}})(e,t))).filter(Tt.i),a=await(async e=>{const t=e.map((e=>e.getSlotElementId()));return(0,mo.b)((0,mo.a)({interval:.1,maxTryCount:300}),(()=>{for(let e=0;e<t.length;++e){const i=document.getElementById(t[e]);if(i)return i}}))})(i);a||O_("couldn' retrieve any dfp div, will try to continue anyway"),((e,t)=>{B_(e),M_(`displaying ${t.length} slots`,t);for(const i of t)i.setTargeting("hbv_pn","1"),e.display(i)})(e,i)}catch(e){O_("failed to setup gam",e)}else O_("no placements for which to setup GAM tagging")})(t.placements)},j_=e=>{if(!e.length)return".";let t=e.length-1;for(;t&&"/"===e[t];t--);for(e=e.substring(0,t+1);t&&"/"!==e[t-1];t--);return e.substring(t)},z_=()=>"visible"===document.visibilityState;var q_=i(37);const $_=(e,t)=>t.find((t=>t?.renderingOptions&&((e,t,i)=>{const a=t.dfp;return!(!(0,qa.c)(a)||!(0,q_.b)(a.adUnitPath,i.getAdUnitPath()))||!(!(0,qa.d)(a)||!(0,q_.b)(a.elementId,i.getSlotElementId()))||!(!(0,qa.e)(a)||!(0,q_.b)(a.match,i.getAdUnitPath(),i.getSlotElementId()))||(0,q_.b)(e,i.getAdUnitPath(),i.getSlotElementId())})(t.placementId,t.renderingOptions,e))),F_=e=>{if(e.rendering&&(0,qa.c)(e.rendering.dfp)){const{adUnitPath:t}=e.rendering.dfp;if((0,Tt.q)(t))return j_(t)}},V_=e=>/\d+x\d+/.exec(e)?.pop(),L_=e=>{if(e.rendering&&(0,qa.d)(e.rendering.dfp)){const{elementId:t}=e.rendering.dfp;if((0,Tt.q)(t))return t}},{debug:G_,warn:W_}=et.a.tag("dailymotion:events"),H_=new Set,X_=new Set,Y_=new Set,J_=new Set;(0,nr.b)("dailymotion:hubvisor-inventory:listen",(e=>{H_.add(e)})),(0,nr.b)("dailymotion:hubvisor-inventory:discard",(e=>{H_.delete(e)})),(0,nr.b)("dailymotion:hubvisor-auction:listen",(e=>{X_.add(e)})),(0,nr.b)("dailymotion:hubvisor-auction:discard",(e=>{X_.delete(e)})),(0,nr.b)("dailymotion:hubvisor-response:listen",(e=>{Y_.add(e)})),(0,nr.b)("dailymotion:hubvisor-response:discard",(e=>{Y_.delete(e)})),(0,nr.b)("dailymotion:hubvisor-viewability:listen",(e=>{J_.add(e)})),(0,nr.b)("dailymotion:hubvisor-viewability:discard",(e=>{J_.delete(e)}));const K_=(0,ct.a)((e=>{G_("initializing events");const t={};(0,Io.b)((e=>e.pubads().addEventListener("slotRenderEnded",(e=>{(e=>{const{slot:i}=e,a=$_(i,Object.values(t));if((0,Tt.r)(a))return void W_("Couldn't retrieve data for this render event");const n=a.resolvedBidResponse?.bidResponse.bidId,r=n?er(n):void 0,o=a.refreshCount,s=i.getSlotElementId(),d=ao(),l={format:V_(s),ad_served:!e.isEmpty,position:/^.*([abm]tf.*$)/.exec(s)?.pop(),GAM_ad_unit:j_(i.getAdUnitPath()),cpm:void 0,currency:void 0,bidder:void 0,dfp:{advertiserId:e.advertiserId??void 0,lineItemId:e.lineItemId??void 0,creativeId:e.creativeId??void 0},webperf:ei.c?{start_delay:1===o?d?.hubvisorLoadStartDelay:void 0,load_duration:1===o?d?.hubvisorLoadDuration:void 0,until_init_duration:1===o?d?.hubvisorUntilInitDuration:void 0,init_duration:1===o?d?.hubvisorInitDuration:void 0,pre_render:r}:void 0,uuid:a.uuid,refresh_count:o,activetab:z_(),device:a.device};a.isHubvisorImpression?(l.cpm=a.resolvedBidResponse.bidResponse.cpm,l.currency=a.resolvedBidResponse.bidResponse.currency,l.bidder=a.resolvedBidResponse.bidResponse.bidder):(l.bidder="dfp",l.cpm=a.resolvedBidResponse?a.resolvedBidResponse.bidResponse.cpm+.01:void 0,l.currency="USD");for(const e of Y_)e(l)})?.(e)})))),(0,Io.b)((e=>e.pubads().addEventListener("impressionViewable",(e=>{const{slot:i}=e,a=$_(i,Object.values(t));if((0,Tt.r)(a))return void W_("Couldn't retrieve data for this viewability event");const n=i.getSlotElementId(),r={format:V_(n),position:/^.*([abm]tf.*$)/.exec(n)?.pop(),GAM_ad_unit:j_(i.getAdUnitPath()),uuid:a.uuid,activetab:z_(),device:a.device};for(const e of J_)e(r)})))),e.on(ti.a.auctionStarted,(e=>{for(const a of e.config.placements){const{placementId:n}=a,r=((i=t[n])?i.refreshCount:0)+1,o=(0,ot.b)();t[n]={uuid:o,refreshCount:r,renderingOptions:a.rendering,isHubvisorImpression:!1,placementId:n,resolvedBidResponse:void 0,device:e.config.context.layout};const s=!!a.rendering?.instream,d=L_(a),l=/^.*([abm]tf.*$)/.exec(d??""),p={format:s?"instream":V_(d??""),position:s?"instream":l?.pop(),GAM_ad_unit:F_(a),uuid:o,refresh_count:r,activetab:z_(),device:e.config.context.layout};for(const e of H_)e(p)}var i})),e.on(ti.a.auctionFinished,(e=>{if(ei.c){const t={auction_id:e.auctionId,pre_auction_duration:e.preAuctionDuration,auction_duration:e.duration,post_auction_duration:e.postAuctionDuration,cmp_latency:e.consent?.cmpLatency,consent_latency:e.consent?.consentLatency};for(const e of X_)e(t)}})),e.on(ti.a.renderRequested,(e=>{for(const i of e.renderRequests){const e=t[i.renderable.placement.placementId];if(!e)continue;const a=i.renderable.content.sort(((e,t)=>t.cpmAdjustment.adjustedCpm-e.cpmAdjustment.adjustedCpm))[0];a&&(e.resolvedBidResponse?a.cpmAdjustment.adjustedCpm>e.resolvedBidResponse.cpmAdjustment.adjustedCpm&&(e.resolvedBidResponse=a):e.resolvedBidResponse=a)}})),e.on(ti.a.impression,(e=>{const{placementId:i}=e.renderable.placement,a=t[i];(0,Tt.r)(a)?W_(`hubvisor won the impression for placement '${i}' but it wasn't registered on auction event`):(G_(`hubvisor won the impression for placement '${i}'`),a.isHubvisorImpression=!0,a.resolvedBidResponse=e.renderable.content)}))})),Z_=e=>{K_(e.bus)},Q_=(e,t)=>{if("native"===t.content.bidResponse.mediaType){const t=e.defaultView?.frameElement;(0,$a.h)(t)&&(t.style.display="none")}},eI=(e,t)=>{const{bidResponse:i}=t.content,a=i.bidder===b_.Dailymotion_Teads,n="video"===i.mediaType;(a||n)&&((e,t)=>{const i=document.getElementById(t.placementId);if(!i)throw new _a.b(_a.a.videoWrapperDivNotFound,`videoDiv not found in the DOM for ${t.placementId}`);const a=(0,Fa.a)(document,t,{creativeType:"video"});i.append(a)})(0,i)},tI=(e,t,i)=>{if(t.size<=0)return e;const a=((e,t)=>{if(t?.gamAdUnitPath&&window.googletag?.pubadsReady)return window.googletag?.pubads().getSlots().filter((t=>e.has(t.getSlotElementId()))).map((e=>e.getAdUnitPath()))})(t,i);return e.filter((e=>{const n=i?.gamAdUnitPath&&(0,qa.c)(e.rendering?.dfp)&&(0,q_.b)(e.rendering?.dfp.adUnitPath,...a??[],...t),r=i?.gamElement&&(0,qa.d)(e.rendering?.dfp)&&(0,q_.b)(e.rendering?.dfp.elementId,...t),o=i?.instream&&e.rendering?.instream?.playerId&&t.has(e.rendering.instream.playerId),s=i?.generic&&e.rendering?.generic?.id&&t.has(e.rendering.generic.id),d=i?.placementId&&t.has(e.placementId),l=i?.smartFormatId&&e.rendering?.sas?.formatId&&(0,St.a)(e.rendering?.sas?.formatId).some((e=>t.has(`${e}`))),p=i?.hscSelector&&e.rendering?.hsc?.selector&&(0,Tt.q)(e.rendering?.hsc?.selector)&&t.has(e.rendering.hsc.selector.replace("#",""));return n||r||o||s||d||l||p}))},iI=e=>{const t=e.placementId.indexOf("atf_");return{organizationId:"1363",site:"display_dailymotion",placement:-1===t?void 0:e.placementId.substring(t),adUnitElementId:e.placementId}},aI="display_ads_mobile_300x250_atf_video_recommendation",nI="display_ads_mobile_320x50_atf_sticky_under_player",rI="display_ads_mobile_320x50_atf_sticky_footer",oI="display_ads_desktop_300x250_atf_sticky_mpu_1",sI="display_ads_desktop_300x250_atf_sticky_mpu_2",dI="display_ads_desktop_300x250_atf_sticky_mpu_3",lI="display_ads_desktop_300x250_atf_sticky_mpu_4",pI="display_ads_tablet_300x250_atf_sticky_mpu_1",cI="display_ads_tablet_300x250_atf_sticky_mpu_2",mI="display_ads_tablet_300x250_atf_sticky_mpu_3",uI="preroll",bI="midroll",fI="postroll",gI="APAC",yI="CA",hI="EMEA",vI="FR",_I="LATAM",II="US",wI="UNKNOWN",xI=new Set(["AF","AS","AU","BH","BD","BT","IO","SB","BN","MM","KH","LK","CN","TW","CX","CC","CK","FJ","PF","PS","KI","GU","HK","IN","ID","IR","IQ","IL","JP","JO","KP","KR","KW","KG","LA","LB","MO","MY","MV","MN","OM","NR","NP","NC","VU","NZ","NU","NF","MP","FM","MH","PW","PK","PG","PH","PN","TL","QA","SA","SG","VN","SY","TJ","TH","TK","TO","AE","TR","TM","TV","UZ","WF","WS","YE","XX","XE","XD","XS"]),TI=new Set(["AL","DZ","AD","AO","AZ","AT","AM","BE","BA","BW","BG","BI","BY","CM","CV","CF","TD","KM","YT","CG","CD","HR","CY","CZ","BJ","DK","GQ","ET","ER","EE","FO","FI","AX","FR","DJ","GA","GE","GM","DE","GH","GI","GR","GN","VA","HU","IS","IE","IT","CI","KZ","KE","LS","LV","LR","LY","LI","LT","LU","MG","MW","ML","MT","MR","MU","MC","MD","ME","MA","MZ","NA","NL","NE","NG","NO","PL","PT","GW","RE","RO","RU","RW","SH","SM","ST","SN","RS","SC","SL","SK","SI","SO","ZA","ZW","ES","SS","EH","SD","SJ","SZ","SE","CH","TG","TN","UG","UA","MK","EG","GB","GG","JE","IM","TZ","BF","ZM"]),DI=new Set(["AG","AR","BS","BB","BM","BO","BR","BZ","VG","CA","KY","CL","CO","CR","CU","DM","DO","EC","SV","FK","GF","GL","GD","GP","GT","GY","HT","HN","JM","MQ","MX","MS","AN","CW","AW","SX","BQ","NI","UM","PA","PY","PE","PR","BL","KN","AI","LC","MF","PM","VC","SR","TT","TC","US","VI","UY","VE"]),AI=()=>{const e=window.__COUNTRY__;if(e){if("US"===e)return II;if("CA"===e)return yI;if("FR"===e)return vI;if(xI.has(e))return gI;if(TI.has(e))return hI;if(DI.has(e))return _I}return wI},SI=(e,t)=>{switch(t){case"NA":return"US"===e?II:"CA"===e?yI:AI();case"EMEA":return"FR"===e?vI:hI;case"LATAM":return _I;case"APAC":return gI;default:return AI()}},CI="apac.dailymotion.web",RI="canada.dailymotion.web",kI="emea.dailymotion.web",EI="france.dailymotion.web",MI="latam.dailymotion.web",OI="united-states.dailymotion.web",UI="unknown",BI=e=>{if(!/^(.*\.)?dailymotion\.com$/.test(location.hostname))return UI;const t=e?.geo?.country?.iso,i=e?.geo?.country?.region;switch(SI(t,i)){case"APAC":return CI;case"CA":return RI;case"EMEA":return kI;case"FR":return EI;case"LATAM":return MI;case"US":return OI;default:return UI}},PI="dailymotion",NI="unknown",jI={[RI]:PI,[CI]:PI,[kI]:PI,[EI]:PI,[MI]:PI,[OI]:PI,[UI]:NI},zI=e=>jI[BI(e)],qI={enabled:!0,topInset:80,bottomInset:16},$I=!0,FI=new Set([b_.Dailymotion_Amazon,b_.Dailymotion_Freewheel,b_.Dailymotion_Mediasquare,b_.Dailymotion_NextMillennium,b_.Dailymotion_Prisma,b_.Dailymotion_Smart,b_.Dailymotion_Choueiri_Equativ,b_.Dailymotion_Teads]),VI={image:{required:!0},title:{required:!0},sponsoredBy:{required:!1},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}},LI={desktop:{pave:[[300,250]],outstream:[300,250],ban:[[728,90]],tinyBan:[[320,50],[300,50],[216,36]]},mobile:{pave:[[300,600],[320,480],[300,250]],tinyBan:[[320,50],[300,50],[216,36]],outstream:[300,250]},tablet:{pave:[[300,250]],outstream:[300,250],ban:[[728,90]],tinyBan:[[320,50],[300,50],[216,36]]}},GI="cpm.qortex.ai",WI="exchange",HI=[{placementId:oI,rendering:{renderer:qa.a.dfp,dfp:{elementId:oI,adUnitPath:"/23328537/Display_Web_$REGION$_Desktop_300x250_atf_sticky_mpu_1"},outstream:{hasRollover:!1}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Desktop_300x250_atf_sticky_mpu_1"}},mediaTypes:{banner:{sizes:LI.desktop.pave},outstream:{playerSize:LI.desktop.outstream},native:VI},bids:[{bidder:b_.Azerion_ImproveDigital,params:{placementId:23004679,publisherId:1915},allowedMediaTypes:["banner"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005851,publisherId:1915},allowedMediaTypes:["native"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005837,publisherId:1915},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755082},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755059},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Amazon,params:{slotId:"ads_300x250_atf_sticky_mpu_1"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Amazon,params:{slotId:"display_ads_desktop_300x250_atf_sticky_mpu_1"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:126874,networkId:4520,pageId:1894502,siteId:622438},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:130140,networkId:4520,pageId:1978481,siteId:657119},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Choueiri_Magnite,params:{accountId:14138,position:"atf",siteId:390184,video:{size_id:203},zoneId:2756742}},{bidder:b_.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Discovery,params:{placementId:20671236}},{bidder:b_.Dailymotion_Eskimi,params:{placementId:1686},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Freewheel,params:{zoneId:33283495},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Gumgum,params:{inSlot:895252}},{bidder:b_.Dailymotion_IndexExchange,params:{siteId:928035},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Insticator,params:{adUnitId:"01HY0YYJMZCB17SC6EG1Q3Y0RG"}},{bidder:b_.Dailymotion_Magnite,params:{accountId:8769,position:"atf",siteId:459830,zoneId:2695292},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"781596886"}},{bidder:b_.Dailymotion_Mediasquare,params:{code:"dailymotion.fr_sticky-mpu-1-gdpr_atf_pave_desktop",owner:"dailymotion"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Mediasquare,params:{code:"dailymotion.fr_sticky-mpu-1-gdpr_native_native_desktop",owner:"dailymotion"},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_desktop_300x250_atf_mpu_1_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_desktop_300x250_atf_mpu_1_GDPR_outstream"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_NextMillennium,params:{group_id:"1228",placement_id:"42454"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_OnCoreDigital,params:{},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"}},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558602897},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558892672},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Prisma,params:{}},{bidder:b_.Dailymotion_PubVentures,params:{placementId:30609028,publisherId:6474332},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_PubVentures,params:{placementId:30609072,publisherId:6474332},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_desktop_300x250_atf_sticky_mpu_1_banner_GDPR",publisherId:"158131"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_desktop_300x250_atf_sticky_mpu_1_GDPR",publisherId:"158131"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Qortex,params:{host:GI,zoneId:209729},allowedMediaTypes:["banner","native"]},{bidder:b_.Dailymotion_Rise,params:{org:"63c833f5d86b3500017581fb"},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_RTBhouse,params:{}},{bidder:b_.Dailymotion_RhythmOne,params:{siteId:255442}},{bidder:b_.Dailymotion_Seedtag,params:{adUnitId:"31396105",placement:"inBanner",publisherId:"7385-4269-01"}},{bidder:b_.Dailymotion_Sharethrough,params:{iframe:!0,pkey:"wJBKiYB9MwON29Z4Yi1dcO5X"}},{bidder:b_.Dailymotion_Smart,params:{formatId:85180,networkId:3330,pageId:1717974,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Smart,params:{formatId:85645,networkId:3330,pageId:1720551,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Smart,params:{formatId:123994,networkId:3330,pageId:1720665,siteId:325741},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Sovrn,params:{tagid:"1096547"}},{bidder:b_.Dailymotion_TTD,params:{}},{bidder:b_.Dailymotion_Teads,params:{pageId:167076,placementId:181914}},{bidder:b_.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_desktop_300x250_atf_mpu_1_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_TripleLift_Outstream,params:{inventoryCode:"Dailymotion_display_ads_desktop_300x250_atf_sticky_mpu_1_outstream_GDPR"},allowedMediaTypes:["outstream"],formatterParams:{isVideo:!0}},{bidder:b_.Dailymotion_Undertone,params:{placementId:275023,publisherId:275}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"6576f9c6d8791178ee1dbb3e",pid:"59ac17c192832d0011283fe3",subdomain:WI},overrideMediaTypes:{outstream:{playerSize:[300,169]}}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3",subdomain:WI},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223032},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223544},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222336},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222990},allowedMediaTypes:["outstream"]},{bidder:b_.media152_xandr,params:{placementId:28554525}}]}},{placementId:sI,rendering:{renderer:qa.a.dfp,dfp:{elementId:sI,adUnitPath:"/23328537/Display_Web_$REGION$_Desktop_300x250_atf_sticky_mpu_2"},outstream:{hasRollover:!1}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Desktop_300x250_atf_sticky_mpu_2"}},mediaTypes:{banner:{sizes:LI.desktop.pave},outstream:{playerSize:LI.desktop.outstream},native:VI},bids:[{bidder:b_.Azerion_ImproveDigital,params:{placementId:23004680,publisherId:1915},allowedMediaTypes:["banner"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005852,publisherId:1915},allowedMediaTypes:["native"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005838,publisherId:1915},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755083},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755061},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Amazon,params:{slotId:"ads_300x250_atf_sticky_mpu_2"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Amazon,params:{slotId:"display_ads_desktop_300x250_atf_sticky_mpu_2"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:126874,networkId:4520,pageId:1894502,siteId:622438},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:130140,networkId:4520,pageId:1978481,siteId:657119},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Choueiri_Magnite,params:{accountId:14138,position:"atf",siteId:390184,video:{size_id:203},zoneId:2756744}},{bidder:b_.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Discovery,params:{placementId:20671236}},{bidder:b_.Dailymotion_Eskimi,params:{placementId:1687},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Freewheel,params:{zoneId:33283498},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Gumgum,params:{inSlot:895253}},{bidder:b_.Dailymotion_IndexExchange,params:{siteId:928036},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Insticator,params:{adUnitId:"01HY0Z1YP3F1HQCE5QYG2ZXPTT"}},{bidder:b_.Dailymotion_Magnite,params:{accountId:8769,position:"atf",siteId:459830,zoneId:2695294},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"273576562"}},{bidder:b_.Dailymotion_Mediasquare,params:{code:"dailymotion.fr_sticky-mpu-2-gdpr_atf_pave_desktop",owner:"dailymotion"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Mediasquare,params:{code:"dailymotion.fr_sticky-mpu-2-gdpr_native_native_desktop",owner:"dailymotion"},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_desktop_300x250_atf_mpu_2_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_desktop_300x250_atf_mpu_2_GDPR_outstream"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_NextMillennium,params:{group_id:"1228",placement_id:"42490"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_OnCoreDigital,params:{},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"}},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558602898},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558892673},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Prisma,params:{}},{bidder:b_.Dailymotion_PubVentures,params:{placementId:30609073,publisherId:6474332}},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_desktop_300x250_atf_sticky_mpu_2_banner_GDPR",publisherId:"158131"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_desktop_300x250_atf_sticky_mpu_2_GDPR",publisherId:"158131"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Qortex,params:{host:GI,zoneId:209734},allowedMediaTypes:["banner","native"]},{bidder:b_.Dailymotion_Rise,params:{org:"63c833f5d86b3500017581fb"},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_RTBhouse,params:{}},{bidder:b_.Dailymotion_RhythmOne,params:{siteId:255442}},{bidder:b_.Dailymotion_Seedtag,params:{adUnitId:"31396106",placement:"inBanner",publisherId:"7385-4269-01"}},{bidder:b_.Dailymotion_Sharethrough,params:{iframe:!0,pkey:"MrHK2q0kMUoSW7pYX0xFMyq3"}},{bidder:b_.Dailymotion_Smart,params:{formatId:85180,networkId:3330,pageId:1717975,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Smart,params:{formatId:85645,networkId:3330,pageId:1720553,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Smart,params:{formatId:123994,networkId:3330,pageId:1720667,siteId:325741},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Sovrn,params:{tagid:"1096548"}},{bidder:b_.Dailymotion_TTD,params:{}},{bidder:b_.Dailymotion_Teads,params:{pageId:167077,placementId:181915}},{bidder:b_.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_desktop_300x250_atf_mpu_2_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_TripleLift_Outstream,params:{inventoryCode:"Dailymotion_display_ads_desktop_300x250_atf_sticky_mpu_2_outstream_GDPR"},allowedMediaTypes:["outstream"],formatterParams:{isVideo:!0}},{bidder:b_.Dailymotion_Undertone,params:{placementId:275023,publisherId:275}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"6576f9c6d8791178ee1dbb3e",pid:"59ac17c192832d0011283fe3",subdomain:WI},overrideMediaTypes:{outstream:{playerSize:[300,169]}}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3",subdomain:WI},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223042},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223549},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222336},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222990},allowedMediaTypes:["outstream"]},{bidder:b_.media152_xandr,params:{placementId:28554526}}]}},{placementId:dI,rendering:{renderer:qa.a.dfp,dfp:{elementId:dI,adUnitPath:"/23328537/Display_Web_$REGION$_Desktop_300x250_atf_sticky_mpu_3"},outstream:{hasRollover:!1}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Desktop_300x250_atf_sticky_mpu_3"}},mediaTypes:{banner:{sizes:LI.desktop.pave},outstream:{playerSize:LI.desktop.outstream},native:VI},bids:[{bidder:b_.Azerion_ImproveDigital,params:{placementId:23004681,publisherId:1915},allowedMediaTypes:["banner"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005853,publisherId:1915},allowedMediaTypes:["native"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005839,publisherId:1915},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755084},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755062},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Amazon,params:{slotId:"ads_300x250_atf_sticky_mpu_3"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Amazon,params:{slotId:"display_ads_desktop_300x250_atf_sticky_mpu_3"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:126874,networkId:4520,pageId:1894502,siteId:622438},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:130140,networkId:4520,pageId:1978481,siteId:657119},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Choueiri_Magnite,params:{accountId:14138,position:"atf",siteId:390184,video:{size_id:203},zoneId:2756746}},{bidder:b_.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Discovery,params:{placementId:20671236}},{bidder:b_.Dailymotion_Eskimi,params:{placementId:1688},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Freewheel,params:{zoneId:33283501},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Gumgum,params:{inSlot:895254}},{bidder:b_.Dailymotion_IndexExchange,params:{siteId:928037},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Insticator,params:{adUnitId:"01HY0Z3XYFRBBQGXFC93XKM947"}},{bidder:b_.Dailymotion_Magnite,params:{accountId:8769,position:"atf",siteId:459830,zoneId:2695296},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"195315902"}},{bidder:b_.Dailymotion_Mediasquare,params:{code:"dailymotion.fr_sticky-mpu-3-gdpr_atf_pave_desktop",owner:"dailymotion"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Mediasquare,params:{code:"dailymotion.fr_sticky-mpu-3-gdpr_native_native_desktop",owner:"dailymotion"},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_desktop_300x250_atf_mpu_3_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_desktop_300x250_atf_mpu_3_GDPR_outstream"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_NextMillennium,params:{group_id:"1228",placement_id:"42491"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_OnCoreDigital,params:{},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"}},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558602899},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558892674},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Prisma,params:{}},{bidder:b_.Dailymotion_PubVentures,params:{placementId:30609074,publisherId:6474332}},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_desktop_300x250_atf_sticky_mpu_3_banner_GDPR",publisherId:"158131"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_desktop_300x250_atf_sticky_mpu_3_GDPR",publisherId:"158131"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Qortex,params:{host:GI,zoneId:209730},allowedMediaTypes:["banner","native"]},{bidder:b_.Dailymotion_Rise,params:{org:"63c833f5d86b3500017581fb"},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_RTBhouse,params:{}},{bidder:b_.Dailymotion_RhythmOne,params:{siteId:255442}},{bidder:b_.Dailymotion_Seedtag,params:{adUnitId:"31396108",placement:"inBanner",publisherId:"7385-4269-01"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Sharethrough,params:{iframe:!0,pkey:"P47DZmaD8Ka2T76QFED0at1s"}},{bidder:b_.Dailymotion_Smart,params:{formatId:85180,networkId:3330,pageId:1717976,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Smart,params:{formatId:85645,networkId:3330,pageId:1720555,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Smart,params:{formatId:123994,networkId:3330,pageId:1720669,siteId:325741},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Sovrn,params:{tagid:"1096549"}},{bidder:b_.Dailymotion_TTD,params:{}},{bidder:b_.Dailymotion_Teads,params:{pageId:167078,placementId:181916}},{bidder:b_.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_desktop_300x250_atf_mpu_3_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_TripleLift_Outstream,params:{inventoryCode:"Dailymotion_display_ads_desktop_300x250_atf_sticky_mpu_3_outstream_GDPR"},allowedMediaTypes:["outstream"],formatterParams:{isVideo:!0}},{bidder:b_.Dailymotion_Undertone,params:{placementId:275023,publisherId:275}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"6576f9c6d8791178ee1dbb3e",pid:"59ac17c192832d0011283fe3",subdomain:WI},overrideMediaTypes:{outstream:{playerSize:[300,169]}}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3",subdomain:WI},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223048},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223561},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222336},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222990},allowedMediaTypes:["outstream"]},{bidder:b_.media152_xandr,params:{placementId:28554527}}]}},{placementId:lI,rendering:{renderer:qa.a.dfp,dfp:{elementId:lI,adUnitPath:"/23328537/Display_Web_$REGION$_Desktop_300x250_atf_sticky_mpu_4"},outstream:{hasRollover:!1}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Desktop_300x250_atf_sticky_mpu_4"}},mediaTypes:{banner:{sizes:LI.desktop.pave},outstream:{playerSize:LI.desktop.outstream},native:VI},bids:[{bidder:b_.Azerion_ImproveDigital,params:{placementId:23004681,publisherId:1915},allowedMediaTypes:["banner"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005853,publisherId:1915},allowedMediaTypes:["native"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005839,publisherId:1915},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755084},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755062},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Amazon,params:{slotId:"ads_300x250_atf_sticky_mpu_3"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Amazon,params:{slotId:"display_ads_desktop_300x250_atf_sticky_mpu_3"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:126874,networkId:4520,pageId:1894502,siteId:622438},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:130140,networkId:4520,pageId:1978481,siteId:657119},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Choueiri_Magnite,params:{accountId:14138,position:"atf",siteId:390184,video:{size_id:203},zoneId:2756746}},{bidder:b_.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Discovery,params:{placementId:20671236}},{bidder:b_.Dailymotion_Eskimi,params:{placementId:1688},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Freewheel,params:{zoneId:33283501},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Gumgum,params:{inSlot:895254}},{bidder:b_.Dailymotion_IndexExchange,params:{siteId:928037},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Insticator,params:{adUnitId:"01HY0Z3XYFRBBQGXFC93XKM947"}},{bidder:b_.Dailymotion_Magnite,params:{accountId:8769,position:"atf",siteId:459830,zoneId:2695296},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"195315902"}},{bidder:b_.Dailymotion_Mediasquare,params:{code:"dailymotion.fr_sticky-mpu-3-gdpr_atf_pave_desktop",owner:"dailymotion"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Mediasquare,params:{code:"dailymotion.fr_sticky-mpu-3-gdpr_native_native_desktop",owner:"dailymotion"},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_desktop_300x250_atf_mpu_3_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_desktop_300x250_atf_mpu_3_GDPR_outstream"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_NextMillennium,params:{group_id:"1228",placement_id:"42491"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_OnCoreDigital,params:{},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"}},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558602899},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558892674},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Prisma,params:{}},{bidder:b_.Dailymotion_PubVentures,params:{placementId:30609074,publisherId:6474332}},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_desktop_300x250_atf_sticky_mpu_3_banner_GDPR",publisherId:"158131"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_desktop_300x250_atf_sticky_mpu_3_GDPR",publisherId:"158131"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Qortex,params:{host:GI,zoneId:209730},allowedMediaTypes:["banner","native"]},{bidder:b_.Dailymotion_Rise,params:{org:"63c833f5d86b3500017581fb"},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_RTBhouse,params:{}},{bidder:b_.Dailymotion_RhythmOne,params:{siteId:255442}},{bidder:b_.Dailymotion_Seedtag,params:{adUnitId:"31396108",placement:"inBanner",publisherId:"7385-4269-01"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Sharethrough,params:{iframe:!0,pkey:"P47DZmaD8Ka2T76QFED0at1s"}},{bidder:b_.Dailymotion_Smart,params:{formatId:85180,networkId:3330,pageId:1717976,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Smart,params:{formatId:85645,networkId:3330,pageId:1720555,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Smart,params:{formatId:123994,networkId:3330,pageId:1720669,siteId:325741},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Sovrn,params:{tagid:"1096549"}},{bidder:b_.Dailymotion_TTD,params:{}},{bidder:b_.Dailymotion_Teads,params:{pageId:167078,placementId:181916}},{bidder:b_.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_desktop_300x250_atf_mpu_3_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_TripleLift_Outstream,params:{inventoryCode:"Dailymotion_display_ads_desktop_300x250_atf_sticky_mpu_3_outstream_GDPR"},allowedMediaTypes:["outstream"],formatterParams:{isVideo:!0}},{bidder:b_.Dailymotion_Undertone,params:{placementId:275023,publisherId:275}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"6576f9c6d8791178ee1dbb3e",pid:"59ac17c192832d0011283fe3",subdomain:WI},overrideMediaTypes:{outstream:{playerSize:[300,169]}}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3",subdomain:WI},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223048},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223561},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222336},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222990},allowedMediaTypes:["outstream"]},{bidder:b_.media152_xandr,params:{placementId:28554527}}]}}],XI={desktop:HI,mobile:[{placementId:aI,rendering:{renderer:qa.a.dfp,dfp:{elementId:aI,adUnitPath:"/23328537/Display_Web_$REGION$_Mobile_300x250_atf_video_recommendation"},outstream:{hasRollover:!1},richMedia:{useSandbox:$I,parallax:qI}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Mobile_300x250_atf_video_recommendation"}},mediaTypes:{banner:{sizes:LI.mobile.pave},outstream:{playerSize:LI.mobile.outstream},native:VI},bids:[{bidder:b_.Azerion_ImproveDigital,params:{placementId:23004693,publisherId:1915},allowedMediaTypes:["banner"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005865,publisherId:1915},allowedMediaTypes:["native"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005849,publisherId:1915},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755096},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755072},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Amazon,params:{slotId:"ads_300x250_atf_video_recommendation"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Amazon,params:{},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Amx,params:{tagId:"ZGFpbHltb3Rpb24uY29t"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:126874,networkId:4520,pageId:1894548,siteId:622440},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:130140,networkId:4520,pageId:1978481,siteId:657119},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Choueiri_Magnite,params:{accountId:14138,position:"atf",siteId:390184,video:{size_id:203},zoneId:2756794}},{bidder:b_.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Criteo_Native,params:{zoneId:1610435},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_Discovery,params:{placementId:20677178}},{bidder:b_.Dailymotion_Eskimi,params:{placementId:1691},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_IndexExchange,params:{siteId:394732},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Insticator,params:{adUnitId:"01HY0Z9KCGY75NRSQNBFVW3205"}},{bidder:b_.Dailymotion_Invibes,params:{customEndpoint:"https://bid3.videostep.com/Bid/VideoAdContent",placementId:"invibes_dailymotion_mpu_300x250_gdpr"}},{bidder:b_.Dailymotion_Magnite,params:{accountId:8769,position:"atf",siteId:257478,zoneId:1344850},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"337756474"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"784988315"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Mediasquare,params:{code:"dailymotion.fr_video-recommandation-gdpr_video_outstream_mobile",owner:"dailymotion"},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Mediasquare,params:{code:"dailymotion.fr_video-recommandation-gdpr_native_native_mobile",owner:"dailymotion"},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_mobile_300x250_atf_video_recommendation_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_mobile_300x250_atf_video_recommendation_GDPR_outstream"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_NextMillennium,params:{group_id:"1228",placement_id:"42460"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_OnCoreDigital,params:{},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:540797199},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Outbrain_Native,params:{publisher:{id:"00ce0681ca61fddc2b71d00363a7d1aa52"},tagid:"ATF-3/display_web_mobile_atf_video_recommendation_300x250_native"},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_Prisma,params:{}},{bidder:b_.Dailymotion_PubVentures,params:{placementId:30609153,publisherId:6474332},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_PubVentures,params:{placementId:30609160,publisherId:6474332},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_mobile_300x250_banner_GDPR",publisherId:"158131"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_mobile_300x250_GDPR",publisherId:"158131"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Qortex,params:{host:GI,zoneId:209736},allowedMediaTypes:["banner","native"]},{bidder:b_.Dailymotion_Rise,params:{org:"63c833f5d86b3500017581fb"},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_RTBhouse,params:{}},{bidder:b_.Dailymotion_Seedtag,params:{adUnitId:"31396103",placement:"inArticle",publisherId:"7385-4269-01"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Sharethrough,params:{iframe:!0,pkey:"D1yVZdKMxfQkDT4az3LRWoed"}},{bidder:b_.Dailymotion_Smart,params:{formatId:85180,networkId:3330,pageId:1152647,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Smart,params:{formatId:85645,networkId:3330,pageId:1157780,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Smart,params:{formatId:123994,networkId:3330,pageId:1342133,siteId:325741},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Teads,params:{pageId:105431,placementId:114122},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Teads,params:{pageId:105431,placementId:114122},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_Mobile_300x250_Prebid_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_TripleLift_Outstream,params:{inventoryCode:"Dailymotion_outstream_PB"},allowedMediaTypes:["outstream"],formatterParams:{isVideo:!0}},{bidder:b_.Dailymotion_Undertone,params:{placementId:275023,publisherId:275}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"6576f9c6d8791178ee1dbb3e",pid:"59ac17c192832d0011283fe3",subdomain:WI},overrideMediaTypes:{outstream:{playerSize:[300,169]}}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3",subdomain:WI},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223474},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223681},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222336},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222990},allowedMediaTypes:["outstream"]},{bidder:b_.media152_xandr,params:{placementId:18357367}}]}},{placementId:nI,rendering:{renderer:qa.a.dfp,dfp:{elementId:nI,adUnitPath:"/23328537/Display_Web_$REGION$_Mobile_320x50_atf_sticky_under_player"},richMedia:{useSandbox:$I}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Mobile_320x50_atf_sticky_under_player"}},mediaTypes:{banner:{sizes:LI.mobile.tinyBan},native:VI},bids:[{bidder:b_.Azerion_ImproveDigital,params:{placementId:23004692,publisherId:1915},allowedMediaTypes:["banner"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005864,publisherId:1915},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755095},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Amazon,params:{},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:130989,networkId:4520,pageId:1978481,siteId:657119},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Choueiri_Magnite,params:{accountId:14138,position:"atf",siteId:390184,zoneId:2756792}},{bidder:b_.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Criteo_Native,params:{zoneId:1610435},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_Discovery,params:{placementId:20677178}},{bidder:b_.Dailymotion_Eskimi,params:{placementId:1690},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Gumgum,params:{inSlot:76001},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_IndexExchange,params:{siteId:502017},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Insticator,params:{adUnitId:"01HY0Z8113RTH66Y9GT6EXVK74"}},{bidder:b_.Dailymotion_Magnite,params:{accountId:8769,position:"atf",siteId:326180,zoneId:1695830},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"613410642"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Mediasquare,params:{code:"dailymotion.fr_sticky-underplayer-gdpr_atf_banner_mobile",owner:"dailymotion"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Mediasquare,params:{code:"dailymotion.fr_sticky-underplayer-gdpr_native_native_mobile",owner:"dailymotion"},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_mobile_320x50_atf_under_player_GDPR"}},{bidder:b_.Dailymotion_NextMillennium,params:{group_id:"1228",placement_id:"42459"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_OnCoreDigital,params:{},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:541036768},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Outbrain_Native,params:{publisher:{id:"00ce0681ca61fddc2b71d00363a7d1aa52"},tagid:"ATF-3/display_web_mobile_atf_sticky_under_player_320x50_native"},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_Prisma,params:{}},{bidder:b_.Dailymotion_PubVentures,params:{placementId:30609152,publisherId:6474332}},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_mobile_320x50_banner_GDPR",publisherId:"158131"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Qortex,params:{host:GI,zoneId:209733}},{bidder:b_.Dailymotion_Rise,params:{org:"63c833f5d86b3500017581fb"},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_RTBhouse,params:{}},{bidder:b_.Dailymotion_Seedtag,params:{adUnitId:"31396112",placement:"inBanner",publisherId:"7385-4269-01"}},{bidder:b_.Dailymotion_Smart,params:{formatId:90143,networkId:3330,pageId:1225351,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Sovrn,params:{tagid:"754757"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Teads,params:{pageId:117799,placementId:127902},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_Mobile_320x50_Prebid_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Undertone,params:{placementId:275024,publisherId:275}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3",subdomain:WI},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223460}},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222336},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222990},allowedMediaTypes:["outstream"]},{bidder:b_.media152_xandr,params:{placementId:19007937}}]}},{placementId:rI,rendering:{renderer:qa.a.dfp,dfp:{elementId:rI,adUnitPath:"/23328537/Display_Web_$REGION$_Mobile_320x50_atf_sticky_footer"},richMedia:{useSandbox:$I}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Mobile_320x50_atf_sticky_footer"}},mediaTypes:{banner:{sizes:LI.mobile.tinyBan},native:VI},bids:[{bidder:b_.Azerion_ImproveDigital,params:{placementId:23004691,publisherId:1915},allowedMediaTypes:["banner"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005863,publisherId:1915},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755094},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Amazon,params:{},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Amx,params:{tagId:"MTUybWVkaWEuY29t"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:130989,networkId:4520,pageId:1978481,siteId:657119},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Choueiri_Magnite,params:{accountId:14138,position:"atf",siteId:390184,zoneId:2756790}},{bidder:b_.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Criteo_Native,params:{zoneId:1610435},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_Discovery,params:{placementId:20677178}},{bidder:b_.Dailymotion_Eskimi,params:{placementId:1689},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_IndexExchange,params:{siteId:688094},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Insticator,params:{adUnitId:"01HY0Z61D4BG35GXQXQQMB9MCC"}},{bidder:b_.Dailymotion_Magnite,params:{accountId:8769,position:"atf",siteId:257478,zoneId:2104910},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"629942461"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_mobile_320x50_atf_footer_GDPR"}},{bidder:b_.Dailymotion_NextMillennium,params:{group_id:"1228",placement_id:"42458"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_OnCoreDigital,params:{},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:545657701},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Outbrain_Native,params:{publisher:{id:"00ce0681ca61fddc2b71d00363a7d1aa52"},tagid:"ATF-3/display_web_mobile_atf_sticky_footer_320x50_native"},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_Prisma,params:{}},{bidder:b_.Dailymotion_PubVentures,params:{placementId:30609151,publisherId:6474332}},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_mobile_320x50_Adhesion_banner_GDPR",publisherId:"158131"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Qortex,params:{host:GI,zoneId:209731}},{bidder:b_.Dailymotion_Rise,params:{org:"63c833f5d86b3500017581fb"},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_RTBhouse,params:{}},{bidder:b_.Dailymotion_RhythmOne,params:{siteId:236506},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Seedtag,params:{adUnitId:"31396102",placement:"inScreen",publisherId:"7385-4269-01"}},{bidder:b_.Dailymotion_Sharethrough,params:{iframe:!0,pkey:"hZK9F1Ta5B8uQ0s6ynSgnJLJ"}},{bidder:b_.Dailymotion_Smart,params:{formatId:90143,networkId:3330,pageId:1407857,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Sovrn,params:{tagid:"932582"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Teads,params:{pageId:117799,placementId:127902},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_Mobile_320x50_Prebid_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Undertone,params:{placementId:275024,publisherId:275}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3",subdomain:WI},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223456}},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222336},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222990},allowedMediaTypes:["outstream"]},{bidder:b_.media152_xandr,params:{placementId:18022140}}]}}],tablet:[{placementId:pI,rendering:{renderer:qa.a.dfp,dfp:{elementId:pI,adUnitPath:"/23328537/Display_Web_$REGION$_Tablet_300x250_atf_sticky_mpu_1"},outstream:{hasRollover:!1},richMedia:{useSandbox:$I}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Tablet_300x250_atf_sticky_mpu_1"}},mediaTypes:{banner:{sizes:LI.tablet.pave},outstream:{playerSize:LI.tablet.outstream},native:VI},bids:[{bidder:b_.Azerion_ImproveDigital,params:{placementId:23004685,publisherId:1915},allowedMediaTypes:["banner"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005857,publisherId:1915},allowedMediaTypes:["native"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005843,publisherId:1915},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755088},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755066},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Amazon,params:{slotId:"ads_300x250_atf_sticky_mpu_1"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Amazon,params:{slotId:"display_ads_tablet_300x250_atf_sticky_mpu_1"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:126874,networkId:4520,pageId:1894504,siteId:622439},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:130140,networkId:4520,pageId:1978481,siteId:657119},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Choueiri_Magnite,params:{accountId:14138,position:"atf",siteId:390184,video:{size_id:203},zoneId:2756766}},{bidder:b_.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Discovery,params:{placementId:20671236}},{bidder:b_.Dailymotion_Eskimi,params:{placementId:1686},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Freewheel,params:{zoneId:33283513},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Gumgum,params:{inSlot:895258}},{bidder:b_.Dailymotion_IndexExchange,params:{siteId:928041},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Insticator,params:{adUnitId:"01HY0YYJMZCB17SC6EG1Q3Y0RG"}},{bidder:b_.Dailymotion_Magnite,params:{accountId:8769,position:"atf",siteId:459832,zoneId:2695314},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"781596886"}},{bidder:b_.Dailymotion_Mediasquare,params:{code:"dailymotion.fr_sticky-mpu-1-gdpr_atf_pave_tablet",owner:"dailymotion"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Mediasquare,params:{code:"dailymotion.fr_sticky-mpu-1-gdpr_native_native_tablet",owner:"dailymotion"},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_tablet_300x250_atf_mpu_1_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_tablet_300x250_atf_mpu_1_GDPR_outstream"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_NextMillennium,params:{group_id:"1228",placement_id:"42456"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_OnCoreDigital,params:{},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"}},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558602903},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558892678},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Prisma,params:{}},{bidder:b_.Dailymotion_PubVentures,params:{placementId:30609087,publisherId:6474332}},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_tablet_300x250_atf_sticky_mpu_1_banner_GDPR",publisherId:"158131"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_tablet_300x250_atf_sticky_mpu_1_GDPR",publisherId:"158131"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Qortex,params:{host:GI,zoneId:209736},allowedMediaTypes:["banner","native"]},{bidder:b_.Dailymotion_Rise,params:{org:"63c833f5d86b3500017581fb"},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_RTBhouse,params:{}},{bidder:b_.Dailymotion_RhythmOne,params:{siteId:255445}},{bidder:b_.Dailymotion_Seedtag,params:{adUnitId:"31396109",placement:"inBanner",publisherId:"7385-4269-01"}},{bidder:b_.Dailymotion_Sharethrough,params:{iframe:!0,pkey:"Z58mFf79HhcW1FyWY5sT9uyW"}},{bidder:b_.Dailymotion_Smart,params:{formatId:85180,networkId:3330,pageId:1717980,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Smart,params:{formatId:85645,networkId:3330,pageId:1720955,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Smart,params:{formatId:123994,networkId:3330,pageId:1720949,siteId:325741},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Sovrn,params:{tagid:"1096553"}},{bidder:b_.Dailymotion_TTD,params:{}},{bidder:b_.Dailymotion_Teads,params:{pageId:167082,placementId:181920}},{bidder:b_.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_tablet_300x250_atf_mpu_1_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_TripleLift_Outstream,params:{inventoryCode:"Dailymotion_display_ads_tablet_300x250_atf_sticky_mpu_1_outstream_GDPR"},allowedMediaTypes:["outstream"],formatterParams:{isVideo:!0}},{bidder:b_.Dailymotion_Undertone,params:{placementId:275023,publisherId:275}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"6576f9c6d8791178ee1dbb3e",pid:"59ac17c192832d0011283fe3",subdomain:WI},overrideMediaTypes:{outstream:{playerSize:[300,169]}}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3",subdomain:WI},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223076},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223606},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222336},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222990},allowedMediaTypes:["outstream"]},{bidder:b_.media152_xandr,params:{placementId:28554533}}]}},{placementId:cI,rendering:{renderer:qa.a.dfp,dfp:{elementId:cI,adUnitPath:"/23328537/Display_Web_$REGION$_Tablet_300x250_atf_sticky_mpu_2"},outstream:{hasRollover:!1}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Tablet_300x250_atf_sticky_mpu_2"}},mediaTypes:{banner:{sizes:LI.tablet.pave},outstream:{playerSize:LI.tablet.outstream},native:VI},bids:[{bidder:b_.Azerion_ImproveDigital,params:{placementId:23004686,publisherId:1915},allowedMediaTypes:["banner"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005858,publisherId:1915},allowedMediaTypes:["native"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005844,publisherId:1915},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755089},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755067},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Amazon,params:{slotId:"ads_300x250_atf_sticky_mpu_2"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Amazon,params:{slotId:"display_ads_tablet_300x250_atf_sticky_mpu_2"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:126874,networkId:4520,pageId:1894504,siteId:622439},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:130140,networkId:4520,pageId:1978481,siteId:657119},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Choueiri_Magnite,params:{accountId:14138,position:"atf",siteId:390184,video:{size_id:203},zoneId:2756768}},{bidder:b_.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Discovery,params:{placementId:20671236}},{bidder:b_.Dailymotion_Eskimi,params:{placementId:1687},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Freewheel,params:{zoneId:33283516},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Gumgum,params:{inSlot:895259}},{bidder:b_.Dailymotion_IndexExchange,params:{siteId:928042},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Insticator,params:{adUnitId:"01HY0Z1YP3F1HQCE5QYG2ZXPTT"}},{bidder:b_.Dailymotion_Magnite,params:{accountId:8769,position:"atf",siteId:459832,zoneId:2695312},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"273576562"}},{bidder:b_.Dailymotion_Mediasquare,params:{code:"dailymotion.fr_sticky-mpu-2-gdpr_atf_pave_tablet",owner:"dailymotion"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Mediasquare,params:{code:"dailymotion.fr_sticky-mpu-2-gdpr_native_native_tablet",owner:"dailymotion"},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_tablet_300x250_atf_mpu_2_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_tablet_300x250_atf_mpu_2_GDPR_outstream"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_NextMillennium,params:{group_id:"1228",placement_id:"42494"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_OnCoreDigital,params:{},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"}},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558602904},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558892679},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Prisma,params:{}},{bidder:b_.Dailymotion_PubVentures,params:{placementId:30609088,publisherId:6474332}},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_tablet_300x250_atf_sticky_mpu_2_banner_GDPR",publisherId:"158131"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_tablet_300x250_atf_sticky_mpu_2_GDPR",publisherId:"158131"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Qortex,params:{host:GI,zoneId:209737},allowedMediaTypes:["banner","native"]},{bidder:b_.Dailymotion_Rise,params:{org:"63c833f5d86b3500017581fb"},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_RTBhouse,params:{}},{bidder:b_.Dailymotion_RhythmOne,params:{siteId:255445}},{bidder:b_.Dailymotion_Seedtag,params:{adUnitId:"31396110",placement:"inBanner",publisherId:"7385-4269-01"}},{bidder:b_.Dailymotion_Sharethrough,params:{iframe:!0,pkey:"J6DPxkYCNnKUOxmaJFnSNG0c"}},{bidder:b_.Dailymotion_Smart,params:{formatId:85180,networkId:3330,pageId:1717981,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Smart,params:{formatId:85645,networkId:3330,pageId:1720956,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Smart,params:{formatId:123994,networkId:3330,pageId:1720950,siteId:325741},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Sovrn,params:{tagid:"1096554"}},{bidder:b_.Dailymotion_TTD,params:{}},{bidder:b_.Dailymotion_Teads,params:{pageId:167083,placementId:181921}},{bidder:b_.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_tablet_300x250_atf_mpu_2_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_TripleLift_Outstream,params:{inventoryCode:"Dailymotion_display_ads_tablet_300x250_atf_sticky_mpu_2_outstream_GDPR"},allowedMediaTypes:["outstream"],formatterParams:{isVideo:!0}},{bidder:b_.Dailymotion_Undertone,params:{placementId:275023,publisherId:275}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"6576f9c6d8791178ee1dbb3e",pid:"59ac17c192832d0011283fe3",subdomain:WI},overrideMediaTypes:{outstream:{playerSize:[300,169]}}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3",subdomain:WI},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223089},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223618},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222336},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222990},allowedMediaTypes:["outstream"]},{bidder:b_.media152_xandr,params:{placementId:28554534}}]}},{placementId:mI,rendering:{renderer:qa.a.dfp,dfp:{elementId:mI,adUnitPath:"/23328537/Display_Web_$REGION$_Tablet_300x250_atf_sticky_mpu_3"},outstream:{hasRollover:!1}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Tablet_300x250_atf_sticky_mpu_3"}},mediaTypes:{banner:{sizes:LI.tablet.pave},outstream:{playerSize:LI.tablet.outstream},native:VI},bids:[{bidder:b_.Azerion_ImproveDigital,params:{placementId:23004687,publisherId:1915},allowedMediaTypes:["banner"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005859,publisherId:1915},allowedMediaTypes:["native"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005845,publisherId:1915},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755090},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755068},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Amazon,params:{slotId:"ads_300x250_atf_sticky_mpu_3"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Amazon,params:{slotId:"display_ads_tablet_300x250_atf_sticky_mpu_3"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:126874,networkId:4520,pageId:1894504,siteId:622439},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:130140,networkId:4520,pageId:1978481,siteId:657119},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Choueiri_Magnite,params:{accountId:14138,position:"atf",siteId:390184,video:{size_id:203},zoneId:2756770}},{bidder:b_.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Discovery,params:{placementId:20671236}},{bidder:b_.Dailymotion_Eskimi,params:{placementId:1688},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Freewheel,params:{zoneId:33283519},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Gumgum,params:{inSlot:895260}},{bidder:b_.Dailymotion_IndexExchange,params:{siteId:928043},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Insticator,params:{adUnitId:"01HY0Z3XYFRBBQGXFC93XKM947"}},{bidder:b_.Dailymotion_Magnite,params:{accountId:8769,position:"atf",siteId:459832,zoneId:2695310},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"195315902"}},{bidder:b_.Dailymotion_Mediasquare,params:{code:"dailymotion.fr_sticky-mpu-3-gdpr_atf_pave_tablet",owner:"dailymotion"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Mediasquare,params:{code:"dailymotion.fr_sticky-mpu-3-gdpr_native_native_tablet",owner:"dailymotion"},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_tablet_300x250_atf_mpu_3_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_tablet_300x250_atf_mpu_3_GDPR_outstream"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_NextMillennium,params:{group_id:"1228",placement_id:"42495"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_OnCoreDigital,params:{},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"}},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558602905},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558892682},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Prisma,params:{}},{bidder:b_.Dailymotion_PubVentures,params:{placementId:30609089,publisherId:6474332}},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_tablet_300x250_atf_sticky_mpu_3_banner_GDPR",publisherId:"158131"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_tablet_300x250_atf_sticky_mpu_3_GDPR",publisherId:"158131"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Qortex,params:{host:GI,zoneId:209735},allowedMediaTypes:["banner","native"]},{bidder:b_.Dailymotion_Rise,params:{org:"63c833f5d86b3500017581fb"},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_RTBhouse,params:{}},{bidder:b_.Dailymotion_RhythmOne,params:{siteId:255445}},{bidder:b_.Dailymotion_Seedtag,params:{adUnitId:"31396111",placement:"inBanner",publisherId:"7385-4269-01"}},{bidder:b_.Dailymotion_Sharethrough,params:{iframe:!0,pkey:"EE4n1CzgPEtlteOhG0x0hfmy"}},{bidder:b_.Dailymotion_Smart,params:{formatId:85180,networkId:3330,pageId:1717982,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Smart,params:{formatId:85645,networkId:3330,pageId:1720957,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Smart,params:{formatId:123994,networkId:3330,pageId:1720951,siteId:325741},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Sovrn,params:{tagid:"1096555"}},{bidder:b_.Dailymotion_TTD,params:{}},{bidder:b_.Dailymotion_Teads,params:{pageId:167084,placementId:181922}},{bidder:b_.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_tablet_300x250_atf_mpu_3_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_TripleLift_Outstream,params:{inventoryCode:"Dailymotion_display_ads_tablet_300x250_atf_sticky_mpu_3_outstream_GDPR"},allowedMediaTypes:["outstream"],formatterParams:{isVideo:!0}},{bidder:b_.Dailymotion_Undertone,params:{placementId:275023,publisherId:275}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"6576f9c6d8791178ee1dbb3e",pid:"59ac17c192832d0011283fe3",subdomain:WI},overrideMediaTypes:{outstream:{playerSize:[300,169]}}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3",subdomain:WI},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223093},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223624},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222336},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222990},allowedMediaTypes:["outstream"]},{bidder:b_.media152_xandr,params:{placementId:28554535}}]}}],tv:HI},YI=[{placementId:oI,rendering:{renderer:qa.a.dfp,dfp:{elementId:oI,adUnitPath:"/23328537/Display_Web_$REGION$_Desktop_300x250_atf_sticky_mpu_1"},outstream:{hasRollover:!1}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Desktop_300x250_atf_sticky_mpu_1"}},mediaTypes:{banner:{sizes:LI.desktop.pave},outstream:{playerSize:LI.desktop.outstream},native:VI},bids:[{bidder:b_.Azerion_ImproveDigital,params:{placementId:23004682,publisherId:1915},allowedMediaTypes:["banner"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005854,publisherId:1915},allowedMediaTypes:["native"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005840,publisherId:1915},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_33across,params:{productId:"siab",siteId:"cZe9JeEW4r7ykIrkHcnnVW"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_33across,params:{productId:"siab",siteId:"dH_FnYE9Sr7yocrkHcnnVW",video:{linearity:1}},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755085},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755063},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Amazon,params:{slotId:"ads_300x250_atf_sticky_mpu_1"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Amazon,params:{slotId:"display_ads_desktop_300x250_atf_sticky_mpu_1"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:126874,networkId:4520,pageId:1894502,siteId:622438},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:130140,networkId:4520,pageId:1978481,siteId:657119},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Choueiri_Magnite,params:{accountId:14138,position:"atf",siteId:390184,video:{size_id:203},zoneId:2756754}},{bidder:b_.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Discovery,params:{placementId:20671236}},{bidder:b_.Dailymotion_Eskimi,params:{placementId:1686},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Freewheel,params:{zoneId:33283504},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Gumgum,params:{inSlot:895255}},{bidder:b_.Dailymotion_IndexExchange,params:{siteId:928038},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Insticator,params:{adUnitId:"01HY0YYJMZCB17SC6EG1Q3Y0RG"}},{bidder:b_.Dailymotion_Iqzone,params:{endpointId:"511"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Magnite,params:{accountId:8769,position:"atf",siteId:459830,zoneId:2695298},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"307107919"}},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_desktop_300x250_atf_mpu_1_not_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_desktop_300x250_atf_mpu_1_not_GDPR_outstream"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_NextMillennium,params:{group_id:"1228",placement_id:"42455"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_OnCoreDigital,params:{},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"}},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558602900},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558892675},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Prisma,params:{}},{bidder:b_.Dailymotion_PubVentures,params:{placementId:30609075,publisherId:6474332},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_PubVentures,params:{placementId:30609078,publisherId:6474332},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_desktop_300x250_atf_sticky_mpu_1_banner_not_GDPR",publisherId:"158131"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_desktop_300x250_atf_sticky_mpu_1_not_GDPR",publisherId:"158131"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Qortex,params:{host:GI,zoneId:209729},allowedMediaTypes:["banner","native"]},{bidder:b_.Dailymotion_Rise,params:{org:"63c833f5d86b3500017581fb"},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_RTBhouse,params:{}},{bidder:b_.Dailymotion_RhythmOne,params:{siteId:255443}},{bidder:b_.Dailymotion_Seedtag,params:{adUnitId:"31396105",placement:"inBanner",publisherId:"7385-4269-01"}},{bidder:b_.Dailymotion_Sharethrough,params:{iframe:!0,pkey:"0qGaIKvG7acXohWE7bn4jqkt"}},{bidder:b_.Dailymotion_Smart,params:{formatId:85180,networkId:3330,pageId:1717977,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Smart,params:{formatId:85645,networkId:3330,pageId:1720552,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Smart,params:{formatId:123994,networkId:3330,pageId:1720666,siteId:325741},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Sovrn,params:{tagid:"1096550"}},{bidder:b_.Dailymotion_TTD,params:{}},{bidder:b_.Dailymotion_Teads,params:{pageId:167079,placementId:181917}},{bidder:b_.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_desktop_300x250_atf_mpu_1_not_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_TripleLift_Outstream,params:{inventoryCode:"Dailymotion_display_ads_desktop_300x250_atf_sticky_mpu_1_outstream_not_GDPR"},allowedMediaTypes:["outstream"],formatterParams:{isVideo:!0}},{bidder:b_.Dailymotion_Undertone,params:{placementId:275023,publisherId:275}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"6576f9c6d8791178ee1dbb3e",pid:"59ac17c192832d0011283fe3",subdomain:WI},overrideMediaTypes:{outstream:{playerSize:[300,169]}}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3",subdomain:WI},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223052},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223566},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222336},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222990},allowedMediaTypes:["outstream"]},{bidder:b_.media152_xandr,params:{placementId:28554528}}]}},{placementId:sI,rendering:{renderer:qa.a.dfp,dfp:{elementId:sI,adUnitPath:"/23328537/Display_Web_$REGION$_Desktop_300x250_atf_sticky_mpu_2"},outstream:{hasRollover:!1}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Desktop_300x250_atf_sticky_mpu_2"}},mediaTypes:{banner:{sizes:LI.desktop.pave},outstream:{playerSize:LI.desktop.outstream},native:VI},bids:[{bidder:b_.Azerion_ImproveDigital,params:{placementId:23004683,publisherId:1915},allowedMediaTypes:["banner"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005855,publisherId:1915},allowedMediaTypes:["native"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005841,publisherId:1915},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_33across,params:{productId:"siab",siteId:"dxTNe8EW4r7yk1rkHcnlxd"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_33across,params:{productId:"siab",siteId:"dPmxFwE9Sr7yocrkHcnnVW",video:{linearity:1}},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755086},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755064},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Amazon,params:{slotId:"ads_300x250_atf_sticky_mpu_2"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Amazon,params:{slotId:"display_ads_desktop_300x250_atf_sticky_mpu_2"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:126874,networkId:4520,pageId:1894502,siteId:622438},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:130140,networkId:4520,pageId:1978481,siteId:657119},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Choueiri_Magnite,params:{accountId:14138,position:"atf",siteId:390184,video:{size_id:203},zoneId:2756756}},{bidder:b_.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Discovery,params:{placementId:20671236}},{bidder:b_.Dailymotion_Eskimi,params:{placementId:1687},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Freewheel,params:{zoneId:33283507},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Gumgum,params:{inSlot:895256}},{bidder:b_.Dailymotion_IndexExchange,params:{siteId:928039},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Insticator,params:{adUnitId:"01HY0Z1YP3F1HQCE5QYG2ZXPTT"}},{bidder:b_.Dailymotion_Iqzone,params:{endpointId:"512"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Magnite,params:{accountId:8769,position:"atf",siteId:459830,zoneId:2695300},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"274206062"}},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_desktop_300x250_atf_mpu_2_not_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_desktop_300x250_atf_mpu_2_not_GDPR_outstream"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_NextMillennium,params:{group_id:"1228",placement_id:"42492"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_OnCoreDigital,params:{},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"}},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558602901},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558892676},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Prisma,params:{}},{bidder:b_.Dailymotion_PubVentures,params:{placementId:30609077,publisherId:6474332}},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_desktop_300x250_atf_sticky_mpu_2_banner_not_GDPR",publisherId:"158131"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_desktop_300x250_atf_sticky_mpu_2_not_GDPR",publisherId:"158131"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Qortex,params:{host:GI,zoneId:209734},allowedMediaTypes:["banner","native"]},{bidder:b_.Dailymotion_Rise,params:{org:"63c833f5d86b3500017581fb"},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_RTBhouse,params:{}},{bidder:b_.Dailymotion_RhythmOne,params:{siteId:255442}},{bidder:b_.Dailymotion_Seedtag,params:{adUnitId:"31396106",placement:"inBanner",publisherId:"7385-4269-01"}},{bidder:b_.Dailymotion_Sharethrough,params:{iframe:!0,pkey:"bdG25WsDRMzvsPKFa6HxSDw8"}},{bidder:b_.Dailymotion_Smart,params:{formatId:85180,networkId:3330,pageId:1717978,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Smart,params:{formatId:85645,networkId:3330,pageId:1720554,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Smart,params:{formatId:123994,networkId:3330,pageId:1720668,siteId:325741},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Sovrn,params:{tagid:"1096551"}},{bidder:b_.Dailymotion_TTD,params:{}},{bidder:b_.Dailymotion_Teads,params:{pageId:167080,placementId:181918}},{bidder:b_.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_desktop_300x250_atf_mpu_2_not_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_TripleLift_Outstream,params:{inventoryCode:"Dailymotion_display_ads_desktop_300x250_atf_sticky_mpu_2_outstream_not_GDPR"},allowedMediaTypes:["outstream"],formatterParams:{isVideo:!0}},{bidder:b_.Dailymotion_Undertone,params:{placementId:275023,publisherId:275}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"6576f9c6d8791178ee1dbb3e",pid:"59ac17c192832d0011283fe3",subdomain:WI},overrideMediaTypes:{outstream:{playerSize:[300,169]}}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3",subdomain:WI},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223058},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223573},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222336},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222990},allowedMediaTypes:["outstream"]},{bidder:b_.media152_xandr,params:{placementId:28554531}}]}},{placementId:dI,rendering:{renderer:qa.a.dfp,dfp:{elementId:dI,adUnitPath:"/23328537/Display_Web_$REGION$_Desktop_300x250_atf_sticky_mpu_3"},outstream:{hasRollover:!1}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Desktop_300x250_atf_sticky_mpu_3"}},mediaTypes:{banner:{sizes:LI.desktop.pave},outstream:{playerSize:LI.desktop.outstream},native:VI},bids:[{bidder:b_.Azerion_ImproveDigital,params:{placementId:23004684,publisherId:1915},allowedMediaTypes:["banner"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005856,publisherId:1915},allowedMediaTypes:["native"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005842,publisherId:1915},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_33across,params:{productId:"siab",siteId:"d3S2IGEW4r7yoqrkHcnnVW"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_33across,params:{productId:"siab",siteId:"dVwlP6E9Sr7yocrkHcnnVW",video:{linearity:1}},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755087},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755065},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Amazon,params:{slotId:"ads_300x250_atf_sticky_mpu_3"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Amazon,params:{slotId:"display_ads_desktop_300x250_atf_sticky_mpu_3"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:126874,networkId:4520,pageId:1894502,siteId:622438},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:130140,networkId:4520,pageId:1978481,siteId:657119},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Choueiri_Magnite,params:{accountId:14138,position:"atf",siteId:390184,video:{size_id:203},zoneId:2756758}},{bidder:b_.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Discovery,params:{placementId:20671236}},{bidder:b_.Dailymotion_Eskimi,params:{placementId:1688},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Freewheel,params:{zoneId:33283510},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Gumgum,params:{inSlot:895257}},{bidder:b_.Dailymotion_IndexExchange,params:{siteId:928040},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Insticator,params:{adUnitId:"01HY0Z3XYFRBBQGXFC93XKM947"}},{bidder:b_.Dailymotion_Iqzone,params:{endpointId:"513"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Magnite,params:{accountId:8769,position:"atf",siteId:459830,zoneId:2695302},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"994840179"}},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_desktop_300x250_atf_mpu_3_not_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_desktop_300x250_atf_mpu_3_not_GDPR_outstream"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_NextMillennium,params:{group_id:"1228",placement_id:"42493"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_OnCoreDigital,params:{},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"}},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558602902},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558892677},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Prisma,params:{}},{bidder:b_.Dailymotion_PubVentures,params:{placementId:30609076,publisherId:6474332}},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_desktop_300x250_atf_sticky_mpu_3_banner_not_GDPR",publisherId:"158131"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_desktop_300x250_atf_sticky_mpu_3_not_GDPR",publisherId:"158131"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Qortex,params:{host:GI,zoneId:209730},allowedMediaTypes:["banner","native"]},{bidder:b_.Dailymotion_Rise,params:{org:"63c833f5d86b3500017581fb"},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_RTBhouse,params:{}},{bidder:b_.Dailymotion_RhythmOne,params:{siteId:255443}},{bidder:b_.Dailymotion_Seedtag,params:{adUnitId:"31396108",placement:"inBanner",publisherId:"7385-4269-01"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Sharethrough,params:{iframe:!0,pkey:"Xxe3285ecLCw10KNfCSjru9a"}},{bidder:b_.Dailymotion_Smart,params:{formatId:85180,networkId:3330,pageId:1717979,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Smart,params:{formatId:85645,networkId:3330,pageId:1720556,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Smart,params:{formatId:123994,networkId:3330,pageId:1720670,siteId:325741},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Sovrn,params:{tagid:"1096552"}},{bidder:b_.Dailymotion_TTD,params:{}},{bidder:b_.Dailymotion_Teads,params:{pageId:167081,placementId:181919}},{bidder:b_.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_desktop_300x250_atf_mpu_3_not_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_TripleLift_Outstream,params:{inventoryCode:"Dailymotion_display_ads_desktop_300x250_atf_sticky_mpu_3_outstream_not_GDPR"},allowedMediaTypes:["outstream"],formatterParams:{isVideo:!0}},{bidder:b_.Dailymotion_Undertone,params:{placementId:275023,publisherId:275}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"6576f9c6d8791178ee1dbb3e",pid:"59ac17c192832d0011283fe3",subdomain:WI},overrideMediaTypes:{outstream:{playerSize:[300,169]}}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3",subdomain:WI},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223067},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223584},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222336},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222990},allowedMediaTypes:["outstream"]},{bidder:b_.media152_xandr,params:{placementId:28554532}}]}},{placementId:lI,rendering:{renderer:qa.a.dfp,dfp:{elementId:lI,adUnitPath:"/23328537/Display_Web_$REGION$_Desktop_300x250_atf_sticky_mpu_4"},outstream:{hasRollover:!1}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Desktop_300x250_atf_sticky_mpu_4"}},mediaTypes:{banner:{sizes:LI.desktop.pave},outstream:{playerSize:LI.desktop.outstream},native:VI},bids:[{bidder:b_.Azerion_ImproveDigital,params:{placementId:23004684,publisherId:1915},allowedMediaTypes:["banner"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005856,publisherId:1915},allowedMediaTypes:["native"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005842,publisherId:1915},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_33across,params:{productId:"siab",siteId:"d3S2IGEW4r7yoqrkHcnnVW"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_33across,params:{productId:"siab",siteId:"dVwlP6E9Sr7yocrkHcnnVW",video:{linearity:1}},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755087},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755065},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Amazon,params:{slotId:"ads_300x250_atf_sticky_mpu_3"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Amazon,params:{slotId:"display_ads_desktop_300x250_atf_sticky_mpu_3"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:126874,networkId:4520,pageId:1894502,siteId:622438},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:130140,networkId:4520,pageId:1978481,siteId:657119},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Choueiri_Magnite,params:{accountId:14138,position:"atf",siteId:390184,video:{size_id:203},zoneId:2756758}},{bidder:b_.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Discovery,params:{placementId:20671236}},{bidder:b_.Dailymotion_Eskimi,params:{placementId:1688},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Freewheel,params:{zoneId:33283510},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Gumgum,params:{inSlot:895257}},{bidder:b_.Dailymotion_IndexExchange,params:{siteId:928040},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Insticator,params:{adUnitId:"01HY0Z3XYFRBBQGXFC93XKM947"}},{bidder:b_.Dailymotion_Iqzone,params:{endpointId:"513"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Magnite,params:{accountId:8769,position:"atf",siteId:459830,zoneId:2695302},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"994840179"}},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_desktop_300x250_atf_mpu_3_not_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_desktop_300x250_atf_mpu_3_not_GDPR_outstream"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_NextMillennium,params:{group_id:"1228",placement_id:"42493"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_OnCoreDigital,params:{},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"}},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558602902},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558892677},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Prisma,params:{}},{bidder:b_.Dailymotion_PubVentures,params:{placementId:30609076,publisherId:6474332}},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_desktop_300x250_atf_sticky_mpu_3_banner_not_GDPR",publisherId:"158131"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_desktop_300x250_atf_sticky_mpu_3_not_GDPR",publisherId:"158131"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Qortex,params:{host:GI,zoneId:209730},allowedMediaTypes:["banner","native"]},{bidder:b_.Dailymotion_Rise,params:{org:"63c833f5d86b3500017581fb"},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_RTBhouse,params:{}},{bidder:b_.Dailymotion_RhythmOne,params:{siteId:255443}},{bidder:b_.Dailymotion_Seedtag,params:{adUnitId:"31396108",placement:"inBanner",publisherId:"7385-4269-01"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Sharethrough,params:{iframe:!0,pkey:"Xxe3285ecLCw10KNfCSjru9a"}},{bidder:b_.Dailymotion_Smart,params:{formatId:85180,networkId:3330,pageId:1717979,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Smart,params:{formatId:85645,networkId:3330,pageId:1720556,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Smart,params:{formatId:123994,networkId:3330,pageId:1720670,siteId:325741},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Sovrn,params:{tagid:"1096552"}},{bidder:b_.Dailymotion_TTD,params:{}},{bidder:b_.Dailymotion_Teads,params:{pageId:167081,placementId:181919}},{bidder:b_.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_desktop_300x250_atf_mpu_3_not_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_TripleLift_Outstream,params:{inventoryCode:"Dailymotion_display_ads_desktop_300x250_atf_sticky_mpu_3_outstream_not_GDPR"},allowedMediaTypes:["outstream"],formatterParams:{isVideo:!0}},{bidder:b_.Dailymotion_Undertone,params:{placementId:275023,publisherId:275}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"6576f9c6d8791178ee1dbb3e",pid:"59ac17c192832d0011283fe3",subdomain:WI},overrideMediaTypes:{outstream:{playerSize:[300,169]}}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3",subdomain:WI},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223067},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223584},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222336},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222990},allowedMediaTypes:["outstream"]},{bidder:b_.media152_xandr,params:{placementId:28554532}}]}}],JI={desktop:YI,mobile:[{placementId:aI,rendering:{renderer:qa.a.dfp,dfp:{elementId:aI,adUnitPath:"/23328537/Display_Web_$REGION$_Mobile_300x250_atf_video_recommendation"},outstream:{hasRollover:!1},richMedia:{useSandbox:$I,parallax:qI}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Mobile_300x250_atf_video_recommendation"}},mediaTypes:{banner:{sizes:LI.mobile.pave},outstream:{playerSize:LI.mobile.outstream},native:VI},bids:[{bidder:b_.Azerion_ImproveDigital,params:{placementId:23004696,publisherId:1915},allowedMediaTypes:["banner"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005868,publisherId:1915},allowedMediaTypes:["native"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005850,publisherId:1915},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_33across,params:{productId:"siab",siteId:"awcHuqfQ4r6Q5WaKlId8sQ"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_33across,params:{productId:"siab",siteId:"dmWgYMM7mr64ksaKjGFx_2",video:{linearity:1}},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755099},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755073},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Amazon,params:{slotId:"ads_300x250_atf_video_recommendation"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Amazon,params:{},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Amx,params:{tagId:"ZGFpbHltb3Rpb24uY29t"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:126874,networkId:4520,pageId:1894548,siteId:622440},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:130140,networkId:4520,pageId:1978481,siteId:657119},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Choueiri_Magnite,params:{accountId:14138,position:"atf",siteId:390184,video:{size_id:203},zoneId:2756800}},{bidder:b_.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Criteo_Native,params:{zoneId:1610435},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_Discovery,params:{placementId:20677178}},{bidder:b_.Dailymotion_Eskimi,params:{placementId:1691},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Freewheel,params:{zoneId:18740383},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Gumgum,params:{inSlot:28324},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_IndexExchange,params:{siteId:393278},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Insticator,params:{adUnitId:"01HY0Z9KCGY75NRSQNBFVW3205"}},{bidder:b_.Dailymotion_Invibes,params:{customEndpoint:"https://bid3.videostep.com/Bid/VideoAdContent",placementId:"invibes_dailymotion_mpu_300x250_not_gdpr"}},{bidder:b_.Dailymotion_Iqzone,params:{endpointId:"519"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Magnite,params:{accountId:8769,position:"atf",siteId:257478,zoneId:1278310},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"337756474"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"784988315"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_mobile_300x250_atf_video_recommendation_not_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_mobile_300x250_atf_video_recommendation_not_GDPR_outstream"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_NextMillennium,params:{group_id:"1228",placement_id:"42462"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_OnCoreDigital,params:{},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:540773132},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Outbrain_Native,params:{publisher:{id:"00ce0681ca61fddc2b71d00363a7d1aa52"},tagid:"ATF-3/display_web_mobile_atf_video_recommendation_300x250_native"},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_Prisma,params:{}},{bidder:b_.Dailymotion_PubVentures,params:{placementId:30609156,publisherId:6474332},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_PubVentures,params:{placementId:30609157,publisherId:6474332},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_mobile_300x250_banner_not_GDPR",publisherId:"158131"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_mobile_300x250_not_GDPR",publisherId:"158131"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Qortex,params:{host:GI,zoneId:209736},allowedMediaTypes:["banner","native"]},{bidder:b_.Dailymotion_Rise,params:{org:"63c833f5d86b3500017581fb"},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_RTBhouse,params:{}},{bidder:b_.Dailymotion_RhythmOne,params:{siteId:86141},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Seedtag,params:{adUnitId:"31396103",placement:"inArticle",publisherId:"7385-4269-01"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Sharethrough,params:{iframe:!0,pkey:"wScxEqqkCQVsDjXH5rRBMWkA"}},{bidder:b_.Dailymotion_Smart,params:{formatId:85180,networkId:3330,pageId:1152648,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Smart,params:{formatId:85645,networkId:3330,pageId:1157781,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Smart,params:{formatId:123994,networkId:3330,pageId:1342132,siteId:325741},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Teads,params:{pageId:99714,placementId:107986},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Teads,params:{pageId:99714,placementId:107986},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_Mobile_300x250_Prebid"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_TripleLift_Outstream,params:{inventoryCode:"Dailymotion_outstream_PB"},allowedMediaTypes:["outstream"],formatterParams:{isVideo:!0}},{bidder:b_.Dailymotion_Undertone,params:{placementId:275023,publisherId:275}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"6576f9c6d8791178ee1dbb3e",pid:"59ac17c192832d0011283fe3",subdomain:WI},overrideMediaTypes:{outstream:{playerSize:[300,169]}}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3",subdomain:WI},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223490},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223693},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222336},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222990},allowedMediaTypes:["outstream"]},{bidder:b_.media152_xandr,params:{placementId:18357375}}]}},{placementId:nI,rendering:{renderer:qa.a.dfp,dfp:{elementId:nI,adUnitPath:"/23328537/Display_Web_$REGION$_Mobile_320x50_atf_sticky_under_player"},richMedia:{useSandbox:$I}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Mobile_320x50_atf_sticky_under_player"}},mediaTypes:{banner:{sizes:LI.mobile.tinyBan},native:VI},bids:[{bidder:b_.Azerion_ImproveDigital,params:{placementId:23004695,publisherId:1915},allowedMediaTypes:["banner"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005867,publisherId:1915},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_33across,params:{productId:"siab",siteId:"dOJjVqDcWr6Qr5aKlId8sQ"}},{bidder:b_.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755098},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Amazon,params:{},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:130989,networkId:4520,pageId:1978481,siteId:657119},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Choueiri_Magnite,params:{accountId:14138,position:"atf",siteId:390184,zoneId:2756798}},{bidder:b_.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Criteo_Native,params:{zoneId:1610435},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_Discovery,params:{placementId:20677178}},{bidder:b_.Dailymotion_Eskimi,params:{placementId:1690},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Gumgum,params:{inSlot:76001},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_IndexExchange,params:{siteId:502021},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Insticator,params:{adUnitId:"01HY0Z8113RTH66Y9GT6EXVK74"}},{bidder:b_.Dailymotion_Iqzone,params:{endpointId:"518"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Magnite,params:{accountId:8769,position:"atf",siteId:326180,zoneId:1695828},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"613410642"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_mobile_320x50_atf_under_player_not_GDPR"}},{bidder:b_.Dailymotion_NextMillennium,params:{group_id:"1228",placement_id:"42461"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_OnCoreDigital,params:{},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:541036767},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Outbrain_Native,params:{publisher:{id:"00ce0681ca61fddc2b71d00363a7d1aa52"},tagid:"ATF-3/display_web_mobile_atf_sticky_under_player_320x50_native"},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_Prisma,params:{}},{bidder:b_.Dailymotion_PubVentures,params:{placementId:30609155,publisherId:6474332}},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_mobile_320x50_banner_not_GDPR",publisherId:"158131"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Qortex,params:{host:GI,zoneId:209733}},{bidder:b_.Dailymotion_Rise,params:{org:"63c833f5d86b3500017581fb"},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_RTBhouse,params:{}},{bidder:b_.Dailymotion_RhythmOne,params:{siteId:210191},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Seedtag,params:{adUnitId:"31396112",placement:"inBanner",publisherId:"7385-4269-01"}},{bidder:b_.Dailymotion_Smart,params:{formatId:90143,networkId:3330,pageId:1225352,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Sovrn,params:{tagid:"754757"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Teads,params:{pageId:117803,placementId:127906},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_Mobile_320x50_Prebid"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Undertone,params:{placementId:275024,publisherId:275}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3",subdomain:WI},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223484}},{bidder:b_.media152_xandr,params:{placementId:19007931}}]}},{placementId:rI,rendering:{renderer:qa.a.dfp,dfp:{elementId:rI,adUnitPath:"/23328537/Display_Web_$REGION$_Mobile_320x50_atf_sticky_footer"},richMedia:{useSandbox:$I}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Mobile_320x50_atf_sticky_footer"}},mediaTypes:{banner:{sizes:LI.mobile.tinyBan},native:VI},bids:[{bidder:b_.Azerion_ImproveDigital,params:{placementId:23004694,publisherId:1915},allowedMediaTypes:["banner"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005866,publisherId:1915},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_33across,params:{productId:"inview",siteId:"dsBkau60Wr64o4aKjGFx_2"}},{bidder:b_.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755097},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Amazon,params:{},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Amx,params:{tagId:"MTUybWVkaWEuY29t"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:130989,networkId:4520,pageId:1978481,siteId:657119},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Choueiri_Magnite,params:{accountId:14138,position:"atf",siteId:390184,zoneId:2756796}},{bidder:b_.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Criteo_Native,params:{zoneId:1610435},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_Discovery,params:{placementId:20677178}},{bidder:b_.Dailymotion_Eskimi,params:{placementId:1689},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_IndexExchange,params:{siteId:688095},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Insticator,params:{adUnitId:"01HY0Z61D4BG35GXQXQQMB9MCC"}},{bidder:b_.Dailymotion_Iqzone,params:{endpointId:"517"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Magnite,params:{accountId:8769,position:"atf",siteId:257478,zoneId:2104912},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"629942461"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_mobile_320x50_atf_footer_not_GDPR"}},{bidder:b_.Dailymotion_NextMillennium,params:{group_id:"1228",placement_id:"42463"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_OnCoreDigital,params:{},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:545657700},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Outbrain_Native,params:{publisher:{id:"00ce0681ca61fddc2b71d00363a7d1aa52"},tagid:"ATF-3/display_web_mobile_atf_sticky_footer_320x50_native"},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_Prisma,params:{}},{bidder:b_.Dailymotion_PubVentures,params:{placementId:30609154,publisherId:6474332}},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_mobile_320x50_Adhesion_banner_not_GDPR",publisherId:"158131"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Qortex,params:{host:GI,zoneId:209731}},{bidder:b_.Dailymotion_Rise,params:{org:"63c833f5d86b3500017581fb"},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_RTBhouse,params:{}},{bidder:b_.Dailymotion_RhythmOne,params:{siteId:236507},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Seedtag,params:{adUnitId:"31396102",placement:"inScreen",publisherId:"7385-4269-01"}},{bidder:b_.Dailymotion_Sharethrough,params:{iframe:!0,pkey:"uYSInIZVP41hbNAP8WtpmjHt"}},{bidder:b_.Dailymotion_Smart,params:{formatId:90143,networkId:3330,pageId:1407858,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Sovrn,params:{tagid:"932583"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Teads,params:{pageId:117803,placementId:127906},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_Mobile_320x50_Prebid"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Undertone,params:{placementId:275024,publisherId:275}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3",subdomain:WI},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223480}},{bidder:b_.media152_xandr,params:{placementId:18022140}}]}}],tablet:[{placementId:pI,rendering:{renderer:qa.a.dfp,dfp:{elementId:pI,adUnitPath:"/23328537/Display_Web_$REGION$_Tablet_300x250_atf_sticky_mpu_1"},outstream:{hasRollover:!1}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Tablet_300x250_atf_sticky_mpu_1"}},mediaTypes:{banner:{sizes:LI.tablet.pave},outstream:{playerSize:LI.tablet.outstream},native:VI},bids:[{bidder:b_.Azerion_ImproveDigital,params:{placementId:23004688,publisherId:1915},allowedMediaTypes:["banner"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005860,publisherId:1915},allowedMediaTypes:["native"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005846,publisherId:1915},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_33across,params:{productId:"siab",siteId:"b71NNIEW8r7ykIrkHcnnVW"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_33across,params:{productId:"siab",siteId:"afZeUmE9Wr7yocrkHcnnVW",video:{linearity:1}},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755091},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755069},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Amazon,params:{slotId:"ads_300x250_atf_sticky_mpu_1"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Amazon,params:{slotId:"display_ads_tablet_300x250_atf_sticky_mpu_1"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:126874,networkId:4520,pageId:1894504,siteId:622439},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:130140,networkId:4520,pageId:1978481,siteId:657119},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Choueiri_Magnite,params:{accountId:14138,position:"atf",siteId:390184,video:{size_id:203},zoneId:2756778}},{bidder:b_.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Discovery,params:{placementId:20671236}},{bidder:b_.Dailymotion_Eskimi,params:{placementId:1686},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Freewheel,params:{zoneId:33283522},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Gumgum,params:{inSlot:895261}},{bidder:b_.Dailymotion_IndexExchange,params:{siteId:928044},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Insticator,params:{adUnitId:"01HY0YYJMZCB17SC6EG1Q3Y0RG"}},{bidder:b_.Dailymotion_Iqzone,params:{endpointId:"514"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Magnite,params:{accountId:8769,position:"atf",siteId:459832,zoneId:2695308},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"307107919"}},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_tablet_300x250_atf_mpu_1_not_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_tablet_300x250_atf_mpu_1_not_GDPR_outstream"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_NextMillennium,params:{group_id:"1228",placement_id:"42457"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_OnCoreDigital,params:{},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"}},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558602906},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558892683},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Prisma,params:{}},{bidder:b_.Dailymotion_PubVentures,params:{placementId:30609090,publisherId:6474332},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_PubVentures,params:{placementId:30609103,publisherId:6474332},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_tablet_300x250_atf_sticky_mpu_1_banner_not_GDPR",publisherId:"158131"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_tablet_300x250_atf_sticky_mpu_1_not_GDPR",publisherId:"158131"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Qortex,params:{host:GI,zoneId:209732},allowedMediaTypes:["banner","native"]},{bidder:b_.Dailymotion_Rise,params:{org:"63c833f5d86b3500017581fb"},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_RTBhouse,params:{}},{bidder:b_.Dailymotion_RhythmOne,params:{siteId:255444}},{bidder:b_.Dailymotion_Seedtag,params:{adUnitId:"31396109",placement:"inBanner",publisherId:"7385-4269-01"}},{bidder:b_.Dailymotion_Sharethrough,params:{iframe:!0,pkey:"TL206ZqYHKfgIpIUNrVRdEGJ"}},{bidder:b_.Dailymotion_Smart,params:{formatId:85180,networkId:3330,pageId:1717983,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Smart,params:{formatId:85645,networkId:3330,pageId:1720958,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Smart,params:{formatId:123994,networkId:3330,pageId:1720952,siteId:325741},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Sovrn,params:{tagid:"1096556"}},{bidder:b_.Dailymotion_TTD,params:{}},{bidder:b_.Dailymotion_Teads,params:{pageId:167085,placementId:181923}},{bidder:b_.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_tablet_300x250_atf_mpu_1_not_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_TripleLift_Outstream,params:{inventoryCode:"Dailymotion_display_ads_tablet_300x250_atf_sticky_mpu_1_outstream_not_GDPR"},allowedMediaTypes:["outstream"],formatterParams:{isVideo:!0}},{bidder:b_.Dailymotion_Undertone,params:{placementId:275023,publisherId:275}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"6576f9c6d8791178ee1dbb3e",pid:"59ac17c192832d0011283fe3",subdomain:WI},overrideMediaTypes:{outstream:{playerSize:[300,169]}}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3",subdomain:WI},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223099},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223632},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222336},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222990},allowedMediaTypes:["outstream"]},{bidder:b_.media152_xandr,params:{placementId:28554536}}]}},{placementId:cI,rendering:{renderer:qa.a.dfp,dfp:{elementId:cI,adUnitPath:"/23328537/Display_Web_$REGION$_Tablet_300x250_atf_sticky_mpu_2"},outstream:{hasRollover:!1}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Tablet_300x250_atf_sticky_mpu_2"}},mediaTypes:{banner:{sizes:LI.tablet.pave},outstream:{playerSize:LI.tablet.outstream},native:VI},bids:[{bidder:b_.Azerion_ImproveDigital,params:{placementId:23004689,publisherId:1915},allowedMediaTypes:["banner"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005861,publisherId:1915},allowedMediaTypes:["native"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005847,publisherId:1915},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_33across,params:{productId:"siab",siteId:"cxV1zwEW8r7ykPrkHcnlxd"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_33across,params:{productId:"siab",siteId:"ancWhGE9Wr7yocrkHcnnVW",video:{linearity:1}},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755092},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755070},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Amazon,params:{slotId:"ads_300x250_atf_sticky_mpu_2"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Amazon,params:{slotId:"display_ads_tablet_300x250_atf_sticky_mpu_2"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:126874,networkId:4520,pageId:1894504,siteId:622439},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:130140,networkId:4520,pageId:1978481,siteId:657119},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Choueiri_Magnite,params:{accountId:14138,position:"atf",siteId:390184,video:{size_id:203},zoneId:2756780}},{bidder:b_.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Discovery,params:{placementId:20671236}},{bidder:b_.Dailymotion_Eskimi,params:{placementId:1687},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Freewheel,params:{zoneId:33283525},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Gumgum,params:{inSlot:895262}},{bidder:b_.Dailymotion_IndexExchange,params:{siteId:928045},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Insticator,params:{adUnitId:"01HY0Z1YP3F1HQCE5QYG2ZXPTT"}},{bidder:b_.Dailymotion_Iqzone,params:{endpointId:"515"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Magnite,params:{accountId:8769,position:"atf",siteId:459832,zoneId:2695306},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"274206062"}},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_tablet_300x250_atf_mpu_2_not_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_tablet_300x250_atf_mpu_2_not_GDPR_outstream"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_NextMillennium,params:{group_id:"1228",placement_id:"42496"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_OnCoreDigital,params:{},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"}},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558602907},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558892684},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Prisma,params:{}},{bidder:b_.Dailymotion_PubVentures,params:{placementId:30609116,publisherId:6474332},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_PubVentures,params:{placementId:30609129,publisherId:6474332},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_tablet_300x250_atf_sticky_mpu_2_banner_not_GDPR",publisherId:"158131"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_tablet_300x250_atf_sticky_mpu_2_not_GDPR",publisherId:"158131"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Qortex,params:{host:GI,zoneId:209737},allowedMediaTypes:["banner","native"]},{bidder:b_.Dailymotion_Rise,params:{org:"63c833f5d86b3500017581fb"},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_RTBhouse,params:{}},{bidder:b_.Dailymotion_RhythmOne,params:{siteId:255444}},{bidder:b_.Dailymotion_Seedtag,params:{adUnitId:"31396110",placement:"inBanner",publisherId:"7385-4269-01"}},{bidder:b_.Dailymotion_Sharethrough,params:{iframe:!0,pkey:"UQTayAk2DtjadrEtpTFeabHR"}},{bidder:b_.Dailymotion_Smart,params:{formatId:85180,networkId:3330,pageId:1717984,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Smart,params:{formatId:85645,networkId:3330,pageId:1720959,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Smart,params:{formatId:123994,networkId:3330,pageId:1720953,siteId:325741},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Sovrn,params:{tagid:"1096557"}},{bidder:b_.Dailymotion_TTD,params:{}},{bidder:b_.Dailymotion_Teads,params:{pageId:167086,placementId:181924}},{bidder:b_.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_tablet_300x250_atf_mpu_2_not_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_TripleLift_Outstream,params:{inventoryCode:"Dailymotion_display_ads_tablet_300x250_atf_sticky_mpu_2_outstream_not_GDPR"},allowedMediaTypes:["outstream"],formatterParams:{isVideo:!0}},{bidder:b_.Dailymotion_Undertone,params:{placementId:275023,publisherId:275}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"6576f9c6d8791178ee1dbb3e",pid:"59ac17c192832d0011283fe3",subdomain:WI},overrideMediaTypes:{outstream:{playerSize:[300,169]}}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3",subdomain:WI},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223110},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223639},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222336},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222990},allowedMediaTypes:["outstream"]},{bidder:b_.media152_xandr,params:{placementId:28554537}}]}},{placementId:mI,rendering:{renderer:qa.a.dfp,dfp:{elementId:mI,adUnitPath:"/23328537/Display_Web_$REGION$_Tablet_300x250_atf_sticky_mpu_3"},outstream:{hasRollover:!1}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Tablet_300x250_atf_sticky_mpu_3"}},mediaTypes:{banner:{sizes:LI.tablet.pave},outstream:{playerSize:LI.tablet.outstream},native:VI},bids:[{bidder:b_.Azerion_ImproveDigital,params:{placementId:23004690,publisherId:1915},allowedMediaTypes:["banner"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005862,publisherId:1915},allowedMediaTypes:["native"]},{bidder:b_.Azerion_ImproveDigital,params:{placementId:23005848,publisherId:1915},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_33across,params:{productId:"siab",siteId:"c7icruEW8r7BjnrkHcnlKl"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_33across,params:{productId:"siab",siteId:"atvZ3kE9Wr7yocrkHcnnVW",video:{linearity:1}},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755093},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Adform,params:{mid:1755071},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Amazon,params:{slotId:"ads_300x250_atf_sticky_mpu_3"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Amazon,params:{slotId:"display_ads_tablet_300x250_atf_sticky_mpu_3"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:126874,networkId:4520,pageId:1894504,siteId:622439},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Choueiri_Equativ,params:{formatId:130140,networkId:4520,pageId:1978481,siteId:657119},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Choueiri_Magnite,params:{accountId:14138,position:"atf",siteId:390184,video:{size_id:203},zoneId:2756782}},{bidder:b_.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Discovery,params:{placementId:20671236}},{bidder:b_.Dailymotion_Eskimi,params:{placementId:1688},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Freewheel,params:{zoneId:33283528},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Gumgum,params:{inSlot:895263}},{bidder:b_.Dailymotion_IndexExchange,params:{siteId:928046},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Insticator,params:{adUnitId:"01HY0Z3XYFRBBQGXFC93XKM947"}},{bidder:b_.Dailymotion_Iqzone,params:{endpointId:"516"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Magnite,params:{accountId:8769,position:"atf",siteId:459832,zoneId:2695304},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"994840179"}},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_tablet_300x250_atf_mpu_3_not_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_tablet_300x250_atf_mpu_3_not_GDPR_outstream"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_NextMillennium,params:{group_id:"1228",placement_id:"42497"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:b_.Dailymotion_Nexx360,params:{},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_OnCoreDigital,params:{},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"}},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558602908},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558892685},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Prisma,params:{}},{bidder:b_.Dailymotion_PubVentures,params:{placementId:30609144,publisherId:6474332},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_PubVentures,params:{placementId:30609143,publisherId:6474332},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_tablet_300x250_atf_sticky_mpu_3_banner_not_GDPR",publisherId:"158131"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Pubmatic,params:{adSlot:"display_ads_tablet_300x250_atf_sticky_mpu_3_not_GDPR",publisherId:"158131"},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Qortex,params:{host:GI,zoneId:209735},allowedMediaTypes:["banner","native"]},{bidder:b_.Dailymotion_Rise,params:{org:"63c833f5d86b3500017581fb"},allowedMediaTypes:["banner","outstream"]},{bidder:b_.Dailymotion_RTBhouse,params:{}},{bidder:b_.Dailymotion_RhythmOne,params:{siteId:255444}},{bidder:b_.Dailymotion_Seedtag,params:{adUnitId:"31396111",placement:"inBanner",publisherId:"7385-4269-01"}},{bidder:b_.Dailymotion_Sharethrough,params:{iframe:!0,pkey:"iqpTymvERmhlObpYnjfZvjfV"}},{bidder:b_.Dailymotion_Smart,params:{formatId:85180,networkId:3330,pageId:1717985,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Smart,params:{formatId:85645,networkId:3330,pageId:1720960,siteId:325741},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Smart,params:{formatId:123994,networkId:3330,pageId:1720954,siteId:325741},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Sovrn,params:{tagid:"1096558"}},{bidder:b_.Dailymotion_TTD,params:{}},{bidder:b_.Dailymotion_Teads,params:{pageId:167087,placementId:181925}},{bidder:b_.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_tablet_300x250_atf_mpu_3_not_GDPR"},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_TripleLift_Outstream,params:{inventoryCode:"Dailymotion_display_ads_tablet_300x250_atf_sticky_mpu_3_outstream_not_GDPR"},allowedMediaTypes:["outstream"],formatterParams:{isVideo:!0}},{bidder:b_.Dailymotion_Undertone,params:{placementId:275023,publisherId:275}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"6576f9c6d8791178ee1dbb3e",pid:"59ac17c192832d0011283fe3",subdomain:WI},overrideMediaTypes:{outstream:{playerSize:[300,169]}}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3",subdomain:WI},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223115},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xandr,params:{placementId:29223649},allowedMediaTypes:["outstream"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222336},allowedMediaTypes:["banner"]},{bidder:b_.Dailymotion_Xapads,params:{host:"cpm.appocean.media",zoneId:222990},allowedMediaTypes:["outstream"]},{bidder:b_.media152_xandr,params:{placementId:28554538}}]}}],tv:YI},KI="desktop",ZI="mobile",QI="tablet",ew="tv",tw=new class{#qa=KI;get device(){return this.#qa}set device(e){this.#qa=e}},iw={[KI]:{[II]:["h0tp94gv","b6kxsgo9","hbatpmsu"],[vI]:["zwwv9h0c","otbxjota","fzgyu1ls"],[yI]:["fohps0bj","xme3w741","5x4junqz"],[hI]:["ed6jszgv","zdbv7fy5","qeslffzo"],[_I]:["rtvqpipx","mr5h9tio","w3cq5yoe"],[gI]:["k5wsicsb","nqt4ouhq","to8ybaov"]},[QI]:{[II]:["crm9wlhu","lycgltan","ureqvyfo"],[vI]:["vayuphgk","nluotpuv","kx1uzl3d"],[yI]:["yvwbyamd","sj8v0ues","wwcy4ta6"],[hI]:["h8sszkbl","eeausd8h","wbzrghyk"],[_I]:["n7ir9auc","h9fd2ef0","6nujzmph"],[gI]:["dmpa5aix","p9gxqkmd","v0ua6nni"]},[ZI]:{[II]:["1xg6cmby","ytyrnbo4","gefoxwwb"],[vI]:["mt17wdti","v85u9l7j","uczhyij0"],[yI]:["hnoeql4c","4lirh0yf","igiamz3w"],[hI]:["6xrern8l","esncohie","sk9p0uz3"],[_I]:["po7n10ew","lj1pvur0","bnun27fw"],[gI]:["9ml2y6sg","jahyxoyb","ioga8tpj"]}};iw[ew]=iw[KI];const aw={[KI]:{[gI]:{"non-gdpr":{banner:["e8avol7p","2izdql46","xdoozr4d"],outstream:["r1cyumj9","ieftadkb","qugnjo63"],native:["zdbhp7l5","wqzlqzue","l6c0fzgo"]}},[yI]:{"non-gdpr":{banner:["ldroxkpq","0c2t9xkd","wi6ftgul"],outstream:["pft5i3nq","1lyzbjoi","byuxtcgs"],native:["sf89bojl","d9tgwnqx","berhco7w"]}},[hI]:{"non-gdpr":{banner:["yrlho0uw","karr1j3h","2wnrsg0w"],outstream:["hw6flnaa","dxnyfrja","yj31opex"],native:["7jw6lnox","oebhkkjy","y6oiluv0"]},gdpr:{banner:["2kgvpd4m","0e4r2rbg","rwx3coqs"],outstream:["vw0joe16","erqw4yps","mfzwyetw"],native:["e8z0odu5","cq3n6pnq","ylwmjxkp"]}},[vI]:{gdpr:{banner:["qs1hjo8p","taiwrmfq","oksbfhyu"],outstream:["bkdsjzvz","oati3zqb","t7flqih2"],native:["m1dyrleu","isfvz9ef","qsrmhpbk"]}},[_I]:{"non-gdpr":{banner:["xu0acoxp","9uat43kl","6fl413nb"],outstream:["kqqdzxbe","hanbwjnt","tiawneyg"],native:["c2sa9lg1","v1oycai6","juqd4qmv"]},gdpr:{banner:["ctdailga","4fundbty","etkjfsq5"],outstream:["q1wkjy0t","hhyf5wsx","itluz7m2"],native:["mys3krwc","kiaduxcc","1kwvzsym"]}},[II]:{"non-gdpr":{banner:["yrwrepql","0mimbo8k","jl5k9vmo"],outstream:["copradwk","ap4w97gv","hlerk9xr"],native:["rfcj7htu","snomlgq7","6n8kbfnd"]}}},[QI]:{[gI]:{"non-gdpr":{banner:["snfczrad","sph90knx","3ktrtbua"],outstream:["yb1s4nhw","h4jk8msw","8chjxmmr"],native:["hqeacpz9","mwddk90o","wdpiasul"]}},[yI]:{"non-gdpr":{banner:["omebggva","8iyqpmjx","im1nhvyo"],outstream:["ewubqh6o","uamyrigt","f5tx9hrx"],native:["ktp9zmcs","8l25s4gn","mfnzjvic"]}},[hI]:{"non-gdpr":{banner:["o1vni0uh","k9vzx5h6","m70ytlap"],outstream:["d6y7c4tn","1v7u2rgc","n9almqct"],native:["d2vm6dts","m0gryspt","32cavxqd"]},gdpr:{banner:["h8lcj7a0","tiaks7ua","fan5qbli"],outstream:["nh0wozfc","v4awuh5o","jcaylg6w"],native:["rvt2yzul","5necbjxd","8cievksy"]}},[vI]:{gdpr:{banner:["tuh4icgp","ganrq6ix","4o6pljo8"],outstream:["zheowfo3","sinb9rtb","lbdospky"],native:["85l3acdg","3htei5ib","n3rkvzq0"]}},[_I]:{"non-gdpr":{banner:["sf2bytaa","nxqqi7st","wzyhem3p"],outstream:["ifxjolec","0reuq5nw","jpyzur7g"],native:["8pzxbku4","turreptk","zjcocu4s"]},gdpr:{banner:["0oi5fehr","gse2paod","oiibcpza"],outstream:["kyu3j1b5","hbmcn8pg","tqyij1xb"],native:["zheika40","yufqocdr","sgkqlqy1"]}},[II]:{"non-gdpr":{banner:["hmy4ldna","gefmcw6g","1yqzah3c"],outstream:["ohrtzmaa","z2s4rheb","pxcrhjry"],native:["zypilmla","0xmdmsyn","qqehphg9"]}}},[ZI]:{[gI]:{"non-gdpr":{banner:["toj7lsy3","thj5muov","bvwyi0hz"],outstream:["ddyz2a5i","",""],native:["va7fzjmz","joyclfmh","c5uazxp9"]}},[yI]:{"non-gdpr":{banner:["ljfcd3kq","gb2xcieq","5xps9qla"],outstream:["uw2esu5k","",""],native:["oecsgktq","hupi3ktn","ga0l5eli"]}},[hI]:{"non-gdpr":{banner:["grw2bxh0","nsvguhjq","0sevo4kh"],outstream:["3hasfblq","",""],native:["biub25dy","rg3zmwgs","fadunqht"]},gdpr:{banner:["2yrcvl8m","46pzuslf","1viknwcj"],outstream:["qwlvvkh4","",""],native:["dbewsnh2","y8xnarhd","ujqe6lsk"]}},[vI]:{gdpr:{banner:["londee7q","aly1mc9s",""],outstream:["8kppjlid","",""],native:["ycgo2698","ya2wbrz4",""]}},[_I]:{"non-gdpr":{banner:["d8angsmy","kw54tmyc","5pnxopxc"],outstream:["w65utseu","",""],native:["8u4nap2g","ja29bgli","ol7wfdgk"]},gdpr:{banner:["n6hi81vj","ewxkjucm","pusjlior"],outstream:["jzy5shjf","",""],native:["unw92pvk","ol1lnkw8","iypoz5ax"]}},[II]:{"non-gdpr":{banner:["k7x8wfi2","wdihdti7","uorwv4bk"],outstream:["hgvcwuiy","",""],native:["savyxbk5","t7ectfy6","7ygbsoqc"]}}}};aw[ew]=aw[KI];const nw={[gI]:32890746,[yI]:32107172,[hI]:32890713,[vI]:32890693,[_I]:32890730,[II]:32107172},rw={[b_.media152_xandr]:new Set(["US","JP","FR","CH","GB","CL","CA","BR","SA","DE","ES","AU","NL","TR","EC","MX","AE","TN","CO","IT","BE","AT","SE","PL","MY","NZ","ZA","AR","PE"]),[b_.Azerion_ImproveDigital]:new Set(["AX","AL","AD","AI","AT","BY","BE","BM","BQ","BA","IO","VG","BG","KY","MF","CW","HR","CZ","DK","EE","EU","FK","FO","FI","FR","FX","GF","PF","TF","GP","MQ","YT","NC","RE","PM","WF","DE","GI","GR","GL","GG","VA","HU","IS","IE","IM","IT","JE","XK","LV","LI","LT","LU","MK","MT","MD","MC","ME","MS","AN","NL","SX","BV","NO","PN","PL","PT","RO","RU","SH","SM","RS","YU","SK","SI","GS","ES","SJ","SE","CH","TC","GB","UA","AU"]),[b_.Dailymotion_33across]:new Set(["US"]),[b_.Dailymotion_Amx]:new Set(["US","GB","ES","CA","JP","NL","DE"]),[b_.Dailymotion_Criteo]:new Set(["TR","US","GB","FR","DE","CA","ES","AU","SA","AE","CH","MX","PE","CO","IT","JP","AT","CL","SE","NL","KR","ZA","PL","IN","BE"]),[b_.Dailymotion_Freewheel]:new Set(["US","CH","FR","TR","ES","EG","SA","LB","IL","CA","JO","DE","CL","JP","EC","AU","GB","AE","IN","IT","BR","TW","MX","IE","SE","CO","VN","NO","PL","AR"]),[b_.Dailymotion_Gumgum]:new Set(["US","JO","DE","IN","CA","GB","ES","AU","CL","VN","CO","MX","JP","FR","PE","SA","TR","EC","MY","ID","MA"]),[b_.Dailymotion_IndexExchange]:new Set(["US","GB","CA","TR","SA","AU","DE","AE","FR","IN","ES","MX","CL","IT","CH","PH","TH","JP","SE","EC","CO","BD","ID","TN","AR","BR","AT","SG","DZ","BE","ZA","PL","RO","MA","VN","GR","PE","MY","NL","PK","NZ","FI","PR","IE","HK","RS","IL","KW","IQ","TW","UZ","PT","BG","JO","NO"]),[b_.Dailymotion_Magnite]:new Set(["US","TR","DE","GB","SA","ES","FR","AU","MX","CA","AT","CH","AE","ID","IT","SE","IN","JP","MY","PL","PK","NZ","JO","CL","CO","MA","BR","LB","NL","SG","AR","CY","BE","EC","PR","PH","ZA","TH","DK","KW","IQ","GT","PE","RO","FI","IE","BG","NO","PT","CR","DO","KR","UA","HK","GR","HU","CZ","IL","EG","UZ","SK","BH","LV","TN","DZ","VN","YE","OM","LT","PA","MM","BD","QA","EE","GE","KE","RS"]),[b_.Dailymotion_Medianet]:new Set(["US","IN","CA","JP","MX","ES","SA","DE","AE","FR","GB","BR","CL","AU","AR","CO","TR","IT","IL","CH","EC","MY","PE","PH","AT","PR","ZA","TH","CY","PL","ID","MA","NZ","SG","DO","BE","UZ","CR","UA","UY","GT","JO"]),[b_.Dailymotion_Mediasquare]:new Set(["FR"]),[b_.Dailymotion_MinuteMedia]:new Set(["US","CA","MX","AU","NZ"]),[b_.Dailymotion_OneTag]:new Set(["US","SA","FR","DE","GB","NL","SE","AE","CH","IT","AR","BE","SG","CL","TR","AU","CA","ES","AT"]),[b_.Dailymotion_OpenX]:new Set(["US","TR","GB","DE","SA","ES","AU","JO","CA","AT","PE","FR","AE","CH","SE","MX","IT","IN","CL","JP","PL","BR","VN","BD","PH","NL","TH","PR","CO","BG","ZA","NP","AR","MY","BE","PT","DZ","MA","TN","HK","RO","NZ","DK"]),[b_.Dailymotion_Prisma]:new Set(["US","SA","CA","GB","FR","AE","AU","DE","CO","ES","MX","BR","CH","IL","AR","HK","AT","NL","PE","SG","CL","SE","BE","NZ","DK","EC","IT","TH","GT","MY","ZA","PR","NO","TR","ID","IE","GR","PH","DO","VE","RO","CR","UY","NP","FI","PL","BO","CY"]),[b_.Dailymotion_Pubmatic]:new Set(["US","GB","PH","AU","DE","CA","ES","FR","CH","TH","AR","AT","BE","ID","BR","IT","SE","JP","PE","BD","NL","DO","ZA","SG","BG","UY","NZ","HK","MY","PR","PK"]),[b_.Dailymotion_RhythmOne]:new Set(["US","BR","AU","DE","CA","CH","GB","JP","FR","SG","NZ"]),[b_.Dailymotion_Sharethrough]:new Set(["US","CA","DE","GB","ES","FR","IT"]),[b_.Dailymotion_Smart]:new Set(["US","SA","FR","DE","ES","IN","AE","CH","GB","BR","CA","MX","AU","CO","IT","CL","SG","EC","SE","KW","PA","MY","GR","HK","BE","AT","ID","QA","PR","JP","UZ","NL","GT","NZ","PH","NI","UY","PL","CR","ZA","PY","SV","RO","TT","KR","FI","BG"]),[b_.Dailymotion_Sovrn]:new Set(["US","AU","SA","DE","TR","ES","CA","SG","AE","IN","BR","JP","MX","NZ","GB","CH","IT","MY","JO","FR","HK","ID","CO","AT","SE","AR","CL","PH","IL","LB","TH","PE","EG","NL","BE","KW","ZA","FI","RO","DK","MA","OM","PL","NO","TN","QA"]),[b_.Dailymotion_Teads]:new Set(["SA","US","IN","CA","FR","VN","MX","MA","ES","DE","GB","AE","CH","PE","PH","CO","PY","TH","JP","MY","AU","CL","IL","GR","IT","ID","QA","KW","EC","BE","DO","SG","AT","TR","NL","RO","GT","KR","EG","DZ","BR","TN","PL","AR","OM","SE","HN","PA","HK","CR","RS","CZ","HR","SV","ZA","PT","HU","JO","NZ","MK","LB","NO"]),[b_.Dailymotion_TripleLift_Native]:new Set(["US","DE","GB","TR","FR","SA","CA","AE","JP","IT","CL","CO","AU","PE","AR","MX","EC","BR","JO","CH","SG"]),[b_.Dailymotion_TripleLift_Outstream]:new Set(["US","TR","SA","AE","FR","JP","DE","ES","GB","EC","UZ","MX","KW","BR"]),[b_.Dailymotion_Xandr]:new Set(["US","GB","BR"]),[b_.Dailymotion_Eskimi]:new Set(["AX","AL","AD","AI","AT","BY","BE","BM","BQ","BA","IO","VG","BG","KY","MF","CW","HR","CZ","DK","EE","EU","FK","FO","FI","FX","GF","PF","TF","GP","MQ","YT","NC","RE","PM","WF","DE","GI","GR","GL","GG","VA","HU","IS","IE","IM","IT","JE","XK","LV","LI","LT","LU","MK","MT","MD","MC","ME","MS","AN","NL","SX","BV","NO","PN","PL","PT","RO","RU","SH","SM","RS","YU","SK","SI","GS","ES","SJ","SE","CH","TC","GB","UA","AU"])};rw[b_.Dailymotion_Criteo_Native]=rw[b_.Dailymotion_Criteo];const ow=(0,ct.a)((e=>{let t="";switch(e){case gI:t="3";break;case yI:case _I:case II:t="2"}return`adx${t}.adform.net`})),sw=(e,t)=>{const{layout:i,publisherBrand:a}=e;if(a===NI)return[];const n=t?.geo?.country?.iso,r=t?.geo?.country?.region,o=SI(n,r);if(o===wI)return[];const s=Qe.a.currentValue?.tcData?.gdprApplies??window.__GKS__?.NEON_GDPR??!0,d=(s?XI:JI)[i]??[];if(0===d.length)return d;const l=o===vI?"France":o,p=JSON.parse(JSON.stringify(d).replace(/\$REGION\$/g,l));(e=>{for(const t of e){const e=t.bidRequest.bids.find((e=>e.bidder===b_.Dailymotion_Adagio));e&&(e.params=iI(t))}})(p),((e,t,i)=>{const a=iw[t][i];for(let t=0;t<e.length;++t){const i=e[t].bidRequest.bids.find((e=>e.bidder===b_.Dailymotion_Prisma));i&&(i.params={account:1086,tagId:a[t]})}})(p,i,o),((e,t,i,a)=>{const n=aw[t][i][a?"gdpr":"non-gdpr"];for(let t=0;t<e.length;++t){const i=e[t].bidRequest.bids.filter((e=>e.bidder===b_.Dailymotion_Nexx360));for(const e of i)if(1===e?.allowedMediaTypes?.length){const[i]=e.allowedMediaTypes;e.params={tagId:n[i]?.[t]}}}})(p,i,o,s),((e,t)=>{const i=nw[t];if(i)for(const t of e){const e=t.bidRequest.bids.find((e=>e.bidder===b_.Dailymotion_OnCoreDigital));e&&(e.params={placementId:i})}})(p,o);const c=new Set(m_()?FI:[]);(!c_()||c_()&&m_())&&(c.add(b_.Dailymotion_TripleLift_Native),c.add(b_.Dailymotion_TripleLift_Outstream)),(0,Rt.b)()&&(c.add(b_.Dailymotion_Criteo),c.add(b_.Dailymotion_Criteo_Native));for(const e of p)e.bidRequest.bids=e.bidRequest.bids.filter((e=>e.bidder!==b_.Dailymotion_Discovery||o===_I));for(const e of p){e.bidRequest.bids=e.bidRequest.bids.filter((({bidder:e})=>{const t=rw[e],i=t&&!!n&&!t.has(n);return!c.has(e)&&!i}));for(const t of e.bidRequest.bids)if(t.bidder===b_.Dailymotion_Adform&&(t.params.adxDomain=ow(o)),t.bidder===b_.Dailymotion_NextMillennium&&delete t.params.group_id,(t.bidder===b_.Dailymotion_Choueiri_Equativ||t.bidder===b_.Dailymotion_Choueiri_Magnite)&&e.bidRequest.mediaTypes.outstream){if(t.allowedMediaTypes&&!t.allowedMediaTypes.includes("outstream"))continue;t.overrideMediaTypes={...Object.entries(e.bidRequest.mediaTypes).filter((([e])=>!t.allowedMediaTypes||t.allowedMediaTypes.includes(e))).reduce(((e,[t,i])=>(e[t]=i,e)),{}),outstream:{playerSize:LI.desktop.outstream,openRtbParams:{maxduration:60}}}}}if(ar.a){const e=new Set([b_.media152_xandr,b_.Dailymotion_33across,b_.Dailymotion_Amazon,b_.Dailymotion_Amx,b_.Dailymotion_Gumgum,b_.Dailymotion_IndexExchange,b_.Dailymotion_Magnite,b_.Dailymotion_OneTag,b_.Dailymotion_OpenX,b_.Dailymotion_Pubmatic,b_.Dailymotion_RhythmOne,b_.Dailymotion_Sharethrough,b_.Dailymotion_Smart,b_.Dailymotion_Sovrn,b_.Dailymotion_Teads,b_.Dailymotion_Xandr]),t={[b_.media152_xandr]:["banner"],[b_.Dailymotion_IndexExchange]:["banner"],[b_.Dailymotion_Pubmatic]:["banner"],[b_.Dailymotion_Smart]:["banner"]},i=new Set([aI,nI]);return p.filter((({placementId:e})=>i.has(e))).map((i=>{const a=i.bidRequest.bids.filter((({bidder:t})=>e.has(t))).map((e=>{const i=t[e.bidder];return(0,Tt.r)(i)?e:{...e,allowedMediaTypes:i}}));return{...i,bidRequest:{...i.bidRequest,bids:a}}}))}const m=!!document.getElementById("display_ads_desktop_300x250_atf_sticky_mpu_4"),u=t?.geo?.subdivisions??void 0;if(u){const e=u.some((e=>"IDF"===e.iso));if(e)for(const e of p){delete e.bidRequest.mediaTypes.outstream;const t=e.bidRequest.bids;for(const e of t)e?.overrideMediaTypes&&delete e.overrideMediaTypes?.outstream}}return p.filter((({placementId:e})=>!(o===vI&&e===rI&&!(0,_t.a)("sticky-footer")||!m&&e===lI)))},dw={[uI]:{fr:31699749,de:31699982,it:31700171,en:31582717},[bI]:{fr:31699752,de:31699984,it:31700178,en:31700197}},{debug:lw}=et.a.tag("dailymotion:update-bid-request");let pw;(0,nr.b)("dailymotion:update-bid-request",(e=>{lw("Updating Dailymotion bid request with: ",e),pw=e}));const cw={pre:uI,mid:bI,post:fI},mw={startDelay:void 0},uw={[b_.Dailymotion_Audienzz]:new Set(["CH"])},bw=e=>{const t=e?.geo?.country?.iso??window.__COUNTRY__,i=[{placementId:uI,rendering:{renderer:qa.a.instream,instream:{playerId:"player",slotId:"instream"}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/PrebidOnsitePreroll"}},mediaTypes:{instream:{playerSize:[640,480],openRtbParams:{startdelay:mw.startDelay??0}}},bids:[{bidder:b_.dailymotion,params:{}},{bidder:b_.Dailymotion_Amazon,params:{slotId:"Instream_APS_Prebid",slotName:"Instream_APS_Prebid"}},{bidder:b_.Dailymotion_Freewheel,params:{zoneId:25931554}},{bidder:b_.Dailymotion_IndexExchange,params:{siteId:776051}},{bidder:b_.Dailymotion_Magnite,params:{accountId:8769,siteId:410358,zoneId:2305826}},{bidder:b_.Dailymotion_NextMillennium,params:{placement_id:"49403",group_id:"1228"}},{bidder:b_.Dailymotion_Pubmatic,params:{publisherId:"158131",adSlot:"Instream_Prebid_PoC_0x0_ATF"}},{bidder:b_.Dailymotion_RhythmOne,params:{siteId:237221}},{bidder:b_.Dailymotion_Seedtag,params:{adUnitId:"31224285",publisherId:"7385-4269-01",placement:"inStream"}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"65095fc52854c461afdfeff1",pid:"59ac17c192832d0011283fe3",subdomain:WI}},{bidder:b_.Dailymotion_Xandr,params:{placementId:31740550}},{bidder:b_.Dailymotion_Yieldlab,params:{adslotId:"EN_dailymotion.com_video_instream_pre-roll",supplyId:"31582717"}},{bidder:b_.Dailymotion_Audienzz,params:{}},{bidder:b_.Dailymotion_TripleLift_Instream,params:{inventoryCode:"Dailymotion_Instream_PreRoll_Prebid"}},{bidder:"hubvisor",params:{type:"video"}}]}},{placementId:bI,rendering:{renderer:qa.a.instream,instream:{playerId:"player",slotId:"instream"}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/PrebidOnsiteMidroll"}},mediaTypes:{instream:{playerSize:[640,480],openRtbParams:{startdelay:mw.startDelay??-1}}},bids:[{bidder:b_.dailymotion,params:{}},{bidder:b_.Dailymotion_Amazon,params:{slotId:"Instream_APS_Prebid",slotName:"Instream_APS_Prebid"}},{bidder:b_.Dailymotion_Freewheel,params:{zoneId:25931554}},{bidder:b_.Dailymotion_IndexExchange,params:{siteId:776051}},{bidder:b_.Dailymotion_Magnite,params:{accountId:8769,siteId:410358,zoneId:2305826}},{bidder:b_.Dailymotion_NextMillennium,params:{placement_id:"49404",group_id:"1228"}},{bidder:b_.Dailymotion_Pubmatic,params:{publisherId:"158131",adSlot:"Instream_Prebid_PoC_0x0_ATF"}},{bidder:b_.Dailymotion_RhythmOne,params:{siteId:237221}},{bidder:b_.Dailymotion_Seedtag,params:{adUnitId:"31320935",publisherId:"7385-4269-01",placement:"inStream"}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"65095fc52854c461afdfeff1",pid:"59ac17c192832d0011283fe3",subdomain:WI}},{bidder:b_.Dailymotion_Xandr,params:{placementId:31740551}},{bidder:b_.Dailymotion_Yieldlab,params:{adslotId:"EN_dailymotion.com_video_instream_mid-roll",supplyId:"31582741"}},{bidder:b_.Dailymotion_Audienzz,params:{}},{bidder:b_.Dailymotion_TripleLift_Instream,params:{inventoryCode:"Dailymotion_Instream_MidRoll_Prebid"}},{bidder:"hubvisor",params:{type:"video"}}]}},{placementId:fI,rendering:{renderer:qa.a.instream,instream:{playerId:"player",slotId:"instream"}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/PrebidOnsitePostroll"}},mediaTypes:{instream:{playerSize:[640,480],openRtbParams:{startdelay:mw.startDelay??-2}}},bids:[{bidder:b_.dailymotion,params:{}},{bidder:b_.Dailymotion_Amazon,params:{slotId:"Instream_APS_Prebid",slotName:"Instream_APS_Prebid"}},{bidder:b_.Dailymotion_Freewheel,params:{zoneId:25931554}},{bidder:b_.Dailymotion_IndexExchange,params:{siteId:776051}},{bidder:b_.Dailymotion_Magnite,params:{accountId:8769,siteId:410358,zoneId:2305826}},{bidder:b_.Dailymotion_NextMillennium,params:{placement_id:"49405",group_id:"1228"}},{bidder:b_.Dailymotion_Pubmatic,params:{publisherId:"158131",adSlot:"Instream_Prebid_PoC_0x0_ATF"}},{bidder:b_.Dailymotion_RhythmOne,params:{siteId:237221}},{bidder:b_.Dailymotion_Vidazoo,params:{cid:"65095fc52854c461afdfeff1",pid:"59ac17c192832d0011283fe3",subdomain:WI}},{bidder:"hubvisor",params:{type:"video"}}]}}];(e=>{const[t]=navigator.language.split("-");for(const i of e){const e=dw[i.placementId];if(e&&e[t]){const a=i.bidRequest.bids.find((e=>e.bidder===b_.Dailymotion_Audienzz));a&&(a.params={placementId:e[t]})}}})(i);const a=m_();for(const e of i)e.bidRequest.bids=e.bidRequest.bids.filter((({bidder:e})=>{const i=uw[e],n=i&&!!t&&!i.has(t);return!(a&&FI.has(e)||"hubvisor"===e&&!(0,_t.a)("enable-test-bidder")||n)}));if(ei.c)for(const e of i)[uI,bI,fI].includes(e.placementId)&&e.bidRequest.bids.map((t=>{if(t.bidder===b_.dailymotion&&pw){const{params:i={},mediaTypes:a}=pw;t.params=i,a?.video&&e.bidRequest.mediaTypes.instream&&(t.overrideMediaTypes={...e.bidRequest.mediaTypes,instream:{...e.bidRequest.mediaTypes.instream,openRtbParams:{...e.bidRequest.mediaTypes.instream?.openRtbParams,...a.video}}})}return t}));return i},fw=({refreshReason:e,requestedPlacements:t,clientCtx:i})=>{const a=(e=>({pageZone:"ros",layout:tw.device,supportCode:BI(e),publisherBrand:zI(e),networkCode:"dailymotion"}))(i),[n]=t;return{context:a,placements:n?.includes("roll")?bw(i).filter((({placementId:e})=>e===n)):tI(sw(a,i),t,{gamElement:!0}),refreshReason:e}},gw=()=>{const e=[],t=e=>{const t=e.getElementsByTagName("iframe")[0];if(t&&t.dataset.hbvDisplayFormat===wa.a.outstream){const e=t.dataset.hbvVastXmlDurationInSeconds;if(e)return parseInt(e,10)+1}return 10};return e.push(Bs({adservers:new Set(["gam"]),withUnregisterListener:!1,refreshListenerKind:"timer",autorefresh:{duration:t,maxRefreshCount:700,isRefreshAllowedForElement:e=>e.elementId!==dI&&e.elementId!==mI},gamCustom:{watchParent:!0}})),e.push(Bs({adservers:new Set(["gam"]),withUnregisterListener:!1,refreshListenerKind:0===u_?"timer":"basic-timer",autorefresh:{duration:t,maxRefreshCount:700,isRefreshAllowedForElement:e=>e.elementId===dI||e.elementId===mI},gamCustom:{watchParent:!0}})),e},{debug:yw}=et.a.tag("dailymotion:set-config-action");(0,nr.b)("dailymotion:set-config",(e=>{yw("Setting up Dailymotion bidder config with: ",e),bt.setBidderConfig({bidders:["dailymotion"],config:{dailymotion:e}})}));const{error:hw,debug:vw}=et.a.tag("dailymotion:new-page-action");let _w=[];const Iw=(0,ct.a)((e=>{let t=0;document.addEventListener("visibilitychange",(async()=>{if(z_()){const i=Date.now()-t;if(t=0,i>1e3&&e.getSlots().length>0){for(const e of _w)e();await Ls(At.b.visibility),e.refresh(),_w=gw()}}else t=Date.now()}))}));(0,nr.b)("dailymotion:new-page",(async e=>{const t=(e=>(vw("parsing info",e),(e=>(0,Tt.m)(e)&&(e=>(0,Tt.c)(e)&&e.every(Tt.c))(e.additionalGlobalTargetings)&&(e=>e===ZI||e===KI||e===QI||e===ew)(e.device)&&(0,Tt.e)(e.noad)&&((0,Tt.j)(e.coppa)||(0,Tt.l)(e.coppa))&&((0,Tt.j)(e.ccpa)||(0,Tt.q)(e.ccpa))&&((0,Tt.j)(e.ppid)||(0,Tt.q)(e.ppid)))(e)?e:(hw("info given is not of the expected format! Falling back to noad page."),{additionalGlobalTargetings:[],device:KI,noad:!0})))(e);tw.device=t.device,Ae.f.setConsentData(t.ccpa||null);const[i]=await Promise.all([Io.a,U_(),w_.promise]);for(const e of _w)e();if(t.noad)return vw("noad page: destroying dfp slots"),void P_(i);const a=i.pubads();var n;a.clearTargeting(),(n=t.ppid)&&(f_.ppid[0]={source:"www.dailymotion.com",uids:[{id:n,atype:1,ext:{stype:"ppuid"}}]}),a.setTargeting("hbv_mpu_margin",t.abtests?.neon_small_mpu_margins?"true":"false");for(const e of t.additionalGlobalTargetings)a.setTargeting(...e);const r=(0,Tt.i)(t.coppa)?!!t.coppa:t.coppa;bt.setConfig({coppa:r}),a.setPrivacySettings({childDirectedTreatment:r}),await x_.promise,await Ls(At.b.pageView),a.refresh(),_w=gw(),Iw(a)})),(0,nr.b)("dailymotion:instream",(async e=>{x_=(0,Va.a)(),Ae.f.setConsentData(e.ccpa||null);const t=new Set([cw[e.roll.kind]]),i=(0,Tt.i)(e.coppa)?!!e.coppa:e.coppa;bt.setConfig({coppa:i}),mw.startDelay=e.roll.startDelay,await w_.promise,await Ls(At.b.pageView,t),x_.resolve()}));const{error:ww}=et.a.tag("dailymotion"),xw={consent:"local-storage",noConsent:"in-memory"},Tw=()=>{const e=window.__GKS__?.NEON_GDPR;return(0,Tt.e)(e)?{enabled:e,uspEnabled:!e}:{enabled:!0,uspEnabled:!0,consentTimeout:1/0,cmpTimeout:.5,shouldSkipAuctionOnConsentFailure:!1}};(async()=>{U_().catch(va.a),await(async e=>{Qn.hubvisorUntilInitDuration(performance.now());const t=performance.now();return window.Hubvisor?.ready?zs("Hubvisor has already been loaded on this website: this is an error and should be fixed"):((qs||$s)&&js("init was called more than once: please use refresh after first initialization"),$s=await e,qs=_o({options:$s,refresh:Ls}),(0,xt.a)(qs.settings),Fo(qs.settings.intrastitial),Qn.init(performance.now()-t),Po(qs.settings.secondChance),qs.settings.shouldPerformInitialAuction?Ls(At.b.pageView):void 0)})({amazon:{pubId:"dc86dcea-bef5-4256-aa8a-6fea2c32e545"},overrideBidPriority:__,additionalTargetings:h_,bidderAliases:v_,buildRefreshOptions:fw,cpmMultiplier:I_,consent:Tw(),dfp2:{shouldPerformInitialRefresh:!1,shouldRefreshNewTags:!1},ortb:{publisherName:"Dailymotion",publisherDomain:"dailymotion.com",domainBlocklist:R_,contentBlocklist:k_},nativeRendering:C_,publisherId:"01EZWD1S0HKM48S35DDHP8C9C1",support:BI(Dt.currentValue),strictGdprSettings:!0,preAuctionStep:Z_,postAuctionStep:N_,preRenderStep:eI,overrideRichMediaSettings:E_,secondChance:{adserver:"dfp",enabled:!0,mode:"boolean"},isAutoRefreshEnabled:!0,postRenderStep:Q_,shouldPerformInitialAuction:!1,storagePolicy:{settings:{consent:xw,dynamicTimeout:xw,clientContext:xw,remoteConfiguration:xw,tdid:xw,intrastitial:xw},custom:{hasConsent:e=>(0,it.d)(e.tcData,it.a.storageAccess)&&(0,it.c)(e.tcData,573)}},userSync:{prisma:{enabled:!0},adagio:{enabled:!0,useIframes:!0},nexx360:{enabled:!0,useIframes:!0},noBid:{enabled:!0,useIframes:!0},undertone:{enabled:!0,useIframes:!0},vidazoo:{enabled:!0,useIframes:!0},ppid:"www.dailymotion.com",pubProvidedId:{eidsFunction:g_}},schains:[{bidders:[b_.media152_xandr],nodes:[{asi:"152media.info",sid:"152M12",hp:1}]},{bidders:[b_.Dailymotion_Choueiri_Magnite,b_.Dailymotion_Choueiri_Equativ],nodes:[{asi:"dms-cg.com",sid:"21",hp:1}]},{bidders:[b_.Dailymotion_OnCoreDigital],nodes:[{asi:"mediafuse.com",sid:"739",hp:1}]},{bidders:[b_.Dailymotion_Discovery],nodes:[{asi:"appnexus.com",sid:"12343",hp:1}]}],shouldUseDynamicFloors:p_,beamSampling:.1,adagio:{organizationId:"1363",site:"display_dailymotion"}}),w_.resolve()})().catch((e=>ww("Hubvisor init failed",e)))},(e,t,i)=>{i.d(t,{a:()=>s});var a=i(51);const n=e=>e?e.split("&").reduce(((e,t)=>{try{const[i,a]=t.split("=").map(decodeURIComponent);i&&(e[i]=a)}catch{}return e}),{}):{},r=()=>a.a.tryCatch((()=>n(location.hash.replace(/^#/,"")))).value??{};a.a.tryCatch((()=>n(location.search.replace(/^\?/,"")))).value;let o=r();addEventListener("hashchange",(()=>{o=r()}));const s=()=>o},(e,t,i)=>{i.d(t,{a:()=>r});var a=i(74);const n={[a.a.debug]:"#9C27B0",[a.a.info]:"#4CAF50",[a.a.warn]:"#FF9800",[a.a.error]:"#F44336"},r=e=>{if(e.type===a.a.table&&console.table)console.table(...e.metadata);else{const t=(({type:e,name:t,tag:i})=>{const a=(e=>{if(!e)return"#607D8B";const t=Math.PI;return`hsl(${(e=>{let t=0;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return t})(e)*t%360}, 70%, 53%)`})(i);return{text:`%c${t}%c${e}%c${i}`,arguments:["background: linear-gradient(#4D4D4D, #5D5D5D); color: #fff; padding: 2px 4px; border-top-left-radius: 4px; border-bottom-left-radius: 4px;",`background: ${n[e]??"#000"}; color: #fff; padding: 2px 4px;`,`background: ${a}; color: #fff; padding: 2px 2px; border-top-right-radius: 4px; border-bottom-right-radius: 4px;`]}})({type:e.type,name:e.name,tag:e.tag});e.type===a.a.debug?console.debug(t.text,...t.arguments,e.message,...e.metadata):console.log(t.text,...t.arguments,e.message,...e.metadata)}}},(e,t,i)=>{i.d(t,{a:()=>a});const a=new(i(52).a)},(e,t,i)=>{i.d(t,{a:()=>n});var a=i(30);const n=(i(24),i(25)).b.then((e=>(a.e||(e=>{const t=["consent","dynamicTimeout","clientContext","remoteConfiguration","tdid","intrastitial","adnxsid"],i=new Set(Object.keys(e));for(const a of t)i.delete(a),e[a]})(e.storagePolicy.settings),e.storagePolicy)))},(e,t,i)=>{i.d(t,{a:()=>o});var a=i(32),n=i(28),r=i(1);const o=({cmp:e,storagePolicy:t},{name:i,assumeConsentBeforeCmp:o})=>{const s=new n.a((t=>{(0,r.i)(o)&&t.next({kind:"pre",value:o}),e.subscribe((e=>{t.next({kind:"post",snapshot:e})}))})),d=e=>(0,a.d)(e?.tcData,a.a.storageAccess);return new n.a((e=>{(0,n.b)([s,t]).subscribe((([t,a])=>{const n=a.custom?.hasConsent??d,r="pre"===t.kind?t.value:n(t.snapshot);e.next(r?a.settings[i].consent:a.settings[i].noConsent)}))}))}},(e,t,i)=>{i.d(t,{a:()=>n});var a=i(3);class n{registrations={};#r;#bt;constructor(e){this.#r=a.a.tag(`Registry<${e}>`)}register=(e,t)=>{this.registrations[e]&&this.#r.warn(`A module was already registered for '${e}', the previous one will be discarded`),this.registrations[e]=t,this.#r.debug(`Module '${e}' was successfully registered`),this.#$a(e)};#$a=e=>{if(!this.#bt)return;const t=this.registrations[e];if(!t)return this.#r.warn(`couldn't start module '${e}' because it wasn't registered`);try{t.start?.(this.#bt.options),this.#r.debug(`Module '${e}' was started successfully`)}catch(t){this.#r.error(`Error starting module '${e}'`,this.#bt.options,t)}};start=e=>{if(this.#bt)return this.#r.warn("start was called more than once: ignored",e);this.#bt={options:e};for(const e of Object.keys(this.registrations))this.#$a(e)}}},(e,t,i)=>{i.d(t,{a:()=>n});var a=i(3);class n{#r;items={};constructor(e){this.#r=a.a.tag(`Collection<${e}>`)}add=(e,t)=>{this.items[e]&&this.#r.warn(`A module was already registered for '${e}', the previous one will be discarded`),this.items[e]=t,this.#r.debug(`Item '${e}' was successfully added`)};list=()=>Object.entries(this.items).reduce(((e,[t,i])=>(i&&e.push({name:t,value:i}),e)),[]);get=e=>this.items[e]}},,,(e,t,i)=>{i.d(t,{a:()=>n});var a=i(1);const n=e=>t=>(e=>(0,a.m)(e)&&(0,a.l)(e.fetchTime))(t)&&e(t.value)}],t={};function i(a){var n=t[a];if(void 0!==n)return n.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,i),r.exports}i.m=e,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i(105);